


pan(l)                                                     pan(l)


NNAAMMEE
       pan - Post A Note Open Look program

SSYYNNTTAAXX
       ppaann [args...]

DDEESSCCRRIIPPTTIIOONN
       The  ppaann program keeps track of multiple text notes.  Each
       note has its own window and  associated  attributes.   The
       position,  size, and visibility of each note is maintained
       across invocations along with the note text.

       A note may be in one of three states: Visible, Hidden,  or
       Veiled.   A  visible  note has a window mapped to the dis-
       play.  A hidden note is not  mapped  to  the  display.   A
       veiled  note  is  a  note which has been dismissed via the
       window manager's window menu.  It is not mapped,  but  the
       permanent state is still "Visible".  This feature allows a
       note to be unmapped, but made visible  automatically  upon
       the  next invocation of ppaann.  A veiled note may be exposed
       just like a hidden note.

       The ppaann program accepts all  standard  Open  Look  command
       line arguments.

       In  addition, ppaann accepts the following command line argu-
       ments:

       --dd<<ddiirreeccttoorryy>>
              Set the initial pan directory.  This overrides  the
              X resource iinniittiiaallDDiirreeccttoorryy.

       All notes are automatically saved to disk when the pointer
       moves outside of the note window, or upon loss of the key-
       board  focus.   Note  that  saving to disk is only done if
       changes have been made.

       The ppaann program has one base window from which many  func-
       tions  may  be accessed.  Each note consists of a separate
       window which may or may not be mapped to the display.  The
       base window has the following buttons:

       NNeeww NNoottee
              Clicking  on this button with mouse button 1 causes
              a new blank note to be created  and  made  visible.
              This new note is created in the default folder.

              Clicking on this button and holding with mouse but-
              ton 3 will bring up a menu of folders  in  which  a
              new note may be created.

       HHiiddee NNootteess
              Clicking on this button causes all visible notes to
              be unmapped from the display.



                           July 2, 1991                         1





pan(l)                                                     pan(l)


       EExxppoossee NNootteess
              This button has a menu attached  to  it.   Clicking
              with  mouse  button  1  selects the default action.
              Pressing mouse button 3 brings up a menu.  The menu
              items are:

              AAllll
                     Expose   (make  visible)  all  notes.   This
                     option can be limited in scope via the  wwiinn--
                     ddoowwMMaaxx  X  resource.   This  is  the default
                     action.

              <<FFoollddeerrss>>
                     An additional entry for each folder is  dis-
                     played.  By moving the pointer right, a menu
                     of all hidden notes in that folder  is  dis-
                     played.   The first entry is the item "All".
                     Selecting this will expose all notes in  the
                     folder.   This action is also limited by the
                     wwiinnddoowwMMaaxx X resource.  The  remaining  items
                     are individual notes within the folder.

       AAccttiioonn
              This  button  has  a menu attached to it.  Clicking
              with mouse button 1  selects  the  default  action.
              Pressing mouse button 3 brings up a menu.  The menu
              items are:

              CCrreeaattee FFoollddeerr......
                     Selecting this menu item brings  up  another
                     window  that  allows  a  folder  name  to be
                     entered.  When this is done, ppaann will create
                     a  new  folder.   This  is  the default menu
                     item.  This may be changed with the  aaccttiioonn--
                     DDeeffaauulltt X resource.

              MMoovvee NNoottee......
                     This menu item will bring up a window with 3
                     lists.  The first list is  the  folder  ffrroomm
                     which to move notes.  The second list is the
                     folder ttoo which notes will  be  moved.   The
                     third  list  is  the  list  of  notes in the
                     source  folder.   Select   the   appropriate
                     source  and destination folders, then select
                     the note or notes to be moved and  click  on
                     the "Apply" button.  The selected notes will
                     be moved to the destination folder.

              PPrriinntt NNoottee
                     This menu item will bring up a menu  of  all
                     folders,  similar to the EExxppoossee menu.  Slid-
                     ing the pointer to the right  while  holding
                     mouse  button  3  down reveals a list of all
                     notes in the selected folder.  Highlight the



                           July 2, 1991                         2





pan(l)                                                     pan(l)


                     one to be printed and release the mouse but-
                     ton to cause the note to be printed.

              DDeessttrrooyy FFoollddeerr......
                     This menu item will pop up a window  with  a
                     list  of all available folders.  Selecting a
                     folder and then clicking the "Apply"  button
                     will  cause  all  notes in that folder to be
                     destroyed.  The folder itself will  then  be
                     destroyed.  _T_h_i_s _i_s _a_n _e_x_t_r_e_m_e_l_y _d_e_s_t_r_u_c_t_i_v_e
                     _f_u_n_c_t_i_o_n _a_n_d _s_h_o_u_l_d _b_e _u_s_e_d _w_i_t_h _g_r_e_a_t _c_a_r_e_.

              QQuuiitt
                     CCaauussee ppaann ttoo eexxiitt..

       SSeeaarrcchh::
              This  is  a  text  entry  field.  It can be used to
              enter a  regular  expression.   Upon  pressing  the
              _r_e_t_u_r_n key, ppaann will search for a note with a title
              matching the RE and expose it if there is a  single
              match.   If more than one note matches, a list win-
              dow will be displayed allowing multiple  selections
              of notes to expose.

       In  addition,  there  is an abbreviated menu button to the
       right of the  SSeeaarrcchh::  text  entry  field.   Using  the  X
       resource  sseeaarrcchhMMeennuu, a list of regular expressions may be
       specified from which to build a menu.  This allows  short-
       cut  exposures  without  typing  in  the text entry field.
       Using this menu does not destroy the contents of the  text
       entry  field.  The default menu has only 1 regular expres-
       sion: '.'.

NNOOTTEE WWIINNDDOOWWSS
       Each note window contains the following items:

       TTiittllee
              This is a scrolling text entry item.  A note  title
              may  be  entered  here.   TThhee ttiittllee ddooeess nnoott bbeeccoommee
              aaccttiivvee uunnttiill tthhee rreettuurrnn kkeeyy iiss pprreesssseedd..

       HHiiddee
              Clicking on this button will cause this note to  be
              hidden.

       AAccttiioonn
              This  is  a menu button.  Clicking on it with mouse
              button 1 will cause the default  menu  item  to  be
              selected.   Clicking on it with mouse button 3 will
              display a menu with the following items:

              PPrriinntt
                     This item will cause the note to be printed.




                           July 2, 1991                         3





pan(l)                                                     pan(l)


              WWiiddtthh <<nn>>
                     This  item  will  cause  the note's width to
                     expand so the text subwindow can accommodate
                     at  least  <<nn>>  characters  before wrapping.
                     See the  X  resource  sseettWWiiddtthh  for  a  more
                     detailed explanation.

              DDeessttrrooyy
                     This  menu  item  will cause this note to be
                     destroyed.  There is no  way  to  recover  a
                     note after this action is taken.

RREESSOOUURRCCEESS
       The  ppaann  program  will  query  the  X server for resource
       information.  The following items of information are exam-
       ined by ppaann:

       ppaann..iinniittiiaallDDiirreeccttoorryy ((ssttrriinngg))
              This resource may be defined with a directory name.
              PPaann will read this directory for notes upon startup
              instead  of  reading  the  default directory.  Note
              that the --dd  command  line  argument  can  override
              this.

              The  current default directory is "$HOME/.pan".  It
              will be created automatically by ppaann if  necessary.
              Note  that  a directory other than the default will
              nnoott be automatically created.

       ppaann..pprriinnttCCoommmmaanndd ((ssttrriinngg))
              This resource may be defined to be a  command  that
              will cause a note to be printed.

              The   current   default  command  is  "/usr/ucb/lpr
              $FILE".  Another command, including  flags  may  be
              substituted.   Two special variables are available:
              $FILE, and $NOTETITLE.  The first will contain  the
              full  path and file name of the note selected to be
              printed.  The second will contain the full title of
              the  note  selected to be printed.  If a postscript
              printer is available, a nicely  formatted  printout
              may  be  obtained  by  using 'mp -o -s "$NOTETITLE"
              $FILE | lpr'.  Don't include the single  quotes  in
              the .Xdefaults file.  I use them for emphasis only.

       ppaann..ccoonnffiirrmmDDeessttrrooyy ((bboooolleeaann))
              This resource controls whether ppaann will  display  a
              confirmation  notice  when  the destroy button on a
              note is selected.

              The default value is False.

       ppaann..nnoottiicceeBBeeeepp ((bboooolleeaann))
              This resource controls whether notices displayed by



                           July 2, 1991                         4





pan(l)                                                     pan(l)


              ppaann will be accompanied by an audible beep.

              The current default is True.

       ppaann..iiccoonnTTrraannssppaarreenntt ((bboooolleeaann))
              This  resource  controls  whether  or not the icons
              used by ppaann have a transparent background.   It  is
              retained  for  backwards compatibility.  Icon masks
              are now used, so this attribute  currently  has  no
              effect.

              The default value is False.

       ppaann..ffoollddeerrOOrrddeerr ((ssttrriinngg))
              This  is a string resource.  It consists of a comma
              separated list  of  folder  names.   This  resource
              allows  the  order  in  which folders appear in the
              menus to be specified.  Any folders not  explicitly
              mentioned  are  added to the end of the list in the
              order in which they are  encountered  when  reading
              the directory.

              The default value is "Miscellaneous".

       ppaann..ddeeffaauullttSSeeaarrcchh ((ssttrriinngg))
              This resource allows the specification of a default
              search string to appear in the "Search:"  field  in
              the base window.

              The default value is "".

       ppaann..ffoollddeerrIInnTTiittllee ((bboooolleeaann))
              This resource specifies whether or not to display a
              note's folder name along with the note title in the
              window manager's title bar.

              The default is False.

       ppaann..tteexxttFFoonntt ((ssttrriinngg))
              This resource allows the specification of an alter-
              nate font to be used  in  the  text  subwindow.   I
              highly  recommend  using  a fixed with font in this
              resource if the WWiiddtthh menu item on a note is to  be
              used.   I  have  found  that a good font is "8x13".
              (Quotes for emphasis only.)

              The default font if this resource  is  not  set  is
              chosen  by  the XView toolkit, and depends upon the
              -scale option.

       ppaann..wwiinnddoowwMMaaxx ((iinntteeggeerr))
              This resource limits the number of windows that may
              be exposed as the result of a single expose action.
              If the number would be  exceeded,  and  the  expose



                           July 2, 1991                         5





pan(l)                                                     pan(l)


              action  is  interactive,  a  confirmation notice is
              posted before ppaann will continue the operation.   If
              the  operation  is  from  the pan control language,
              wwiinnddoowwMMaaxx notes are exposed,  then  the  action  is
              halted silently.

              Use a value of -1 to disable this feature.  A value
              of 0 will cause confirmation  to  occur  for  every
              expose  action.   Any  other  value will allow that
              many notes to be  exposed  before  confirmation  is
              requested.

              The default value is 20.

       ppaann..aaccttiioonnDDeeffaauulltt ((ssttrriinngg))
              This  resource  allows the default menu item on the
              AAccttiioonn menu button on the main  ppaann  window  to  be
              chosen.   This  option  is  case  sensitive and the
              value must be spelled exactly as seen in  the  menu
              including the periods.

              The  default  value  is "Create Folder...". (Quotes
              for emphasis only.)

       ppaann..mmeennuuTTeexxttLLeennggtthh ((iinntteeggeerr))
              This option specifies the maximum number of charac-
              ters  of  the  note  titles that will appear in the
              EExxppoossee NNootteess and PPrriinntt NNoottee menus.  This allows for
              more  or less of a title to be displayed in a menu.
              Note that by default the font used in menus is pro-
              portional.  Because of this, ppaann will calculate the
              pixel width of a string of  mmeennuuTTeexxttLLeennggtthh  charac-
              ters from the average character width, then build a
              specific menu item adding or subtracting characters
              to  get  as close to the calculated value as possi-
              ble.  This allows some titles to squeeze in  a  few
              extra  characters,  and  generally  makes  the menu
              items line up better.

              The default value is 20.

       ppaann..sseettWWiiddtthh ((iinntteeggeerr))
              This resource specifies the character width that  a
              note  window  will  be set to when the note's WWiiddtthh
              <<nn>> menu item is chosen.  Note that this works best
              if a fixed width font has been specified with tteexxtt--
              FFoonntt.  The default  text  subwindow  font  size  is
              reported  inaccurately  by  XView, (especially when
              -scale is used), making it difficult to  accurately
              calculate  a proper window size.  Even with a fixed
              width font, the window  size  is  only  approximate
              because  XView  provides  no way that I can find to
              determine the scrollbar width, or the window border
              widths.    See   ttooppMMaarrggiinn   for  a  more  detailed



                           July 2, 1991                         6





pan(l)                                                     pan(l)


              explanation of window border settings.

       ppaann..llooggggiinngg ((bboooolleeaann))
              This resource is used to prevent ppaann from  creating
              a  log file during command execution.  See the sec-
              tion on CCoonnttrrooll LLaanngguuaaggee for more information.

              The default is True.

       ppaann..ttooppMMaarrggiinn ((iinntteeggeerr))
       ppaann..bboottttoommMMaarrggiinn ((iinntteeggeerr))
       ppaann..lleeffttMMaarrggiinn ((iinntteeggeerr))
       ppaann..rriigghhttMMaarrggiinn ((iinntteeggeerr))
              These resources are  used  to  indicate  the  pixel
              widths of the window manager's frame that is placed
              around pan windows.  The defaults are set  to  rea-
              sonable values for oollwwmm and oollvvwwmm.  If another win-
              dow manager is used, set these resources to  appro-
              priate values.  Failure to do this can cause ppaann to
              incorrectly calculate window sizes and widget posi-
              tions.

       ppaann..cchheecckkIInntteerrvvaall ((iinntteeggeerr))
              This resource is used to control how often the con-
              trol language file is  checked  for  new  commands.
              The value should be specified in seconds.

              The default value is 60 seconds.

       ppaann..sseeaarrcchhMMeennuu ((ssttrriinngg))
              This resource may be used to specify a list of note
              titles that will be  used  to  build  the  shortcut
              search menu.  The items must be space or comma sep-
              arated, and both single and double quotes are  sup-
              ported in case a title contains whitespace.

              The default value is ".".

       ppaann..nnootteeWWiiddtthh ((iinntteeggeerr))
       ppaann..nnootteeHHeeiigghhtt ((iinntteeggeerr))
              These  resources  are  used to indicate a preferred
              width and height for  a  newly  created  note.   By
              default,  ppaann  tries  to  create a note as small as
              possible, while making sure that  all  buttons  and
              text  items are visible.  This may be overridden by
              specifying bbootthh resources.  If only one  is  speci-
              fied, it is ignored.  The values for both are spec-
              ified in terms  of  pixels.   Note  that  if  these
              resources  are used, ppaann will not be able to adjust
              automatically to the use of the -scale option.

              The default value for both is -1  which  means  ppaann
              will  determine  the  appropriate size based on the
              scale and the fonts requested.



                           July 2, 1991                         7





pan(l)                                                     pan(l)


CCOONNTTRROOLL LLAANNGGUUAAGGEE
       New to PPaann VV33..00 is a command line  interface  and  general
       control  language.   Most of the features available in ppaann
       through the windowing interface can now be used  from  the
       command  line via a program called ppaannccmmdd.  See the manual
       entry for ppaannccmmdd for more information on how  to  use  the
       command.   This  section describes the actual control lan-
       guage since it is part of the ppaann program.

       The following actions are supported by  the  control  lan-
       guage:

              o Note Creation
              o Note Exposure
              o Note Hiding
              o Note Veiling
              o Note Printing
              o Note Movement Between Folders
              o Folder Creation
              o Pan Process Exit

       Note  that  no destructive commands have been implemented.
       The following is a list of the commands and their  syntax.
       The  convention  I use in describing the syntax is to sur-
       round optional arguments with "[]", and to  indicate  user
       required parameters with "<>".

       When  specifying  a parameter for a command, if whitespace
       must be embedded, single or double quote marks may be used
       around the parameter.

       NNoottee CCrreeaattiioonn
              newnote  [folder  <folder>]  [title  <title>] [size
              <width> <height>]
                   [location  <x>  <y>]   [hidden|visible|veiled]
              [file <name>]

              This  command causes ppaann to create a new note.  All
              parameters are  optional.   If  no  parameters  are
              specified,  the  default action is to create a note
              as if the "New Note" button had bee clicked on with
              mouse button 1.

              The folder and title options may be used to specify
              the note's folder and title respectively.  The size
              and  location  options will control the note's size
              and  location  respectively.   The  parameters  for
              these  options  are  to be specified in pixels.  By
              default, a new note is  visible,  but  any  of  the
              three  states  may  be specified for the note.  The
              optional file parameter specifies a full path  name
              of  a  file from which the contents of the note are
              to be loaded.




                           July 2, 1991                         8





pan(l)                                                     pan(l)


              Example:

                     newnote title Termcap size 500 200  location
                     10 10 visible
                          file /etc/termcap

       NNoottee EExxppoossuurree
              expose  title  <title  RE>  [windowmax  <max  #  to
              expose>]

              This command causes ppaann to expose all notes (up  to
              the  X  resource  ppaann..wwiinnddoowwMMaaxx)  with  titles that
              match the given regular expression.  If the window-
              max  parameter  is  given, it temporarily overrides
              the maximum set in the X resource database.

              Example:

                     expose title "Phone Numbers"

       NNoottee HHiiddiinngg
              hide title <title RE>

              This command  will  cause  all  notes  with  titles
              matching the given regular expression to be hidden.

              Example:

                     hide title "To Do List"

       NNoottee VVeeiilliinngg
              veil title <title RE>

              This command  will  cause  all  notes  with  titles
              matching the given regular expression to be veiled.

              Example:

                     veil title "Meeting Tomorrow"

       NNoottee PPrriinnttiinngg
              print folder <folder> title <title RE>

              This command will cause all notes within the speci-
              fied  folder  that  have  titles matching the given
              regular expression to be queued for  printing.   In
              order  to not overload the computer, ppaann will start
              only one print command (specified by the X resource
              ppaann..pprriinnttCCoommmmaanndd)  at  a time.  When the print pro-
              cess exits, the next matching note will be  queued.
              This  queuing process is done asynchronously in the
              background  so  that  the  ppaann  process  can  still
              respond to other commands and user interaction.




                           July 2, 1991                         9





pan(l)                                                     pan(l)


              Example:

                     print folder Reference title .

       NNoottee MMoovveemmeenntt BBeettwweeeenn FFoollddeerrss
              move  source  <folder> title <title RE> destination
              <folder>

              This command will move notes between folders.   All
              notes   with  titles  matching  the  given  regular
              expression in the source folder are  moved  to  the
              destination folder.

              Example:

                     move   source   Miscellaneous   title  "[Xx]
                     [Ww]indow" destination X_Notes

       FFoollddeerr CCrreeaattiioonn
              newfolder folder <name>

              This command will create a new folder.  The  folder
              name  may  not  contain whitespace or slash charac-
              ters.

              Example:

                     newfolder folder X_Notes

       PPaann PPrroocceessss EExxiitt
              quit

              This command causes the currently running ppaann  com-
              mand to exit.


NNOOTTEESS
       The  ppaann  program will accept drag and drop files from the
       Open Look file manager.  For this  feature  to  work,  the
       file icon must be dropped directly into the text subwindow
       of the note.  Dropping the icon  anywhere  else  will  not
       have any effect.

       A  late  addition to this version of ppaann is the ability to
       drag a note to another application.   The  drag  and  drop
       target  (the  small square in the upper, right-hand corner
       of the note windows) may be used for this purpose.

       If the note file directories  are  examined,  occasionally
       files  with  names ending in a "%" character will be seen.
       These files are created automatically  by  the  Open  Look
       text subwindow package, and are simply old versions of the
       note files being edited.




                           July 2, 1991                        10





pan(l)                                                     pan(l)


WWIINNDDOOWW CCLLAASSSS
       PPaann supports three different window classes for  use  with
       window  manager  properties  such  as  minimal decor.  The
       first is "PanMain".  This is the class for the  main  win-
       dow.   The second is "PanNote".  This is the class for all
       notes.  The third is "Pan" (assuming the  executable  name
       is  not  changed).   This  is used for all pop up windows,
       such as the create folder window.

FFIILLEESS
       Default note directory:
              $HOME/.pan

       Note files:
              Note_%d_%d
              Note_%d_%d.info

              where the "%d" instances are replaced by unique  id
              numbers.

FFIILLEE FFOORRMMAATT
       The "Note_%d_%d" file is a plain ASCII file containing the
       note text.  Lines are delimited by the newline  character.

       The "Note_%d_%d.info" file is a plain ASCII file currently
       containing 3 lines.

       The first line contains  4  whitespace  separated  numbers
       followed  by a text word.  The 4 numbers describe the note
       window's start x, start y, width, and  height.   The  text
       word  is  either  "VISIBLE" or "HIDDEN" describing whether
       the note is mapped to the display by default or not.

       The second line of the file contains the note title.

       The third line is an ASCII representation of  the  decimal
       number  returned by time(3) describing the note's creation
       date and time.

       An example might be:

       4    424  349  206  HIDDEN
       Note title
       664129826


BBUUGGSS
       Occasionally, when a new note is  created,  the  focus  is
       initially  in  the text sub-window instead of in the title
       panel item.  This appears to be a problem with XView.

       Under  OW3.0,  if  PgUp/PgDn  is  pressed  when   at   the
       top/bottom  of the file, the window beeps as many times as
       there are lines  visible.   This  also  appears  to  be  a



                           July 2, 1991                        11





pan(l)                                                     pan(l)


       problem  with XView.  I have been told that there might be
       a patch from Sun for this problem, but I haven't tried  to
       verify it.

       The  text sub-window package in xview creates files ending
       with a "%" character and doesn't  delete  them.   Periodi-
       cally  it is a good idea to remove them by hand to recover
       disk space.  If you accidentally destroy a note  that  had
       text in it, you _m_i_g_h_t be able to recover the text by look-
       ing through the files ending with a "%" character.

AACCKKNNOOWWLLEEDDGGEEMMEENNTTSS
       My thanks to the many people who submitted bug reports and
       requests for enhancements.  I have tried to incorporate as
       many of the ideas I received as possible into version  3.0
       of  PPaann.   I'm  not  listing specific names here because I
       didn't keep  track  of  the  people,  just  the  requests.
       Sorry.  Next time I'll keep the names too.

       If  you  don't  find  your  enhancement  request  in  this
       release, don't despair!  I was unable  to  include  every-
       thing  I  wanted to because of the demands of my real job.
       If you don't see it, and you still want it, feel  free  to
       request the feature again.

AAUUTTHHOORR
       Jeffrey Bailey






























                           July 2, 1991                        12


