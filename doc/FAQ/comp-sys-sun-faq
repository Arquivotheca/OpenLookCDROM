From: montjoy@thor.ece.uc.edu (Rob Montjoy)
Newsgroups: comp.sys.sun.admin,comp.sys.sun.misc,comp.unix.solaris,comp.answers,news.answers
Subject: FAQ: Sun Computer Administration Frequently Asked Questions
Date: 14 Apr 1995 19:22:55 GMT
Organization: University of Cincinnati
Sender: montjoy@thor.ece.uc.edu (Rob Montjoy)
Approved: news-answers-request@MIT.Edu
Expires: 12 May 1995 19:22:49 GMT
Message-ID: <comp-sys-sun-admin_797887369@babbage.ece.uc.edu>
Reply-To: Rob.Montjoy@UC.EDU
Summary: Answers to questions which appear in comp.sys.sun.*
Keywords: Sun Computer Admin FAQ


Archive-name: comp-sys-sun-faq
Last-modified: 1995/4/15
Version: 1.9.12

Frequently Asked Questions for Comp.sys.sun.admin

Last update April 15 1995

This is a collection of common questions posted to the comp.sys.sun.*
hierarchy.

Please send corrections or submissions to "Rob.Montjoy@UC.EDU". Mark
the Subject as Sun FAQ. Remember lets make this a better FAQ and
that requires submissions and corrections so if you have
an answer to a nontrival question send it to me.

This FAQ is available from thor.ece.uc.edu (129.137.8.118)
in the /pub/sun-faq/FAQs. Get the file sun-faq.general. The sun-faq
directory is also available from gopher.ece.uc.edu(129.137.8.118).
Many other related FAQ's are in this directory too.

Other FAQ's that you should check are as follows:

	Sun Hardware FAQ edited by James W. Birdsall <jwbirdsa@picarefy.com>
	Sun Managers FAQ edited by John DiMarco  <jdd@cdf.toronto.edu>
	Solaris2.x FAQ edited by Casper Dik <casper@fwi.uva.nl>
	Solaris2.x Porting FAQ by David Meyer <meyer@ns.uoregon.edu>
	Celeste's Guide to Terminals & Modems under Solaris 2.x edited
	 by Celeste Stokely <celeste@xs.com>

I try to keep these up to date copies of all these files in 
	~ftp/pub/sun-faq/FAQs on thor.ece.uc.edu (129.137.8.118)


Notes:	As of this writing almost all of these questions apply
      	to SunOS versions up to 4.1.4. SunOS 5.x questions
      	will start appearing gradually as more people start
      	installing SunOS 5.x(Solaris 2.x). 

	I am looking for suggestions on how to split this FAQ into
	sections. These sections should follow the comp.sys.sun.* 
	newsgroups(app, hardware, admin, misc, and wanted) and
	section on bettering Sun Security. Basically, what
	will end up with is a FAQ on each subject. Each
	FAQ will have a Solaris1.x Section, a Solaris2x section,
	and a section common to both.

	I will probably need some volunteers to help coordinate
	this undertaking.. Send suggestion to the usual address.

	Some of these questions are out of date and need updating
	when I get the time(or maybe a little birdie will do it for
	me) I will update them. Thanks.


This article includes answers to the following questions, which are loosely
grouped into categories. Questions marked with a '+' indicate questions
new to this issue; those with significant changes of content since the 
last issue are marked by '!'.


				Questions

 1) 	How to get DNS working when not running NIS ?
 2)  	How to get DNS to be used when running NIS ?
 3) 	How to properly setup NFS mounting of /var/spool/mail ?
 4)   	Can I use AnswerBook under X11R5?
 5)     What does "NFS write error X" mean?
 6) 	How do I find the amount of memory installed or other
	system configuration information?
 7)     Where can I get a version of ftp that does logging?
 8) 	Where can one get SunOS patches? Where can I get patch 10xxxx-xx?
 9)    	How to setup Openwindows Calendar Manager in a distributed
	environment?
10)  	Why does the talk command fail between SunOS
	and any other manufacturer's equipment (like DEC)? 
11)   	How do I setup "anonymous" ftp?
12)     How come yppasswdd does not automatically update the yp maps?
13)     What does NFS getattr failed/RPC: Authentication error mean?
14)     Why did my Quantum 105 megabyte hard disk stop working?
15)     Can I replace the 105 megabyte internal drive with a higher capacity
        model?
16)     How can I turn my Sun3 into an X-Terminal?
17)	Why is my console login prompt garbled or in some strange 
	alphabet after upgrading to 4.1.3?
18)  	Why are the "random" missing services at boot time or any other time
	(even though the services are in the /etc/services file or NIS map)?
19)	Where can I get Data Certified tapes for 8-mm tape drives (at
	a reasonable price)?
20)   	What is "archie"?
21) 	How do I synchronize time on my Network?
22)  	What is the phone number for Sun Express and other numbers of importance
	to Sun Users? 
23)  	How do I join sun related  mailing lists?
24)  	How do I use Mac floppies in a SUN drive?
25) 	How can I transfer floppies back and forth between MS-DOS and Sparc?
26)	Why is my biff not "biffing" when using biff in a networked
	environment?
27) 	How do I disable L1-A(STOP-A) or re-map it?
28)  	Why are all the local users "unknown" when using sendmail under 4.1.2?
29) 	What are the dump parameters for an exabyte 8200 or 8500?
30) 	What are the guidelines for setting up swap space ?
31)	What are the general guidelines for maxusers to be set to on machine X?
32)	What does "zsN: silo overflow" mean?
33)	What does the "N" in "zsN: silo overflow", and other "zsN" messages,
	signify?
34)	How do I set up a Sun serial port both for dial-in and dial-out?
35)	I can't get my Sun, running SunOS 4.1[.x], to establish a UUCP
	connection to some non-Sun machine; it won't log in.  What's wrong?
36) 	Do the Sun serial ports support RTS/CTS flow control?
37)	How do I specify that a serial port should, or should not, ignore the
	state of the Carrier Detect line?
38)	I put in a new "termcap" entry, or updated an existing "termcap" entry,
	for a terminal, but "vi" doesn't seem to know about my change.  Why?
39)	I have a Type 5 keyboard, and find its placement of the Caps Lock,
	Control, and Esc keys inconvenient.  How do I remedy this?
40)  	How can I move keys around on a Sun keyboard, for example exchanging the
	Caps Lock and Control keys on a Type 5 keyboard?
41)   	My Sun doesn't have an ANSI C compiler.  How can I get one?
42)  	How do I change the time zone setting on my machine?
43)	I'm getting messages that say one of the following:
	 	proc: table is full	and/or
        	file: table is full	and/or
        	dquot: table is full 	and/or
        	inode: table is full
     	What do these errors mean, and how do I fix the problem?
44)  	Blank at present.
45)  	How do I run X11R5 applications under Openwindows or Openwindows 
	applications under X11R5?
46)  	Where do I find a "restricted" shell for SunOS?
47)   	Will SunOS 4.1.x binaries run under SunOS 5.x?
48) 	When I try to compile MITs X11R4 applications under Openwindows 3.0,
	I get the following "undefined" symbols(_get_wmShellWidgetClass, and
	_get_applicationShellWidgetClass). What is the Problem?
49)    	What is Solaris?
50)     What does the "nres_gethostbyaddr !=" error mean?
51) 	How come my mouse only works in the vertical(or horizontal) direction,
        how do I repair it?
52) 	After rebuilding the shared library libc it get some or all the 
	following undefined symbols: dlsym, dlopen, dlclose mbstowcs_xccs,
			mbtowc_xccs,wcstombs_xccs, or wctomb_xccs.
53) 	What does "No network locking on host" mean after upgrading to
	Solaris 2.0?
54) 	Does Password Aging work with NIS(YP) ?
55) 	What does "rpc.lockd: Cannot contact status monitor!" mean?
56)	How do I join the Sun User Group(SUG)?
57)    	How do I increase the number of "pseudo" terminals(ptys) ?
58)  	Where are dump and restore under Solaris 2.x?
59)  	How do I make the numeric keypad on a type 5 keyboard work with xterm?
60)   	How do I swap the CAPS LOCK and CONTROL keys on a type 5 keyboard 
	under Openwindows 3.0?
61)!   	Which Sun models run which versions of SunOS?
62)  	My rdump is failing with a "Protocol botched" message. What do I do?
63)     Table of Solaris2.x commands and their Solaris1.x equivalents?
64) 	How do I setup DNS on Solaris2.x?
65)    	Can a SPARCclassic or LX run SunOS 4.1.3?
66)  	I just restored my root partation and now I can not boot. What
	is wrong?
67)  	How do I disable/enable packet forwarding?
68)  	How do I disable the printing of banners pages?
69)  	How do I change my hostname?
70)     Table of Solaris2.x files and their Solaris1.x equivalents?
71)! 	Where can I get the BSD print spooler for Solaris2.x?	 
72)!	Where is the Solaris2.x screenblank?
73)!  	Is there a command to display the configuration of 
	currently attached SCSI devices?
74) 	My printer will not print large files(over 1-megabyte), I 
	keep getting "file to big" errors. What do I do?
75)  	I keep getting "data corruption" when using NFS over a wan,
	or slip/ppp link. What do I do? 
76) 	Does anybody know how to enable UDP checksum on NFS?
77)  	Is there a mailing list for Wabi?
78)  	Are there any public domain Multi-Vendor backup management
        systems?
79) 	How to determine the revision of SuperSPARC processor.
80) 	How do I install SunOS4.1.x by hand (off a CD)?
81)	Why won't my SUN207 (Maxtor LXT213) hard drive work in
        my SPARCstation 10/xx?
82)! 	I'm running SunOS/4.1.x and every time I try to format my
    	new 9GB SCSI disk I get "format failed" messages -- what's
    	broke, and how can I fix it?
83)!   	I can not get my new Exabyte 8505 (or others) working under
     	SunOS (or Solaris) What to do ?
84)  	The keyboard keeps stop working after exiting X or Openwin.
	What to do?
85)!  	How do I re-build the kernel under SunOS4.x?
86)  	How do I hook up a HP(or other) Desktop SCANNER?
87)!  	How do I find which process has a file open?
88)   	How do I create a partition greater than 2-gig on SunOS4.1.x?
89)   	Why do I keep having to answer the question 
	"CLEAN FLAG IN SUPERBLOCK IS WRONG; Fix?" when running fsck on
	an active filesystem?
90) 	Are dynamically linked setuid executables insecure?
91) 	How do I change the default router under Solaris1.x or Solaris2.x?
92) 	What is the difference between the Domestic vs International version
	of SunOS 4.1.x?
93) 	Where can I get the latest version of TOP?
94) 	Can I run the SX card in a Sun running SunOS4.1.x?
95) 	I just changed my shell to tcsh(or pick a favorite) and
	get  "530 User xyzz access denied" when ftping into this 
	machine. What is the problem?
96)	How do I put several dump images on one tape?
97) 	Can I "dump" the whole disk to tape in one command?
	(even with several slices/partitions)
98) 	Where do I get software for my HP JetDirect Ethernet Card?
99) 	I do not know the root password, What do I do?
100)  	Where do I find a POP server for Solaris or SunOS?
101) 	How do I clear Stale NFS Filehandles?
102) 	How can I use the same ethernet interface for two different IP networks?
103) 	Where do I get CAP for Solaris (or SunOS 4.1.x)?
104) 	Where do I get DOOM for Solaris (or SunOS 4.1.x)?
105)	Why does "dump/ufsdump" tell me it is rewinding the tape even
	when I specified the "no rewind" device?
106)	How can you I speed up filesystem restores and/or copies?







				Answers

 1) 	How to get DNS working when not running NIS ?

	Note: Solaris2.x users should see question 64..
	
        The "normal" behavior of a hostname lookup under NIS is to
        consult the NIS hosts map and then DNS (if configured). If
	you are not running NIS the system will only look in 
	the /etc/hosts file. 

	You have two options to correct this situation:

		A) Re-build the shared library version of libc with replacement
		   resolver routines which understand DNS. Resolv+ provides one
	           of the best sets of replacement routines and it is easy
		   to install. Resolv+ can be obtained from

		   	thor.ece.uc.edu:/pub/sun-faq/Source/resolv+2.1.1.tar.Z

		   Rebuilding the shared library will not allow  statically
		   linked binaries to do name resolving and these binaries
		   will only use /etc/hosts. "Dynamically linked"
		   replacements for mount and rcp are available from

	   		thor.ece.uc.edu:/pub/sun-faq/Source/rcp-mount.dyn.tar.Z

		   This file only contains sun4 binaries. A Sun 3 binary
		   for mount can be retrieved from

	   		thor.ece.uc.edu:/pub/sun-faq/Source/mount.sun3.Z
		
		   To be able to rebuild shared libraries you need to 
		   install the "shlib custom" option which is available
		   with SunOS version 4.1 or greater. 

		   If you want to do it under 4.0.3 you need to get the
		   patches available from ftp.uu.net (192.48.96.9) in the
		   /systems/sun/sun-fixes directory. You will need the following
		   files: 
			lib.msg, libc_pic.a.sun3 or libc_pic.a.sun4 and
			libc_resolv.so.sun3 or libc_resolv.so.sun4

		   Make sure to get the README that cames with these files.
		   It is in the same directory.
		   
        	   You can still use NIS for other things in environment,
	           such as passwd, and group maps.

		B) Run NIS with the "hosts" maps only. If you 
		   only need DNS capability than change the "all"
		   line /var/yp/Makefile to "all:  hosts".  

		   It does not require any changes to shared libraries.
		
		   See question 2 for complete directions on how to setup
		   DNS with NIS.

	Last Updated:  January 30, 1995.
 
 2) 	How to get DNS to be used when running NIS ?

	First setup your /etc/resolv.conf file.

	Use this file as a template.

	;
	; Data file for a client.
	;
	domain		ece.uc.edu		; local domain 
	nameserver	129.137.8.118		; primary domain nameserver
	nameserver	129.137.32.101		; secondary domain nameserver 

	Where:	"local domain" is the domain part of the hostnames.
		 For example, if your hostname is "thor.ece.uc.edu"
		 your "local domain" is "ece.uc.edu" or you could use
		"uc.edu". 

	Verify using nslookup that you are now resolving names
	via DNS. Try something like "nslookup ftp.uu.net" and
	see if you get back the IP address.

	You will need to put a copy of this resolv.conf on
	all NIS servers including slaves.

	After you have the /etc/resolv.conf setup and working do 
	the following:

	Under SunOS 4.1 and greater, change the "B=" at the top
	of the /var/yp/Makefile to "B=-b" or if using 4.0.x, edit
	/var/yp/Makefile or apply the following "diff":

*** Makefile.orig       Wed Jan 10 13:22:11 1990
--- Makefile    Wed Jan 10 13:22:01 1990
***************
*** 63 ****
!                   | $(MAKEDBM) - $(YPDBDIR)/$(DOM)/hosts.byname; \
--- 63 ----
!                   | $(MAKEDBM) -b - $(YPDBDIR)/$(DOM)/hosts.byname; \
***************
*** 66 ****
!                   | $(MAKEDBM) - $(YPDBDIR)/$(DOM)/hosts.byaddr; \
--- 66 ----
!                   | $(MAKEDBM) -b - $(YPDBDIR)/$(DOM)/hosts.byaddr; \

	Now setup NIS in the usual fashion (ypinit -m ) or if your "brave"
	and have already setup NIS just re-make the hosts map. Something
	like this should work remove /var/yp/hosts.time, cd /var/yp, 
	and type make (i.e. cd /var/yp; /bin/rm -f hosts.time ; make).


	You will need reboot the machine or restart ypserv for these changes
	to take affect.

	The manpage for ypserv incorrectly states that you need to
	start ypserv with the -d option to get DNS to work with NIS.
	The manpage is incorrect -d option is for debugging.

	If you need a copy of the NIS Makefile look in /usr/lib (NIS.Makefile).

	Last Updated:  January 30, 1995.

 
 3)	How to properly setup NFS mounting of /var/spool/mail ?

	On the Client machines:

		A) mount /var/spool/mail with the no attribute caching
		   option.
		
		   An example, fstab line would be the following:

		   mailhost:/var/spool/mail /var/spool/mail nfs rw,noac 0 0

		B) Use a sendmail.cf that forces all mail to be delivered
		   by the mailhost. 

		   One such file is available via anonymous ftp to 
		   thor.ece.uc.edu. Get the file 

				/pub/sun-faq/sendmail.client.cf

		   Do not use the OR option that Sun provides. It is broken
		   in many ways.

	On the server machine:
	
		A) Setup DNS MX records pointing to the mailhost for
		   all client machines.

		B) Edit the /etc/exports file to export /var/spool/mail
		   to the mail client machines. You may want
		   to use a netgroup for this purpose.

		C) Setup the /etc/sendmail.cf on the server recognize
		   that mail to/from a client is "local".

		   One such file is available via anonymous ftp to 
		   thor.ece.uc.edu. Get the file 

				/pub/sun-faq/sendmail.server.cf
		
	Note: 	You may want to install Berkeley sendmail instead of Suns
		stock sendmail. 



 4) 	Can I use AnswerBook under X11R5(6)?

	AnswerBook in its current form requires the Openwindows
	server. It uses the NeWS/Display Postscript extensions
	to this server to display the Answerbook files.

	To use AnswerBook under X11R5 you will need to replace the 
	docviewer program with program that calls Ghostscript to view
	these pages.  A replacement docviewer can downloaded from
	thor.ece.uc.edu(129.137.8.118) as /pub/sun-faq/Source/docviewer.tar.gz
	This kit contains more than one  docviewer. Try using
	the one in the toplevel docviewer directory.

	This replacement docviewer does not support all the options that
 	the "real" docviewer supports such as "hypertext" links.

	To install the replacement "docviewer" you will also need 
	Ghostscript 2.4 or above and Ghostview 1.3 or above both of
 	which are available from prep.ai.mit.edu in the /pub/gnu directory.

	This replacement docviewer is reported to work with all versions
	of AnswerBook but not as well as the original :).
	

 5)     What does "NFS write error X" mean?

        You can lookup the error codes in /usr/include/sys/errno.h.

        Two common NFS error codes are 13 - "permission denied" and 70 -
        "stale file handle".

	Error code 13 can occur from incorrect /etc/exports entry. Also,
	it can occur because someone has changed the /etc/exports
	entry to disallow the client after the client has already
	been granted permission to perform this operation.

        Error code 70 occurs when the file handle on the
	NFS server changes for a particular filesystem.
	The "file handle" can be changed under the following
	circumstances:
		
		A) Installing a new drive in place of an old.

		B) Moving a filesystem from one devices to
		   another.

		C) Performing a format, newfs, dump, and restore
		   cycle. Even if to the same device.

		D) Unmounting a file system without remounting it.

		E) Unmounting a High Sierra/ISO 9660 CD-ROM and
	           mounting a different CD.

        You can usually get rid of the error by unmounting and
        remounting the filesystem in question. 

	Also, error code 70 can occur when someone removes a file 
	that a process is actively writing from a NFS client machine.

        Under SunOS 4.1, you can run "showfh" to translate the NFS
        "file handle" given in the error message into a Unix pathname.
        Beware that showfhd does a "find" on your server to get the
        filename.  "man 2 intro" will give you some more general
        information on what error codes could mean.

	You will need a patch to get "showfh" to work correctly. The patch
	id is 100371 and this patch is required for 4.1, 4.1.1, and 4.1.2.
	This patch has been integrated into 4.1.3.

 6)	How do I find the amount of memory installed or other
	system configuration information?

	You can use the "devinfo" command to find out genera information 
	about the hardware attached to your Sun. The "devinfo" command is 
        only available on desktop SPARCsystems, SPARCengine 1E(although not
        in the version used in Auspex systems), or 600MP series server only.

	Also, most clones should support devinfo.  Any machine that has an 
	SBus will probably support "devinfo"; any machine that doesn't have an
	SBus probably won't support "devinfo".
	
	The "best" command for the job is "sysinfo". Sysinfo is public
	domain utility available via "anonymous" ftp on usc.edu in directory
	/pub/sysinfo. Sysinfo works on all Sun architectures(including Sun-3s)
        as well as many other UNIX boxes such as Ultrix, and Next. Also,
	it works on SunOS5.x machines.

	Note:  "wc -l /dev/mem" and "dd if=/dev/mem of=/dev/null" and 
               the like will *not* give the correct answer on machines 
	       where physical memory is not contiguous, such as many Suns.


 7)     Where can I get a version of ftp that does logging?

	Get the wuarchive ftp daemon. It is available from
        wuarchive.wustl.edu (128.252.135.4) in the directory
        /packages/wuarchive-ftpd

	A version of the wuarchive ftpd daemon that compiles right out
	of the box for Solaris2.x machines can be had from
	thor.ece.uc.edu(129.137.8.118) in the /pub/sun-faq directory.
	Remember to specify your own paths in the src/pathnames.h file.

	The stock Sun ftpd will log some information if you add the "-l"
       	flag in /etc/inetd.conf:

        	ftp stream tcp nowait root /usr/etc/in.ftpd in.ftpd -l

        Also enable syslogd by adding:

        daemon.info      /var/adm/syslog

        to "/etc/syslog.conf".


 8)     Where can one get SunOS patches? Where can I get patch 10xxxx-xx?

        Many anonymous ftp sites have partial collections of patches.
        These sites include the following:
	
	Sun sanctioned sites:
		sunsolve1.sun.com:/pub/patches/
    			via WWW http://sunsolve1.sun.com/
		sunsite.unc.edu:/pub/sun-info/sun-patches/
    		sunsite.unc.edu:/pub/sun-info/sun-patches/
    		sunsite.sut.ac.jp:/pub/sun-info/sun-us/sun-patches/
    		sunsite.doc.ic.ac.uk:/sun/sunsite-sun-info/sun-patches/

	Note: You should always attempt to find a local site before
	      using the above.

	sunsolve1.sun.com contains a collection of recommended and 
	security patches. Be sure to check out the 2.x_Recommended.tar.Z
	files which contain all the Recommended patches in  one file.
	The "Sunsites" are essentially mirrors of sunsolve.

	Support Customers:

    	Starting with SunSolve CD 2.1.2 ALL Sun patches are shipped
    	on the SunSolve CD.

    	Support customers can get all patches via ftp from Sunsolve
    	or by e-mail and query one of the online sunsolve-databases
    	on the internet.

	Some notes:	

	Do install the Recommended patches. 

	If you find a bug report it to Sun. This is the only way
	it will get fixed.

	Do not "blindly" install all patches. Sun does not always
	have time to test for possible interactions between patches.

	Do not install patches for applications that you to do use.

	Do install patches for "bugs" that are actually affecting you.

	Last Updated:  January 30, 1995.


 9)	How to setup Openwindows Calendar Manager in a distributed
	environment?

	Sun's original assumption that each user has a permanent machine 
	allocated to them is not applicable in most environments. Just as 
	users send mail to 'user' rather than 'user@machine', users want 
	to browse others user's calendars and do not care or want to know
	where the calendar is actually stored.

	Here is procedure to accomplish our goal. All calendars
	will be stored on a central server. The initial setup
	must be done on the server.

		A) Have the user login to the calendar host(calhost)
		   machine.
		
		B) Change everyone's .cm.rc file so that 
		   Calendar.DefaultCal points to user@calhost

		   calhost can be an hostname alias or an actual
		   hostname. You may want to use the alias
		   just in case you change the "calhost" later.
	
		C) Change their Access List and Permissions (under
	           Edit/Properties) to show user@client with BID (browse,
	           insert, delete) permissions for any client machine the
		   user wanted to access their calendar from.

	Notes: If you use the scheme you should not NFS mount 
	       /var/spool/calendar on the client machines.

	or

	You can install the "Proxy OpenWindows Calendar Manager", which
	is available via anonymous FTP from thor.ece.uc.edu in
	/pub/sun-faq/proxy-cmsd.tar.Z.

	or
	
	You can install the "new cm daemon" which allows you to access
	several Calendar hosts at once. It implements the "original"
	rpc.cmsd daemon semantics(unlike proxy-cmsd) and thus all
	the features(of CM) will work as documented.  The latest source
	for this daemon was available via anonymous FTP from
	ftp.amdahl.com (129.212.11.1) in the  /pub/newcm_d directory
	but alas it is no longer but you can still get a copy from
	from thor.ece.uc.edu as /pub/sun-faq/newcm_d-1.3.tar.Z

	As of this writing newcm is being ported to Solaris2.x.

10) 	Why does the talk command fail between SunOS
	and any other manufacturer's equipment(like DEC)? 

	SunOS has the old BSD 4.2 version of talk. The old talk
	uses "machine dependent" byte ordering. Since
	DEC has different byte order the two talks can not
	communicate(even if you use "otalk" on the DEC
	machines).
	
	Also, most vendors have the newer version of 
	talk from BSD-4.3 and this version is not compatible
	with the Sun Version(which is BSD-4.2).

	The solution is to get and install the new version
	of talk because it uses "network" byte ordering and
	it is compatible with most Vendors current talk 
	implementations.
	
	"New Talk" is available via anonymous ftp from several
	sites including thor.ece.uc.edu. Get the file 
	/pub/sun-faq/Source/ntalk.tar.Z.   Solaris2.x users will need
	to compile this in Berkeley compatibility mode.
	
	Finally, a program called Ytalk can be used with either
	"New talk" or "Old talk" and compiles on all versions
	of SunOS(Greater than 4.x including 5.x).
	Ytalk can be obtained from thor.ece.uc.edu. Get the file
		/pub/sun-faq/Source/ytalk-3.0.x.tar.gz

11)	How do I setup "anonymous" ftp?
	
        Read the man page ftpd(8) in the SunOS 4.x documentation, as 
        the procedure differs from vanilla BSD and most examples in 
        system administration books. 

	The "ls" binary is dynamically linked, requiring you to 
	duplicate ld.so, libc.so.* and /dev/zero in the ftp area.
	The permissions and ownership of the files within the 
        ftp area are critical to having a secure configuration.
	
	Note: For SunOS versions 4.1.2 and 4.1.3 you will need
	      to copy /usr/lib/libdl.so.* to the ftp area as well.

	You can use a "statically" linked binary from the GNU
	fileutils instead of the "dynamically" linked SunOS
	version. You can get the GNU fileutils from prep.ai.mit.edu
	in the directory /pub/gnu

	There is also a statically linked version of ls for Suns
	running SunOS 4.1.x, available via anonymous ftp from
	thor.ece.uc.edu.  Get the file /pub/sun-faq/ls.statically-linked
	or get it from the SunOS install CD in the "tools" directory.

	A complete procedure to setup anonymous under SunOS is
	available via anonymous ftp to thor.ece.uc.edu. Get
	the file /pub/sun-faq/anon-ftp.how-to.

	There is an _excellent_ script written by Peter N. Lewis
	(peter.lewis@info.curtin.edu.au) for setting up anonymous ftp
	located on thor.ece.uc.edu, in the file /pub/sun-faq/anon-ftp.scrpt

12)     How come yppasswdd does not automatically update the yp maps?

        There is a bug in 4.1 rpc.yppasswdd that causes it misinterpret
        the command line arguments.  A work-around is to add the
        "-nosingle" flag (which is the default), this shifts the
        arguments over one, so "passwd" is read instead of "-m".
	Also, you should use the complete path to rpc.yppasswdd

        For example:

        /usr/etc/rpc.yppasswdd /var/yp/passwd -nosingle -m passwd DIR=/var/yp

	Note: Only use the DIR=/var/yp if your source files for passwd, group,
	      etc are in /var/yp. If they are in /etc you do not need
              to specify DIR=
            
        If you are running the C2 security package, you should apply
        the C2 Jumbo patch, as it fixes several problems with rpc.yppasswdd
	and rpc.pwdauthd. The patch number is

	100201-04 for SunOS 4.1 and 4.1.1
	100564-06 for SunOS 4.1.2 and 4.1.3

13)     What does NFS getattr failed/RPC: Authentication error mean?

        You are probably running a pre-4.0 version of NFS and your
        username is in more than 8 groups.  There is a limit on the
        number of groups that could be represented in the rpc service
        (called NGRPS).  On pre-4.0 systems this was 8, now it is 16.
        Since many vendors other than Sun are still running old versions
        of NFS, you might see this error even if your SunOS is recent.

        Authentication errors are also caused by having secure RPC
        enabled on the client but not on the server, or by having a
        misconfigured secure RPC configuration for the user name
        generating the errors.  Beware of this problem when you are
        using the automounter, as programs (such as Sendmail) may
        silently fail when when they try to mount a directory
        and get this error.


14)     Why did my Quantum 105 megabyte hard disk stop working?

	This the now infamous Quantum drive "stickation" problem.

	If the drive is allowed to cool down(even for a short period 
	of time) the drive lubricant will congeal and prevent the disks
	platters from rotating. 

	Before you get a replacement, try lightly tapping
        the drive to loosen the lubricant. If this does not work try
	shaking and twisting the drive at the same time. One last
	thing to try is to lift the system up a couple of inches
	and drop it.

15)     Can I replace the 105 megabyte internal drive with a higher capacity
        model?

	The newer disk drives can be used without worrying about heat
	or power supply capacity problems. 

	However, older technology drives drives create more heat and draw
	more power than the 105S.  The case cooling ability and power supply
        in the SS-1 and SS-1+ are not adequate for the 210 megabyte or higher
        capacity drives possible in the SS-2.

	As long as you make sure that the drive draws no more power
	than the 105-Meg drive you should have no problems.

	Only the SPARCstation 1 and 1+ have these limitations.

16)     How can I turn my Sun3 into an X-Terminal?

        You can use Seth Robertson's Xkernel package.  It is available
        via anonymous ftp from ftp.ctr.columbia.edu (128.59.64.40) in
        /Xkernel.  The package describes how to configure a minimal kernel
        that runs the X server and offloads all the clients onto another,
        hopefully more powerful host on the network. 

	As of this writing the current version of Xkernel is 2.0 and
	it should work on both SPARC and Sun3 platforms.

	Xkernel is attractive to some sites that have a large investment in 
        sun3 platforms, as moving  most of the processing off the sun3 
        cpu makes it tolerable to use.  

	Finally, a used 3/50 is competitive with low-end X Terminal and 
        you get a 19" monitor with an optical mouse.  


17)	Why is my console login prompt garbled or in some strange
	alphabet after upgrading to 4.1.3?

        The problem is /etc/ttytab, with 4.1.3, the console is now
	able to display 8 bits characters and getty must take this 
	into account.

	The solution is easy, replace your console entry in /etc/ttytab 
	by the following, the important part is 'cons8':

	console "/usr/etc/getty cons8"  sun             on local secure

	Also, if you did an upgrade(instead of a full install) you may 
	need to add the following to your /etc/gettytab.

	# This is a new entry to internationalize the console.  It needs to be
	# 8 bit clean so that ISO 8859 characters can be displayed without
	# the window system.
	#
	cons8:\
        	:p8:lm=\r\n%h login\72 :sp#9600:


18)  	Why are the "random" missing services at boot time or any other time
	(even though the services are in the /etc/services file or NIS map)?

	The three primary causes for "random" missing services are
	as follows:

		A) "Blank" lines in /etc/services on the YP/NIS Master.
		   Delete the blank line and remake the services map.

		B) Check the permissions on /etc/services. Non-root
		   processes need read permissions so /etc/services
		   should be mode 644.

		C) NIS/YP server not responding quickly enough
		   to the "getservbyname" call because each getservbyname
		   call reads the whole map.  One fix is to replace the 
		   systems version of inetd with a version that re-tries the
		   "unknown" service.

		   I have "hacked" a version of munetd(public domain
		   replacement for inetd) to do this. It is available
		   from thor.ece.uc.edu. Get the file 
			/pub/sun-faq/Source/munetd.tar.Z

		   Another solution to this problem is outlined in part C below.

		D) Sun's implementation of the services map is incorrect. To
	           correct this problem you will need to replace some library
		   routines in libc and rebuild the shared library.
		   These routines and directions on installing them are
		   available from thor.ece.uc.edu.  Get the file 
		   /pub/sun-faq/Source/getservent.tar.Z.

		E) Another fix(if you do not want to modify your libc's) is
		   to just remove the services map from NIS. However,
		   you will need to update the services file by hand on
		   all clients. We are running all NIS hosts this way and
	           it seems to work quite well.

		

19)	Where can I get Data Certified tapes for 8-mm tape drives(at
	reasonable price)?

	Here is an incomplete list of vendors how have "data certified"
	tapes for the exabyte.

	Misco 			  800-876-1726   $12 - 15 each.	
	TecBridge		  800-972-7405   $12 - 15 each.
	R-Squared		  800-777-3478	 Sony 112m 120@8.00 Each
	K and K Systems		  612-475-1527	 $10 Each
	SCR			  314-739-0808	 $10.95 for Memorex

20)	What is "archie"?

	Archie is a database of what is on several thousand anonymous 
	ftp sites. 

	To use archie get one of the three archie clients which
	are as follows:

		xarchie		-	For use under X11
		c-archie	- 	Curses version of Archie
		archie		- 	Perl Version of Archie
	
	Theses are available from archie.ans.net in the directory 
	/pub/archie.

	List of other publicly available archie servers:

	archie.rutgers.edu   128.6.18.15     (Rutgers University)
	archie.unl.edu       129.93.1.14     (University of Nebraska 
	                                      in Lincoln)
	archie.sura.net      128.167.254.179 (SURAnet archie server)
	archie.ans.net       147.225.1.2     (ANS archie server)
	archie.au            139.130.4.6     (Australian server)
	archie.funet.fi      128.214.6.100   (European server in Finland)
	archie.doc.ic.ac.uk  146.169.11.3    (UK/England server)
	archie.cs.huji.ac.il 132.65.6.15     (Israel server)
	archie.wide.ad.jp    133.4.3.6       (Japanese server)
	archie.th-darmstadt.de 130.83.128.111 (German server)

	
21)	How do I synchronize time on my Network?

	You should use xntp version 3 to synchronize your time. Xntp 
	synchronizes to "atomic" and/or Radio Frequency clocks. Using
	xntp time should always be within a few "milliseconds" of the
	actual time. Xntp does not require a "atomic" clock, any
	stable UNIX host clock will do.

	xntp is available from louie.udel.edu. 
	Get the file /pub/ntp/xntp3?.tar.Z where ? is replaced by the
	latest version letter.

	You will need clock.txt available from the same place.

	xntp works with all versions of SunOS(4.x and 5.x).

	Note: There is a Mac Control version of XNTP now available.

22)	What is the phone number for Sun Express and other numbers of importance
	to Sun Users? 

	Sun Express: 		1-800-USE-SUNX (1-800-873-7869)
	Main Sun Helpline: 	1-800-USA-4SUN (1-800-872-4786)

	Auspex Systems Inc. :   2952 Bunker Hill Lane
	                        Santa Clara, CA 95054
	                        (800) 735-3177 or (408) 492-0900
                                Fax: (408) 492-0909
	

23) 	How do I join sun related  mailing lists?

	Mailing Lists:

	Sun Managers:	Used for "emergency" information only. The
			users of this list are "very" knowledgeable.
		sun-managers-request@eecs.nwu.edu	add requests
		sun-managers@eecs.nwu.edu		submissions

    	Sun-386i:   discussion about the Sun 386i product
        	sun-386i-request@ssg.com		add requests
        	sun-386i@ssg.com	                submissions

    	Suns-at-home:   discussion about maintaining Sun2/3/4/4c
                    	systems at home
        	suns-at-home-request@harbor.ecn.purdue.edu   add requests
        	suns-at-home@harbor.ecn.purdue.edu           submissions

    	Auspex:  managers of Auspex NFS file servers
        	auspex-request@princeton.edu                    add requests
        	auspex@princeton.edu                            submissions

    	Epoch:  managers of Epoch NFS file servers       
        	EPoch Users Forum  (EPUF)             
        	epuf-request@mcs.anl.gov                        add requests 
        	epuf@mcs.anl.gov                                submissions

	Various SunFlash Mailing Lists:

	SunFlash: 
		  Articles about Sun from Sun. Includes Press Releases,
		  detailed intros, Sun e-newsletters, sunergy announcements
		  
		  John J. McLaughlin Editor/Publisher (flash@sun.com)
		  
		  Available in a variety of formats:
		  List name	  Description
		   
		  sunflash	  daily sunflash. Many articles will have just
		  		  summaries for the articles posted.
		  		  use the autoresponder to get the full text
		  sunflash-f	  full list - all articles - no summaries
		  sunflash-w      weekly list - one summary article per week
		  sunflash-m      monthly list - one summary article per week
		  mt-sunflash	  summary article in the message body, and
		  		  all articles included as MailTool style
		  		  attachemensts
		  mime-sunflash   like mt-sunflash, but with MIME attachements
		  mt-sunflash-w   like mt-sunflash but once per week
		  mime-sunflash-w like mime-sunflash but once per week
		  
		  Subscribe by sending email to majordomo@flashback.com
		  The message body should contain the word subscribe
		  followed by one of above lists names. E.g.
		  	subscribe mt-sunflash
		  
		  
	The Sun FlashBack:
		  Articles of interest to the Sun community from
		  vendors other than Sun. Includes Press Releases,
		  Sun User Group announcements, Product announcements,
		  Company newsletters, newsletter table of contents
		  (e.g. "HPCwire", "WEBster', "SPARCFlash"), 
		  trade magazine table of contents (e.g. "Advanced Systems",
		  "Open Computing", "Sun Onserver"), Conference/Seminar/
		  Trade-Show announcements, Text Book announcements,
		  Sponsored technical articles.
		  
		  John J. McLaughlin Editor/Publisher (flash@flashback.com)
		  
		  Available in a variety of formats:
		  List name	  Description
		   
		  flashback	  daily flashback. Many articles will have just
		  		  summaries for the articles posted.
		  		  use the autoresponder to get the full text
		  flashback-f	  full list - all articles - no summaries
		  flashback-w     weekly list - one summary article per week
		  flashback-m     monthly list - one summary article per week
		  mt-flashback	  summary article in the message body, and
		  		  all articles included as MailTool style
		  		  attachemensts
		  mime-flashback   like mt-flashback, but with MIME attachements
		  mt-flashback-w   like mt-flashback but once per week
		  mime-flashback-w like mime-flashback but once per week
		  
		  Subscribe by sending email to majordomo@flashback.com
		  The message body should contain the word subscribe
		  followed by one of above lists names. E.g.
		  	subscribe mt-flashback
		  
		  Send for intro (article 9001), help, index or fullindex
		  to flashback@flashback.com.
		  ftp archives on draco.nova.edu pub/sunflash
		  WWW files on draco.nova.edu pub/sunflash/www
		  URL ftp://draco.nova.edu/pub/sunflash/www/index.html


	NOTE!!!  if you wish to be added to one of the above mailing lists,
	         send mail to the REQUEST address!  Do not send add requests 
		 to the main address!

	Last Updated:  January 25, 1995.

24)	How do I use Mac floppies in a SUN drive?
	
	You can not use "real" Mac floppies without buying either
	one of the emulator packages like Liken from Andataco(?) or
	Mae from Apple (only runs on Solaris2.3 or above). They
	is another product or two that just allows you to mount
	Macintosh floppies onto your Sun but the vendors
	and product names escape me now.

	That said if all you want to do is exchange files
	the easiest way is to use suntar on the Macintosh to
	copy files to a "high density" floppy.  Then you can use 
	"tar" or "bar" on the Sun to get the files off this floppy.
	It is available from thor.ece.uc.edu(129.137.8.118)
	as /pub/sun-faq/Source/suntar-203.hqx or visit
	the Info Mac archives at wuarchive.wustl.edu.

	or

	You could use the Apple File Exchanger to translate
	the files to MS-DOS format. Then use one of the many 
	methods for transferring MS-DOS disks to Sun. System 7.5 now
	mounts dos floppies automatically no need for Apple File
	Exchanger.

	These methods should only be used with files like ascii files,
	wordprocessor files, and  spreadsheet data files. Mac
	application programs should not be transfered.
	
	Finally, low density Mac floppies are not compatable
	with Sun floppy drives. 
	
	Last Updated:  January 27, 1995.


25)	How can I transfer floppies back and forth between MS-DOS and Sparc?

	For Solaris2.2 and above you can use the Volume Manager to
	control your disks and CD-ROM's. Under SunOS 4.0 there are two 
	packages which allow you to do mount floppies (mtools and mntdisk).
	Both of these packages use the 3-1/2inch floppy drive available
        on most SPARCstations.  Mntdisk can be used to manage CD-ROMS
	and other removable media types as well.

	With the advent of the Volume manager in Solaris2.2 these programs
	have been rendered somewhat obsolete. Under Solaris2.x use
	volcheck -v to check in a floppy. Than you can use normal UNIX
	commands on this floppy like cd, mkdir, cp, mv, and ls. It usually 
	gets mounted on /vol/floppy0

	Mtools writes directly to the floppy device and it does not
	require any special privileges. It is faster than mntdisk
	but it requires the user to learn a new set of commands.
	A copy of mtools can be found at 

		thor.ece.uc.edu:/pub/sun-faq/Source/mtools-2.0.7.tar.Z

	With the proper changes to the source code mtools can even
	be made to work with the Solaris2.x Volume Manager. All 
	you need to do is make mtools look in /vol/dev/diskette/...
	for the floppy devices. 

	mntdisk "mounts" the floppy using the "pcfs" filesystem type. Once
	mounted you can use regular UNIX commands(cp,mv,and rm)
	to access it. The pcfs filesystem is quite slow compared
	to using mtools above.  Mntdisk is available in your local 
	comp.sources.misc archive, Volume 22, Issues 31-33. 
	Mntdsk can be used to mount CD-ROMS and even UFS floppies.

	You should never use "setuid" shell scripts for mounting floppies.
	Also, C programs that use the system() function call should
	not be used either. Both can open up huge security holes
	which hackers can be used to break into your system.

	
	Last Updated:  January 27, 1995.


26)	Why is my biff not "biffing" when using biff in a networked
	environment?

	In its current form comsat/biff are only usable on the mail
	server. You need to replace them network capable programs.

	A shar file containing network capable versions of comsat
	and biff is available from thor.ece.uc.edu. Get the
	file /pub/sun-faq/Source/biff-comsat.

27)	How do I disable L1-A(STOP-A) or re-map it?

	You need to get one of the many re-mapping programs. Two
	of these are available from thor.ece.uc.edu. Get the file
	disable-L1-A.tar.Z

	Always password protect your NVRAM. Set the security 
	to command otherwise anyone can set this password
	to anything they want. Of course you can get it back
	as root by doing a strings /dev/eeprom and it should
	show up in plain text. This assumes you have root
	access.

28) 	Why are all the local users "unknown" when using sendmail under 4.1.2?

	There is a known problem with sendmail and frozen config
	files under 4.1.2.

	The fix is to remove /etc/sendmail.fc. Also, You could 
	try moving it to the end of /etc/rc.local.
	
	However, the best "fix" may be to install the new Berkeley 
	Sendmail it has a number of enhancements, performance
	improvements, and security enhancements.
	
	You can get Berkeley sendmail from ftp.cs.berkeley.edu(128.32.149.78).
	Get the following files: /ucb/sendmail/*8*6*9*
				 /ucb/4bsd/db.tar.Z
	Also, you will need bind 4.9 and it can be found on
	gatekeeper.dec.com(16.1.0.2) in the /pub/BSD/bind/4.9
	directory.

	Finally, if you do not want to build the Berkeley sendmail for
	yourself I will be willing to mail you a copy.

29)	What are the dump parameters for an exabyte 8200 or 8500?

	8200 -- dump 0budfs 126 54000 /dev/rst0 6000    filesystem
	8500 -- dump 0budfs 126 54000 /dev/rst0 13000   filesystem
					      
	Note: Under 4.1.2 and above you should use rst8. Previous
	      versions did not do anything special for the 8500.

	Note: These parameters are not needed for 5.1.x because
	      it computes these values from the type of Tape Drive
	      you are using. Also, 5.1.x knows about end of tape
	      and does the right thing when it reaches it.

30)	What are the guidelines for setting up swap space ?

	In SunOS 4.x the amount of swap space and Virutal memory 
	are one in the same so you need at least as much swap
	as real memory.

	In SunOS 5.x the amount of Virutal memory is equal
	swap space plus real memory. Under SunOS 5.x you
	can actually get away with having no swap space at
	all. We are running a SPARCserver 1000 with no swap
	and 192-Meg of real memory.

	The old rule of thumb is 1.5 to 2 times real memory. This
	can lead to wasted disk space(by having too much swap
	space) or to not having enough. What you need to do
	is to estimate your swap space needs.

	Note: This question is still being worked on.


31)	What are the general guidelines for maxusers to be set to on machine X?

	This question is being written.

32)	What does "zsN: silo overflow" mean?

        The CPU serial ports - both ordinary serial ports A and B, and
        the port for the keyboard and mouse - use the Zilog Z8530 SCC
        chip.  That chip has a 3-character on-board buffer called the
        "silo".  If a character arrives in the silo, the chip interrupts
        the CPU at a high priority, and the interrupt service routine
        reads the character out of the silo.

        If the interrupt isn't serviced in time, more than 3 characters
        can be placed in the silo by the chip; if so, the chip notes
        that the silo "overflowed", and the interrupt service routine,
        when called, will note that a "silo overflow" occurred.

        If the machine is printing a message from the kernel, interrupts
        from the chip will be held off; if the message takes long enough
        to print, and characters are coming in quickly enough on the
        serial port, more than 3 can arrive, and a "silo overflow" will
        occur.

        It is possible that a machine that's sufficiently busy in other
        code that runs with interrupts held off could get a silo
        overflow as well.

33)	What does the "N" in "zsN: silo overflow", and other "zsN" messages,
	signify?

        The name "zsN" is ambiguous.

        In kernel "config" files, and in the boot-time autoconfig
        messages, "zs0" is the first on-board Z8530 chip, the two
        channels of which handle "ttya" and "ttyb", respectively, and
        "zs1" is the second on-board Z8530 chip, the two channels of
        which handle the keyboard and mouse ports, respectively.

        In "zsN: silo overflow" messages and the like:

                "zs0" is the A channel on the first on-board Z8530, handling
                    "ttya";

                "zs1" is the B channel on the first on-board Z8530, handling
                    "ttyb";

                "zs2" is the A channel on the second on-board Z8530, handling
                    the keyboard;

                "zs3" is the B channel on the second on-board Z8530, handling
                    the mouse.

        So a "zs0: silo overflow" error is for "ttya", and a "zs1: silo
        overflow" error is for "ttyb", not for the keyboard or mouse.
        Keyboard silo overflows are "zs2: silo overflow"; mouse silo
        overflows are "zs3: silo overflow".


34)	How do I set up a Sun serial port both for dial-in and dial-out?

        You need to read Chapter 11 in  the "Systems and Network 
	Administration" manual.


35)	I can't get my Sun, running SunOS 4.1[.x], to establish a UUCP
	connection to some non-Sun machine; it won't log in.  What's wrong?

        The 4.1[.x] UUCP normally runs in even-parity mode when logging
        into another machine.  If the other machine is running in 8
        bits, no parity, mode, the fact that the 8th bit is set on some
        of the characters the Sun is sending to it will confuse it.

        The Sun can be made to turn the 8th bit off by putting P_ZERO in
        the appropriate place in the appropriate UUCP configuration file
        [I may have been the one to put P_ZERO there, but I forget the
        details; it's in the send-expect sequence in the Systems file
        entry for the machine, and I think you have an "expect" string
        of "" - i.e., "expect nothing" - and a "send" string of P_ZERO -
        i.e., make the parity bit zero.  Check the UUCP stuff in the
        "Systems and Network Administration" document to make sure.]


36)	Do the Sun serial ports support RTS/CTS flow control?

        The serial port hardware can do CTS-based control of the flow of
        data *from* the Sun *out* the serial port automatically.  The
        tty driver option for that is the CRTSCTS option; it can be
        specified in:

                the "printcap" "ms" capability for a printer;

                in the "gettytab" "ms", "m0", "m1", or "m2" capabilities
                for a dial-in port;

                the "STTY=" option for a dial-out line for UUCP or "cu"
                [check the UUCP documentation for details];

        and can be specified with the "hf" capability in "/etc/remote"
        for "tip".

        The hardware cannot directly do RTS-based control of the flow of
        data *into* the Sun, and the software does not currently support
        controlling the flow of data into the Sun with RTS.

        NOTE: the EEPROM options in newer Suns do not affect the flow

        control performed by the OS; in fact, the OS ignores the
        "ttya-mode", "ttyb-mode", "ttya-rts-dtr-off", and
        "ttyb-rts-dtr-off" EEPROM options entirely.  You don't need to
        set them to change the way the OS handles the tty, and even if
        you do set them, it won't change the way the OS handles the tty.

	Sun has released a new jumbo tty patch 100513-04 for SunOS 4.1.2 
	and 4.1.3 that incorporates changes to the tty driver to
	support RTS/CTS handshaking. Anyone trying to get RTS/CTS
	handshaking to work should get this patch.


37)	How do I specify that a serial port should, or should not, ignore the
	state of the Carrier Detect line?

        Prior to SunOS 4.1, you do so either by:

                changing the "flags" field for the serial port device in the
                kernel "config" file, re-running "config", rebuilding
                the kernel, and rebooting with the new kernel;

        or, on the Sun-4c machines:

                changing the setting of the "ttya-ignore-cd" or
                "ttyb-ignore-cd" EEPROM settings if the port is one of
                the CPU serial ports.

        In SunOS 4.1 (and, I think, some SunOS 4.0[.x] releases for the
        Sun386i), you do so by changing the "/etc/ttytab" line for the
        port in question to have the "local" attribute if CD is to be
        ignored, or not to have it if CD is not to be ignored, and
        running the "ttysoftcar" command to tell the kernel that the
        status of the "ignore CD" flag should be changed.

        In 4.1, there's no need to change the EEPROM setting to change
        SunOS's behavior; it may affect the PROM's behavior, but that's
        the only reason why it'd be necessary.

38)	I put in a new "termcap" entry, or updated an existing "termcap" entry,
	for a terminal, but "vi" doesn't seem to know about my change.  Why?

        The "vi" in SunOS 4.1[.x] is based on the System V Release 3.1
        "vi", because that version of "vi" supports 8-bit character
        sets.  That version of "vi" uses "terminfo", not "termcap"; you
        have to change the "terminfo" entry for the terminal.

        You may first have to convert the compiled "terminfo" entry to a
        text entry; "/usr/5bin/infocmp -I <terminal-type>" will write
        the text of the "terminfo" entry for the terminal
        <terminal-type> to its standard output.

        If you already have a "termcap" entry, you can convert it to a
        "terminfo" entry with "/usr/5bin/captoinfo".

        A text "terminfo" entry must be recompiled in order for programs
        using "terminfo" to use it; "/usr/5bin/tic" will recompile it.

39)	I have a Type 5 keyboard, and find its placement of the Caps Lock,
	Control, and Esc keys inconvenient.  How do I remedy this?

        Well, one remedy may be to buy the "UNIX layout" version of the
        Type 5; this option seems, unfortunately, to be little-known to
        Sun customers, and Sun may not be promoting it as they should.
        That keyboard has a layout much more friendly to the traditional
        UNIX user than do the normal PC-style layouts for the Type 5.

        If you don't have that option, you can use the appropriate
        program to reprogram the keys; see the next question.

40)	How can I move keys around on a Sun keyboard, for example exchanging the
	Caps Lock and Control keys on a Type 5 keyboard?

        It depends on which window system you're running, if any.

        If you're not using any window system, or you're using a window
        system such as SunView that uses the OS's keyboard event
        translation mechanism, you can dump the tables used by the OS's
        keyboard event translation mechanism with the "dumpkeys"
        command, and load changes to that table with the "loadkeys"
        command; see LOADKEYS(1).

        If you're using X11 - either in its MIT incarnation, or Sun's
        Open Windows incarnation - or some other window system that
        shuts off the OS's keyboard event translation mechanism, you
        need to use the window system's commands, if any, for that
        function.

        In X11, the command for that is "xmodmap"; its translation
        tables can be printed with "xmodmap -pk", and changes to that
        table can be loaded with "xmodmap" as well.

        NOTE: in the particular case of the Control and Caps Lock keys,
        while MIT X appears to handle interchanging those two keys
        correctly, so that the new Caps Lock key is a toggle and the new
        Control key is not, some versions of Open Windows do not - even
        though the keys have had their mappings exchanged, the window
        system server still thinks that the *old* Caps Lock key, which
        is now the Control key, should be a toggle, and that the *old*
        Control key, which is now the Caps Lock key, should not be a
        toggle.
	[Here is a work-around for this problem, provided by Mark Plotnick
	(mp@allegra.att.COM)]:
	Copy the appropriate keytable (e.g. /usr/openwin/etc/keytables/US4.kt)
	to $HOME/.keytable, and change the 2nd attribute character in a key's
	attributes field to N or P depending on whether the key should have 
	"pseudolock".
	$ diff /usr/openwin/etc/keytables/US4.kt /usr/gre/.keytable
	78,79c78,79
	< lock  119                     # CapsLock
	< control        76                     # Control
	---
	> lock   76                     # CapsLock
	> control       119                     # Control
	226c226
	< 76    NN      XK_Control_L
	---
	> 76    NP      XK_Caps_Lock
	278c278
	< 119   NP      XK_Caps_Lock
	---
	> 119   NN      XK_Control_L
 

41)	My Sun doesn't have an ANSI C compiler.  How can I get one?

        SunOS releases prior to 5.x come with a C compiler. However,
        it was an old compiler, and it didn't support ANSI C syntax or 
        ANSI C features.

	The SunSoft Catalyst CD #5 contains the binaries for the GNU C 
	compiler for Solaris 1.x and 2.x. You should get the latest
	version of GCC and compile it using this compiler. 

        Many vendors offer ANSI C compilers for SunOS.  Sun sells Sun C
        1.1 for SPARC, which includes an ANSI C compiler (although not a
        full ANSI C environment, i.e. it doesn't necessarily include all
        the ANSI C include files or library routines); various other
        vendors (Lucid? Others?) sell ANSI C compilers as well.

        The Free Software Foundation's GCC also supports ANSI C syntax
        and ANSI C features. It can be FTP'ed in source form from many
        sites, and in binary form from some sites. 

	A compiled version of the latest GCC for SunOS 5.x is available from 
	prep.ai.mit.edu. The directory containing these files is

		/pub/gnu/sparc-sun-solaris2

	You need to get the following files:
		
		gzip-binaries-1.x.x.tar	
		INSTALL.gcc
		gcc-binaries-2.x.x.tar.gz

	Note: You need the gzip binaries to ungzip the gcc binaries.

	After obtaining GCC, you will need to run fixincludes. 
	The INSTALL.gcc file will tell you how.

	Note: The following sites mirror the GNU software distribution
	      from prep.ai.mit.edu:

        ASIA: 		utsun.s.u-tokyo.ac.jp:/ftpsync/prep,
  	      		cair.kaist.ac.kr:/pub/gnu
        AUSTRALIA: 	archie.oz.au:/gnu (archie.oz or archie.oz.au for ACSnet)
        AFRICA: 	ftp.sun.ac.za:/pub/gnu
        MIDDLE-EAST: 	ftp.technion.ac.il:/pub/unsupported/gnu
        EUROPE: 	irisa.irisa.fr:/pub/gnu, grasp1.univ-lyon1.fr:pub/gnu,
  			ftp.mcc.ac.uk, unix.hensa.ac.uk:/pub/uunet/systems/gnu,
  			src.doc.ic.ac.uk:/gnu, ftp.win.tue.nl, ugle.unit.no,
			ftp.denet.dk, ftp.informatik.rwth-aachen.de:/pub/gnu,
			ftp.informatik.tu-muenchen.de, ftp.eunet.ch, 
			nic.switch.ch:/mirror/gnu, nic.funet.fi:/pub/gnu,
			isy.liu.se, ftp.stacken.kth.se,
			ftp.luth.se:/pub/unix/gnu, archive.eu.net
       	CANADA: ftp.cs.ubc.ca:/mirror2/gnu
        USA: 	wuarchive.wustl.edu:/mirrors/gnu, labrea.stanford.edu,
  		ftp.kpc.com:/pub/mirror/gnu, ftp.cs.widener.edu,
  		col.hp.com:/mirrors/gnu, ftp.cs.columbia.edu:/archives/gnu/prep,
  		gatekeeper.dec.com:/pub/GNU, ftp.uu.net:/systems/gnu


	You should check the site close to you before ftping to
	prep.


42)	How do I change the time zone setting on my machine?

        In releases prior to SunOS 4.0, you will have to reconfigure
        your kernel, recompile it, install the new kernel, and reboot.
        See the documentation on kernel configuration.

        In SunOS 4.0 and later releases, you will need to run the "zic"
        command with the "-l" flag, with the appropriate time zone
        setting as the argument.  For example, to set the time zone to
        US Eastern Time, do:

                zic -l US/Eastern

        to set it to the proper setting for Great Britain and Eire, do:

                zic -l GB-Eire

        and so on.

        You will then probably want to reboot your machine, in order to:

                1) cause any daemons started before the time zone was
                   changed to restart, and pick up the new time zone;

               2) run "tzsetup" for the benefit of old pre-SunOS 4.0
                   binaries, old programs not converted to use the new
                   routines to convert local time to UNIX time, and
                   Calendar Manager.

        You can also manually link "/usr/share/lib/zoneinfo/localtime"
        to the appropriate time zone file, but there's really no point
        in doing so when "zic -l" will do that for you.

        In Solaris 2.x, you do it the same way you do it on any other
        SVR4 system - you put a line that says
 
                TZ=<time zone name>
 
        in "/etc/TIMEZONE", or change the existing line, and reboot.
        SVR4 includes the "Arthur Olson" time zone code that SunOS 4.x
        also uses, although not all SVR4 systems supply the time zone
        files for it; Solaris 2.0 does.
 

43)	I'm getting messages that say one of the following:
	 	proc: table is full	and/or
        	file: table is full	and/or
        	dquot: table is full 	and/or
        	inode: table is full
     	What do these errors mean, and how do I fix the problem?

        In SunOS releases prior to 5.0, many tables in the system are
        allocated once at system startup time, with a fixed size, and do
        not grow in size.  If the system needs more entries than are
        present in that table to perform some operation, it can't
        perform the operation, and it will log a message and return a
        failure indication.

        The sizes of the tables in question are based on the "maxusers"
        value in the configuration file for your kernel; to increase the
        size of the table, change the configuration file for your kernel
        to have a larger "maxusers" value, re-run "config" on that file,
        rebuild the kernel, install the new kernel, and reboot.

        SunOS 4.1 and later shouldn't get "inode: table is full", as
        that table is dynamically allocated; SunOS 5.0 should
        dynamically allocate entries in most if not all of those tables.

   	I did that, and I'm still getting that message.  What do I do now?

        Presumably, then, either:

                1) you didn't increase "maxusers" enough

        or

                2) some process is consuming resources from the table in
                   question without bound.


	Note: SunOS kernels(up to 4.1.3) by default allow the user to use 
	      all available process slots(except for the last 5). 

	      If you are running out of process slots you may want to 
	      change the kernel parameter that controls the maximum number
	      of per user processes. You can change this in the param.c
	      in /sys/conf.common. You will need to change the following
	      define:

			#define MAXUPRC (NPROC - 5)

	      to something more reasonable like

			#define MAXUPRC (NPROC - 5)/2

	      After making this change you should re-config and re-build
	      your kernel.

        The "proc" table has one entry for every process on the system;
        if it's overflowing, some process on the system may be creating
        new processes over and over again.  If you can, do a "ps -ax" to
        see what processes are on the system, and see if that gives any
        clues as to what process, if any, is spawning those other
        processes.
		

        The "file" table has one entry for every "active file
        descriptor" on the system; each time an "open", "dup", "socket",
        etc. call is made, a new "active file descriptor" is required.
        There's no way of finding out what process or processes are
        consuming file descriptors that's as convenient as "ps" can be
        for finding out what process or processes are spawning additional
        processes; "/usr/etc/pstat -f" will print the "open file table"
        of "active file descriptors", but it's tricky for the novice
        user, programmer, or administrator to interpret the output of
        "pstat -f", and that output doesn't indicate which processes are
        using a given "active file descriptor".


44) 	Blank at present.

45)     How do I run both OpenWindows and MIT X11R5?

	Note: OW2 is compatible with X11R3+, OW3 is compatible with X11R4.

	To get X11R5(or R4) applications to run under Openwindows you will
	need to set the appropriate LD_LIBRARY_PATH. 

        Assuming you installed the MIT libraries in
        /usr/lib and the OpenWindows libraries are in
        /usr/openwin/lib, set the following before you start the
        windowing system:

        MIT X11R4 environment

                set path = (/usr/bin/X11 $path)
                setenv LD_LIBRARY_PATH /usr/lib

   	OpenWindows

                set path = (/usr/openwin/bin /usr/openwin/demo $path)
                setenv LD_LIBRARY_PATH /usr/openwin/lib

        You can also run clients from one environment under a different
        server on a one command at a time basis.  This example runs a

     	OpenWindows client under the MIT server:

                (setenv LD_LIBRARY_PATH /usr/openwin/lib; x_soundtool)


	A better way to handle this(in the long run) is to re-compile 
	the X server clients to include a "hard" coded shared library
	search path. You will need to link the clients with -L
	option.  For example, if your X11 libraries are installed
	in /usr/local/lib/X11 you will link your application by

		   cc -o app app.c -L/usr/local/lib/X11 -lX11 -lXext

	By doing this to all applications you can eliminate the need
	to set the LD_LIBRARY_PATH. 

	For applications that you do not have source for you should
	write a shell script wrapper similar to the following:

	#!/bin/sh
	LD_LIBRARY_PATH=/usr/local/lib/X11; export LD_LIBRARY_PATH
	/usr/local/bin/X11/xterm.bin $*
	

	Note: Source code for the Xview toolkit and MIT X11R5 are
	      available from prep.ai.mit.edu. 


        The OpenWindows server has the ability to display PostScript that
        several of the OpenWindows applications require to run.  Sun's
        AnswerBook is an example that requires PostScript.  These clients
        will not run under the MIT server.   

	You can get a limited PostScript preview capability under 
	either server with GNU Ghostscript, a GNU "copyleft" package
	available from various ftp sites.  

	Two enhanced versions of Ghostscript are also available,
        CSPreview and Ghostview, they both offer fancier preview capabilities.
        These programs are currently available via anonymous ftp:

        Ghostscript is on prep.ai.mit.edu (18.71.0.38) in /pub/gnu
        GSPreview   is on ftp.x.org (18.24.0.12) in /contrib
        Ghostview   is on prep.ai.mit.edu (128.105.2.196) in /pub/gnu


46)	Where do I find a "restricted" shell for SunOS?

	/usr/lib/rsh is a "restricted" Bourne shell.

        This "restricted" shell is easy to break out of; consider
        that most editors have a shell escape, for example. Building
        a window-dressing restricted environment is easy; building
        a real restricted environment is hard.


47)	Will SunOS 4.1.x binaries run under SunOS 5.x?

        Yes they will, with some restrictions. The most significant is
        that the binary in question must have been "dynamically linked."
        Otherwise, you will get the message
 
        Bad system call (core dumped)
 
        immediately when starting the 4.1.x binary on SunOS5.
 
	As of SunOS 5.3 "statically" linked binaries will now run
	in binary compatabilty mode.

        Finally, bear in mind that there is a performance overhead for
        this "binary emulation"; each system call happens twice,
        once to trap into the emulation mode and again to get from
        there into the UNIX kernel. 
 

48)	When I try to compile MITs X11R4 applications under Openwindows 3.0,
	I get the following "undefined" symbols(_get_wmShellWidgetClass, and
	_get_applicationShellWidgetClass). What is the Problem?

	There are problems with the Xmu shared library as shipped from Sun.

	There are two "fixes". One is to get the Openwindows patches
	that apply to this problem and the other is to "statically" link
	the Xmu library into the executable.

	The patches you will need are as follows:

        Patch i.d.      Bug i.d.'s      O/S     Description
        ----------      -------------------------------------------------------
        100512-04       1086793 1086912 	4.1.x OpenWindows 3.0 libXt 
			1074766 		Jumbo patch
 
        100573-04       1087332 		4.1.x OpenWindows 3.0 undefined
						symbols when using shared
						libXmu.

	Note: Always use the latest version of the above patch that you can 
	      find.

	To "statically" link your executable with libXmu modify the
	compile line as follows:

		  -Bstatic -lXmu -Bdynamic 


49)	What is Solaris?
	
	Solaris consists of the following facilities:

		1) SunOS 
		2) Openwindows
		3) Openwindows deskset tools
		4) ONC networking products and services(which includes NFS
		   and NIS)

	Solaris is not an operating system but a "complete" user
	environment.

	A chart of Solaris versions, and the corresponding SunOS, Open 
	Windows, and DeskSet versions:
 
          Solaris         SunOS           Open Windows    DeskSet
          1.0             4.1.1           2.0             2.0
          1.0.1           4.1.2           2.0             2.0
          1.1             4.1.3           3.0             3.0
          1.1.1(a)        4.1.3_U1        3.0_U1*         3.0_U1*
          1.1.1(b)        4.1.3_U1_B      3.0_U1*         3.0_U1*

          2.0             5.0             3.0.1           3.0.1
          2.1             5.1             3.1             3.1
          2.2             5.2             3.2             3.2
	  2.3             5.3             3.3             3.3

	*when patched with the patches on the 4.1.3_U1 CD.

 

50)     What does the "nres_gethostbyaddr !=" error mean?

	This message is generating by Sun's resolver libraries and
	it is caused by incorrectly configured Domain Name 
	Server(the server that the resolver libraries are querying
	not necessarily the local Domain Name Server).

	The Domain Name Server probably lacks a reverse map entry for 
	that particular host. 

	Since this "bug" is closely associated with using ypserv,
	Sun has produced a patch to "ypserv" (bug #1039839). 
	Sun supplied a patch 100141-01 to quiet it, but the 
	patched version appears to die silently at random times,
	so Sun now has a new patch, 100141-02. Do not install this
	patch unless you are really getting a lot of these messages.


51)     How come my mouse only works in the vertical(or horizontal) direction,
	how do I repair it?


	Check the rotation of the PAD. Turn it 90 degrees and see if it
	works any better. The mouse will only work properly
	if the mouse pad is oriented properly. Make sure that the long 
	side of the pad along the horizontal and the short side
	the vertical.

	Also, check to make sure that you have the right mouse pad. The
	newer the mouse the smaller the pad. 

	Finally, if that does not work one of the LEDs on the under
 	side of the mouse has probably "burnt" out.  Do not fooled
	by the fact that one of them is an infrared led (light that 
	is invisable to naked eye) and the other visible. 

	You can probably repair it yourself(if you can get a replacement 
	LED and you know how to use a Soldering Iron) by following
	a set of directions available from thor.ece.uc.edu. Get the
	file /pub/sun-faq/mouse.fix.


52)	After rebuilding the shared library libc it get some or all the 
	following undefined symbols: dlsym, dlopen, dlclose, mbstowcs_xccs,
			mbtowc_xccs,wcstombs_xccs, or wctomb_xccs.


	If you have just installed a new shared library under 4.1.2 or
	greater you need to modify the Makefile for the shared libraries
	and re-install. You will need to change the following line

		ld -assert pure-text `${OBJSORT} lorder-sparc tmp`
	to read 
		ld -assert pure-text `${OBJSORT} lorder-sparc tmp` -ldl

	Note: You should change both such lines.

 	Also, you may need to do a mv xccs.multibyte. xccs.multibyte.o
	to eliminate the  mbstowcs_xccs, mbtowc_xccs, wcstombs_xccs,
	or wctomb_xccs symbols errors.

	The above can occur under SunOS 4.1.1 if you have installed 
	the "Linker Jumbo Patch"(Patch id# 100257-03 or greater). 


53)	What does "No network locking on host" mean after upgrading to
	Solaris 2.0?

	Your SunOS 4.x(or above) machines are running an old version
	of rpc.lockd. You need to get and install patch number 
	100075-11 or greater to correct this problem.

54)	Does Password Aging work with NIS(YP) ?

	Sun does not support password aging under NIS(OS version
	to 4.1.3). The rpc.yppasswdd needs to modified to make
	password aging work. 

	Password aging will only work under SunOS 5.3(Solaris2.3) 
	with NIS+.

55)	What does "rpc.lockd: Cannot contact status monitor!" mean?

	For some reason rpc.lockd can not talk to rpc.statd. 

	Check to see if rpc.statd is running. If rpc.statd
	is not running re-start it. If rpc.statd is running, 
	kill it and restart it. You will need to kill and restart
	rpc.lockd too. 

	Use this procedure to restart rpc.lockd and rpc.statd.

		kill rpc.statd and rpc.lockd
		start rpc.statd
		wait a 10 seconds or so
		start rpc.lockd

	If this does not work kill rpc.statd and rpc.lockd 
	remove /etc/sm /etc/sm.bak directories and re-start the
	daemons using the above procedure..


56)	How do I join the Sun User Group(SUG)?

	Here is the information on joining SUG.

		Sun User Group, Inc.
		1330 Beacon Street, Suite 315
		Brookline, MA 02146
		USA
		voice: +1 617 232-0514		fax: +1 617 232-1347
		office@sug.org 

	With your membership you get the following:
		
		*  Vendor Discounts
		*  Technical Conferences
		*  Software Distribution
		*  README Newsletter
		*  Annual Exhibits
		*  Local User Group Support
		*  Newsgroup comp.org.sug 


57)	How do I increase the number of "pseudo" terminals(ptys) ?

	For SunOS4.1.x:

	To add more ptys you must install a new kernel. 

	The default number of "ptys" is  48.  To get more "ptys" 
	change the kernel config line "pseudo-device pty" to 
	"pseudo-device pty#" where '#" is the number of "ptys"
	you want. 

	Be warned the maximum number you can have is 256.

	You will need to run /dev/MAKEDEV pty[0-5] to create the
	/dev/ entries.

	For SunOS5.x:

	In /etc/system, add the line:

        	set pt_cnt=nnn 	-- nnn can have a value up to 3000.
	touch /reconfigure
	and reboot using 'init 6'.

	For BSD style ptys set npty in /etc/system to the desired 
	value(ie set npty=64).  You may need to make the ptys by
	hand and you will need to make likes from /dev to /devices for 
	these devices.  Finally, you will need to edit /etc/iu.ap to
	automatically push the appropriate streams compatibility modules
        onto the new devices. You need to replace the line reading
        	"ptsl 0 15 ldterm ttcompat"
	with
        	"ptsl 0 <NUM> ldterm ttcompat"
	where <NUM> was one less than the number of compatibility ptys you
	need.


58)	Where are dump and restore under Solaris 2.x?

	dump is now called /usr/sbin/ufsdump
	restore is now called /usr/sbin/ufsrestore

59)	How do I make the numeric keypad on a type 5 keyboard work with xterm?

        You need to patch the /usr/lib/X11/app-defaults/XTerm and
        $OPENWINHOME/lib/app-defaults/XTerm files as described in sun
        patch 100713-01 or later.

60)	How do I swap the CAPS LOCK and CONTROL keys on a type 5 keyboard 
	under Openwindows 3.0?

        Don't do it with xmodmap, since that won't change the locking
        behavior of CAPS LOCK. Edit $OPENWINHOME/etc/keytables/US5.kt.
        There are two places where keys 119 (CapsLock) and 76 (Control)
        should be swapped: the MODMAP section and the KEYSYMMAP section.
        The latter is most important, because that's where the
        "Pseudo-Lock" function (which controls the locking behaviour of
        the key) is defined.

61)	Which Sun models run which versions of SunOS?

  	Sun-supported configurations:
 
  	Sun2: SunOS 4.0.3 or earlier.
  	Sun386i: SunOS 4.0, 4.0.1, 4.0.2 only.
  	Sun3: SunOS 4.1.1_U1 or earlier.
  	4/100, 4/200 series: SunOS 3.2, SunOS 4.0 or later.
  	4/300 series: SunOS 4.0.3 or later.
  	4/400 series: SunOS 4.1PSR_A or later.
  	600 models 120, 140: SunOS 4.1.2 or later.
  	600 model 41, 51: SunOS 4.1.3 or later.
  	600 models 412, 512: Solaris 2.2 or later.
  	600 model 514: Solaris 2.3 HW 8/94 or later.
  	SPARCstation 1, 1+, SLC, IPC: SunOS 4.0.3 or later.
  	SPARCstation 2, ELC, IPX: SunOS 4.1.1 or later.
  	SPARCstation 10 models 20, 30, 40, 41, 51: SunOS 4.1.3 or later.
  	SPARCstation 10 models 412, 512: Solaris 2.2 or later.
  	SPARCstation 10 model 402: Solaris 2.2 or later.
  	SPARCstation 10 model 514: Solaris 2.3 Hardware 8/94 or later.
  	SPARCstation 20 models 50, 51, 61: SunOS 4.1.3_U1 revision B or later.
  	SPARCstation 20 models 502, 514,612: Solaris 2.3 Hardware 8/94 or later.
  	SPARCclassic, SPARCstation LX: SunOS 4.1.3C or later.
	SPARCstation Voyager: Solaris 2.3 HW 8/94 or later.
	SPARCstation 5: Solaris 1.1.1 Rev B or later.
	SPARCstation 20 model 71: Solaris 1.1.2 and Solaris 2.4 HW 11/94 or
			later.
	SPARCstation 20 model HS11: Solaris 1.1.2 and Solaris 2.4 HW 11/94 or
			later
	SPARCstation 20 model 712: Solaris 2.3 HW 8/94 or later.
	SPARCstation 4: Solaris 1.1.2 and Solaris 2.4 HW 11/94 or later
	SPARCserver 1000 and SPARCcenter 2000 : Solaris 2.2 or later and
		 should really use at least 2.3.

	Some notes:

	Sun4 machines (4/1xx, 4/2xx, 4/3xx, and 4/4xx) will not be supported
	after Solaris2.4.

	The audio device on the SS5/SS20 has does not work under Solaris 1.1.1b
	without installing the ms2 patch found on the 1.1.1B CDROM or get
	the current Audio Patch from Sun. You will need patches to get the
	Audio to work properly under Solaris2.3 as well.

	Also, the SX Graphics card is only supported under Solaris2.3 HW 8/94
	or later. The Card will not run work under SunOS 4.1.x and unless
	some one other than Sun writes a driver it will never work.

	If you are running Solaris 1.x and newer versions of the SuperSPARC CPU 
	(rev 3.5 and higher) require Solaris 1.1.1B.  See question 79 for
	the procedure used for determining SuperSPARC revision.

	When installing any compatable version of SunOS 4.1.x on any
	of the following: SPARCstation 5, LX, Classic, or SPARC 20 you
	must buy a RTU because these machines came with RTU's for
	Solaris2.x only.

  	SunOS 4.1.3 has been reported to run on the SPARCstation 10 model
  	412/512 and the 600 model 412/512, but this configuration is not
  	supported by Sun. Anyone who tries this is on their own.  The
  	(unofficial) word from inside Sun about whether or not it actually 
	works is as follows:

        	Little testing of the SuperSPARC MP configurations under 4.1.3
        	have been done by Sun.  What little was done showed that under
        	heavy loads the system was prone to crash (What it really did 
		was hang, so badly that even an L1-A would not work).
        	...
        	We suspect, but do not know, that as the SuperSPARC chips get
        	faster that the problems will manifest themselves more quickly.

  	Solaris 2.0 runs only on SS1,1+,2,SLC,IPC,ELC,IPX.

  	Solaris 2.1 and later runs on all Sun4s and SPARCstations, but the 
	FPU's on the 4/100 and 4/200 series machines are disabled and will
	be under all versions of Solaris2.x.

  	Not all peripherals supported under SunOS 4.x are supported under SunOS
  	5.x. Check with Sun or the peripheral manufacturer. Most of the 
	the non-supported cards under SunOS 5.x are VME or Multi Bus based.

  	Explanatory note:

  	In general, Solaris = SunOS + OpenWindows.

  	Solaris 1.0 	= SunOS 4.1.1 	 + OpenWindows 2.0
  	Solaris 1.0.1 	= SunOS 4.1.2 	 + OpenWindows 2.0
  	Solaris 1.1 	= SunOS 4.1.3 	 + OpenWindows 3.0
  	Solaris 1.1.1	= SunOS 4.1.3_U1 + OpenWindows 3.0_U1
  	Solaris 1.1.2 	= SunOS 4.1.4    + OpenWindows 3.414 	
  	Solaris 2.0 	= SunOS 5.0      + OpenWindows 3.0.1
  	Solaris 2.1 	= SunOS 5.1      + OpenWindows 3.1
  	Solaris 2.2 	= SunOS 5.2      + OpenWindows 3.2
  	Solaris 2.3 	= SunOS 5.3      + OpenWindows 3.3
  	Solaris 2.4 	= SunOS 5.4      + OpenWindows 3.4

	Open Windows versions before 3.3 used the X11/NeWS server
	all versions since use a MIT style server with Display
	Postscript Extensions.
	
	Last Updated: March  3, 1995.

62)	My rdump is failing with a "Protocol botched" message. What do I do?

        The problem produces output like the following:
 
          DUMP: Date of this level 0 dump: Wed Jan  6 08:50:01 1993
          DUMP: Date of last level 0 dump: the epoch
          DUMP: Dumping /dev/rsd0a (/) to /dev/nrst8 on host foo
          DUMP: mapping (Pass I) [regular files]
          DUMP: mapping (Pass II) [directories]
          DUMP: estimated 8232 blocks (4.02MB) on 0.00 tape(s).
          DUMP: Protocol to remote tape server botched (in rmtgets).
         rdump: Lost connection to remote host.
          DUMP: Bad return code from dump: 1
 
        This occurs when something in .cshrc on the remote machine prints
        something to stdout or stderr (eg. stty, echo). The rdump command
        doesn't expect this, and chokes. Other commands which use the rsh
        protocol (eg. rdist, rtar) may also be affected.
 
        The way to get around this is to add the following line near the
        beginning of .cshrc, before any command that might send something
        to stdout or stderr:
 
        if ( ! $?prompt ) exit
 
        This causes .cshrc to exit when prompt isn't set, which
        distinguishes between remote commands (eg. rdump, rsh) where these
        variables are not set, and interactive sessions (eg. rlogin) where
        they are.


63)     Table of Solaris2.x commands and their Solaris1.x equivalents?
		
		SunOS 4.x          SunOS 5.x             
		Command            Equivalent               
		
		add_services       pkgadd                      
		arch               uname -m                  
				   Note: This returns the kernel architecture.
		bar                Not available. Use   
		                   cpio -H bar to retrieve
				   4.x archives.
		
		biff -y            chmod o+x /dev/tty
		biff -n            chmod o-x /dev/tty
		cc                 Not available
		dbxtool            debugger
		devinfo		   prtconf
		df                 df -k
		dkctl              Not available
		dkinfo             prtvtoc
		du                 du -k
		dump               /usr/sbin/ufsdump
		dumpfs             Not available
		etherfind          snoop
		exportfs           share
		extract_files      Not available
		extract_patch      Not available
		extract_unbundled  pkgadd
		fastboot           reboot or init 6
		fasthalt           init O
		hostid             sysdef -h
		hostname           uname -n
		intr               Not available
		leave              Use cron and at
		lint               Not available
		load          	   pkgadd
		loadc         	   pkgadd
		load_package  	   Not available
		lpc           	   lpadmin
		lpd           	   lpsched
		lpq           	   lpstat
		lpr           	   lp
		lprm          	   cancel
		lptest        	   Not available
		mach          	   uname  -p
		modstat       	   modinfo
		mount         	   mount  -F <fstype> [options]
		mount -a	   mountall
		mount_tfs     	   mount  -F <fstype>
		pax           	   cpio
		paxcpio       	   cpio
		portmap       	   rpcbind
		printenv      	   env
		ps -a         	   ps -e
		ps -aux       	   ps -el
 		Note: when ps is  invoked without the "-f" flag, the SV
		     "ps" prints  only the first N characters of the name 
		     of the program being run. You have to pass the "-f" 
		     flag to get the full command line. For example, try
		     ps -fe.

		pstat         	   sar
		pstat -s      	   swap -s
		rdump         	   /usr/sbin/ufsdump
		restore       	   /usr/sbin/ufsrestore
		rm_client     	   admintool
		rm_services   	   Not available
		rpc.etherd    	   Not available
		rpc.lockd          /usr/lib/nfs/lockd         
		rpc.mountd         /usr/lib/nfs/mountd        
		rpc.rexd           /usr/sbin/rpc.rexd
		rpc.rquotad        /usr/sbin/rpc.rquotad
		rpc.showfhd        Not available
		rpc.statd          /usr/lib/nfs/statd         
		rpc.user_agentd    Not available 
		rpc.yppasswdd      Not available 
		rpc.ypupdated      ypupdated     
		rrestore     	   /usr/sbin/ufsrestore    
		rusage             Not available 
		trace		   truss
		showmount          dfmounts 
		swapon         	   swap -a        
		sys-config	   admintool
		umount -a 	   umountall  	   
		umount_tfs	   umount -F <fstype>
		unload      	   pkgrm
		update      	   fsflush
		uptime     	   who -b
		users       	   who -q
		vipw        	   Not available
		wall        	   /usr/sbin/wall
		whereis     	   Not available
		whoami      	   id
		ypbatchupd  	   Not available
		yppasswd    	   Use nispasswd for NIS+
		ypserv      	   Not available

	Notes:  A NIS server is no longer available under Solaris2.x
		without purchasing the NSKIT from Sun.
		Under Solaris 2.x look in the /usr/sbin and /usr/lib/nfs 
		for useful programs and commands. Finally, some of
		missing commands are in the BSD Compatibility package.

	
	
64) 	How do I setup DNS on Solaris2.x?

	The "Setting up DNS clients" chapter of that manual is egregiously 
	out of date.  Yes, there's a bug filed against it.  
	The correct procedure is the following:

       	Create a /etc/resolv.conf file.

       	Change /etc/nsswitch.conf;  it's probably easiest 
	to start with the sample file "/etc/nsswitch.files" and change 
	the entry for "hosts" to the following:

				hosts: files dns

       	Processes that have already read /etc/nsswitch.conf won't see your
	changes until they're restarted.  If you care, the crude but effective
	approach is to reboot.

65) 	Can a SPARCclassic or LX run SunOS 4.1.3?

	No it won't run 4.1.3. However, Sun will provide you with
	a copy Solaris1.1C(4.1.3C) which will allow you to run
	"4.1.3" on a LX or Classic. These machines can also run
	4.1.3_U1 and 4.1.4. See Question 61 for more details.

	The cost is around $125 for the media and $100 for the RTU
	license.

	Users of 4.1.3C should get the DBRI patch if you don't have a
	speaker box!


66)     I just restored my root partation and now I cannot boot.
        What is wrong?


        You probably need to run installboot.  Under Solaris 1, boot
        from cdrom, boot the miniroot, mount the root filesystem on
        /mnt, and reinstall the boot block:

            cd /usr/kvm/mdec    # note - miniroot's usr, not sd0's
            installboot -vlt /mnt/boot bootsd /dev/rsd0a

        For Solaris 2, the equivalent command, which may also live
        outside the miniroot, would be:

            /usr/sbin/installboot /usr/lib/fs/ufs/bootblk \
            /dev/rdsk/c0t0d0s0

        Under Solaris 1, if only your /vmunix is bad, you may not need
        to restore anything from tape.  Before running installboot:

            cp /mnt/usr/kvm/sys/<arch>/<kernel>/vmunix /mnt/vmunix



67)	How do I disable/enable packet forwarding?

	For 4.1.x:
	Pick one of the following methods:

 	adb -k -w /vmunix /dev/mem
	ip_forwarding?
	_ip_forwarding:
	_ip_forwarding: 0               = unimp         0x0

	ip_forwarding/w -1      <- changes in running kernel only!
	ip_forwarding?w -1      <- changes running kernel and disk image

	or 

	In your kernel configuration file, insert the following line:

	options "IPFORWARDING=-1"

	Note: The above example disables packet forwarding.

	Here is a list of IP forwarding options
	(from /usr/kvm/sys/netinet/in_proto.c) 
		ip_forwarding = -1  -- never forward; never change this value.
		ip_forwarding =  0  -- don't forward; set this value to 1 
				       when two interfaces are up.
	        ip_forwarding =  1  -- always forward.

	For Solaris2.3:

	To disable ip_forwarding:

		 % ndd -set /dev/ip ip_forwarding 0

	To enable ip_forwarding:

		 % ndd -set /dev/ip ip_forwarding 1

	To reset it back to defaults:

		 % ndd -set /dev/ip ip_forwarding 2
	

68)	How do I disable the printing of banners pages?
	
	Under SunOS 4.x you need to do the following:
	
		Put :sh: in the /etc/printcap entry
		for that printer.

	For SPARCprinters you will need to edit the .param for that 
	printer. Under SunOS4.x you this file is located in the spool
	directory for that particular printer. Under SunOS5.x
	it is located under /etc/lp/printers/PRINTERNAME.
	Change the line BANNERPS=${DEFBANNER}; export BANNERPS
			to
			BANNERPS=; export BANNERPS

	Also, you may want to turn off Job Log printing. You can do
	this by changing the line PRINTJOBLOG=yes; export PRINTJOBLOG
			to
				  PRINTJOBLOG=no; export PRINTJOBLOG


	If you want to disable the banner pages permanently you
	will need to perform the following steps:

        1. cd /usr/lib/lp/model
        2. cp standard standard-nobanner
        3. Use your favorite editor to edit standard-nobanner.
           Change line 332 from:
                nobanner="no"
           to:
                nobanner="yes"
        4. lpadmin -p PRINTERNAME -m standard-nobanner

	For a large network you can make this easier by copying a 
	custom interface script at install time and doing the appropriate 
	lpadmin command.

		

69)	How do I change my hostname?

	Under SunOS 4.x you need to do the following:

		Edit you /etc/hosts file and change your
		local hostname. To avoid problems during
		the transition you may want to add this
		as an hostname alias.

		If you are running NIS you should change the
		/etc/hosts file on the master too.

		Change the hostname in /etc/hostname.xxx.
		Where xxx is the interface you want to change
		the address on.
		

	Under SunOS 5.x you need to the above plus
	change /etc/nodename, and the entries in /etc/net/*/hosts


	Both OS's also support the sys-unconfig program which can
	be used indirectly to change your hostname and any number
	of other things. This program is over kill if all you want
	to do is change your hostname. See the manpage for more details.
	

70)     Table of Solaris2.x files and their Solaris1.x equivalents?

	SunOS 4.x file		SunOS 5.x file
	/etc/fstab		/etc/vfstab
	/etc/exports		/etc/dfs/dfstab
	/etc/printcap		None
	/etc/fbtab 		/etc/logindevperm   -- available in SunOS 5.3
	/etc/rc.local		/etc/rc3.d/S99local -- See note 1.


	Note 1:  Here is a template file for /etc/rc3.d/S99local.

	#!/bin/sh

	state=$1
	case $state in
	
	# Any applications or daemons you want to start.
	'start')
		echo "starting local apps"
		;;
	# Any applications or daemons that need to be shutdown gracefully.
	'stop')
		echo "Stopping local apps"
		;;
	esac


	You may need to put the "kill" script in /etc/rc2.d/K99local but it
	is not really required.


71)	Where can I get the BSD print spooler for Solaris2.x?	 

	You can get the 4.3BSD-reno lpr system from the following site:

        ftp.nus.sg:/pub/NUS/ISCS/misc/lpr-sol2-p2.tar.gz

 	Or get  PLP from iona.ie:/pub/plp/

	It has vastly enhanced features, like paths for printcaps, NIS and
	Hesiod support, configurable permissons for printers, ability to
	move jobs between printers and compiles out of the box on HPUX, 
	Solaris, and SunOS.

	Last Updated:  March 3, 1995.

72) 	Where is the Solaris2.x screenblank?

	You have three choices:

	Run XDM on the console and use the X servers builtin screenblank.

	Or you can run the 4.1.x screenblank in compatabilty mode.

	Or you can compile you own screenblank from sources available from

	   thor.ece.uc.edu:/pub/sun-faq/Source/screenblank_27dec94.tar.Z

	You can always get the current screenblank from

	   ftp://ftp.ee.lbl.gov/  or  ftp://ftp.netcom.com/pub/je/jef/

	Last Updated:  March 3, 1995.

73) 	Is there a command to display the configuration of 
	currently attached SCSI devices?
	
	SCSIinfo will do this. Get scsiinfo-2.0.shar from thor.ece.uc.edu
	in the /pub/sun-faq/Source directory.

	Get scsiping from the same place as above. You need scsiping 4.0beta
	to have it work under Solaris2.4.

	These commands work under SunOS 4.x and Solaris2.x.

	Last Updated:  March 3, 1995.

74) 	My printer will not print large files(over 1-megabyte), I 
	keep getting "file to big" errors. What do I do?

	Put the following line in your /etc/printcap file
	for the printer that has the problem.

	:mx#0:

	This basically allows for unlimited sizes of print jobs.
	Of course you are still limited by your amount of
	spool space.

	If you do not have access to /etc/printcap you can
	use the -s switch to lpr to use a "symlink" of the	
	file instead of copying the "real" file to the spool 
	directory.
	
75) 	I keep getting "data corruption" when using NFS over a wan,
	or slip/ppp link. What do I do?  or
	Does anybody know how to enable UDP checksum on NFS?

	The usually cause for this(at least for SunOS4.x) is not
	having udp checksumming turned on. 

	You can turn it at boot and while the machine is running 
	by using the following adb script:
	
	#!/bin/sh
	adb -w -k /vmunix /dev/mem << EOF
	udp_cksum?W1
	udp_cksum/W1
	EOF

	Install or call this script from rc.local.

	Or edit /usr/kvm/sys/netinet/in_proto.c and change the
	udp_cksum line (near the end from  udp_cksum = 0 to udp_cksum =1
	and reconfigure your kernel and reboot)

	For Solaris2.3:

	udp checksumming is turned on by default under SunOS5.x.
	
	If you want to verify the value use the following:

		ndd /dev/udp udp_do_checksum

	See ndd (1M) and ip (7) manual pages for more details.


76) 	Does anybody know how to enable UDP checksum on NFS?

	See the answer to question 75.

77) 	Is there a mailing list for Wabi?

	No. Currently, Sun has the following E-mail addresses that
	you can get information about Wabi and the Windows
	Apps that Wabi supports. These addresses are as follows:

	For Wabi version 1:
	 	wabi1.0-questions@east.sun.com	- FAQ List
		wabi1.0-apps@east.sun.com	- Supported Applications list
	For Wabi version 2:
	 	wabi2.0-questions@east.sun.com	- FAQ List
		wabi2.0-apps@East.Sun.COM	- Supported Applications list




78) 	Are there any public domain Multi-Vendor backup management
        systems?

	There are at least two such programs which are as follows:

	Amanda from the University of Maryland which is written in
	C and built on top of standard UNIX backup software
	such as dump/restore. The current source is available from
	ftp.cs.umd.edu in the /pub/amanda directory.

	OSU Backup from Ohio State University which is written in perl
	and built on top of standard UNIX backup software such as
	dump/restore, cpio, and GNU tar. It has the ability to backup
	some database systems(like ORACLE). Finally, it is evolving to
	support the backup of PCs via a proxy service. The current 
	source is available from ftp.cis.ohio-state.edu in /pub/backup.

79) 	How to determine the revision of SuperSPARC processor.

	There are 2 methods to identify SuperSPARC revision - by physical 
	inspection and by using the system PROM.

	To determine SuperSPARC revision by physical inspection:

        - Open system chassis (as needed)
        - Locate the SuperSPARC processor on the CPU module. The processor
          has a heat sink mounted on its top surface.  The heat sink
          may be round or of "pin fin" design.  On modules with
          External cache, the processor is the farthest from mbus
          connector.
        - 4 lines of alpha-numeric text are written on the top 
          right corner of the processor. The second line contains the 

         processor revision.  The format is 
                alpha character, 2 revision digits, 8 other alpha/digits
          Examples of processor revisions are:
                H283915478C             H313020233C             H3503027203
                 ^^                      ^^                      ^^
                 ||                      ||                      ||
                Indicates a 2.8, 3.1, and 3.5 SuperSPARC revisions respectively

	To determine SuperSPARC revision using the system PROM:

        - On a powered on system, in single user mode, press 
                'L1'  and 'A'
          keys simultaneously.  On some keyboards the keycaps will be labeled
                'Stop' and 'A'

        - On your monitor the following will be displayed
                Type 'go' to resume
                ok
        - Type
                .psr <Return>
          Your monitor will display a line of data.  Look for VER and
          IMPL fields and note their values.

        - Type
                .mcr <Return>
          Your monitor will display a line of data.  Look for VER and
          IMPL fields and note their values.

        - Type
                go <Return>
        - You now may continue to use your system normally.

        - Using the PSR and MCR IMPL/VER values you noted above,
          match them with the values in the table below to identify
          the SuperSPARC revision.  Future processors will have 
          values different than those in the table.
        
                | SuperSPARC    (2.x)   |(3.0,1,2,3) |   (3.5)    |
                +-----------+-----------+------------+------------+
                | PSR VER   |       1   |        0   |         0  |         
                | PSR IMPL  |       4   |        4   |         4  |
                | MCR VER   |       0   |        1   |         4  |         
                | MCR IMPL  |       0   |        0   |         0  |  

80)	How do I install SunOS4.1.x by hand(off a CD)?

	Installing SunOS-4.1.X from mounted cdrom:
	
	Note, these commands are examples; filenames may need to be adjusted 
	for your OS version or architecture.  You can perform this from a Sun3 
	or Sun4 running any SunOS-4.1.X, provided you take care to run the 
	right version of "installboot".  The man page includes details about 
	which systems require bootblocks with a.out format executables with
	headers, and which versions of installboot provide such.
	
	You need to change all occurances of /dev/rsd?a etc with
	the proper disk and partition information. For most SCSI
	disk configurations this device is /dev/rsd0a but check
	the boot messages to be sure.

	The example below assumes a SunOS 4.1.3_U1 distribution
	CD-ROM. Change sunos_4_1_3_u1 to the proper value for your
	distribution. 


	1) Label, format, and partition your new hard disk.
	   be sure sd?b is bigger then your physical RAM will be
           (else system dump may overwrite /usr)
	   Use the device name you are installing to.
	   You may want to also make a /dev/rsd?d /var partition
	   
	   newfs /dev/rsd?a ; newfs /dev/rsd?d ; newfs /dev/rsd?f
	   mount /dev/rsd?a /mnt
	   mkdir /mnt/var ; mount /dev/sd?d /mnt/var    # if you made one
	   mkdir /mnt/usr ; mount /dev/sd?f /mnt/usr
	
	2) mount -t hsfs -o ro /dev/sr0 /cdrom
	   cd /mnt
	   tar xpf /cdrom/export/exec/proto_root_sunos_4_1_3_u1
	
	3) Install kernel specific sys files, pick correct directory
	   for your 'arch -k'
	   
	   mkdir /mnt/usr/kvm
	   cd /mnt/usr/kvm
	   tar xpf /cdrom/export/exec/kvm/sun4c_sunos_4_1_3_u1/kvm
	   tar xpf /cdrom/export/exec/kvm/sun4c_sunos_4_1_3_u1/sys
	
	4) pick packages you want, but you must install usr

	   cd /mnt/usr
	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/usr
	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/debugging
      	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/demo
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/games
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/graphics
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/install
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/networking
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/openwindows_demo
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/openwindows_fonts
  	  tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/openwindows_programmers
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/openwindows_users
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/rfs
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/security
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/shlib_custom
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/sunview_demo
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/sunview_programmers
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/sunview_users
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/system_v
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/text
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/tli
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/user_diag
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/uucp
  	   tar xpf /cdrom/export/exec/sun4_sunos_4_1_3_u1/versatec
   	
	
        5) Install man pages if you want
  	   cd /mnt/usr
  	   tar xpf /cdrom/export/share/sunos_4_1_3_u1/manual	
  
        6) set up /sbin
  	   
  	   cp /mnt/usr/etc/hostconfig /mnt/sbin
  	   cp /mnt/usr/etc/ifconfig /mnt/sbin
  	   cp /mnt/usr/etc/init /mnt/sbin
  	   cp /mnt/usr/etc/intr /mnt/sbin
  	   cp /mnt/usr/etc/mount /mnt/sbin
  	   cp /mnt/usr/bin/sh /mnt/sbin
  	   cp /mnt/usr/bin/hostname /mnt/sbin
     
        7)  make new device nodes, you may do as needed
  	   
  	   cd /mnt/dev
  	   ./MAKEDEV std pty0 pty pty2 pty3 win0 win1
  
        8) additional root setup

  	   cp /mnt/usr/kvm/stand/vmunix /mnt
  	   chmod go-x /mnt/vmunix
  	   cp /mnt/usr/kvm/stand/boot.sun4 /mnt/boot
  
        9) run installboot
  	   I suggest reading the man page, note paths below, take care
  	   to run operating installboot binary, but specify device and
  	   paths for new boot disk.  You can even do this from a Sun3.

  	   /usr/kvm/mdec/installboot -ltv /mnt/boot \
  			 /mnt/usr/kvm/mdec/bootsd /dev/rsd?a
  
  	   if you are making a sun4c boot disk and running on a 4 or 4m
  	   machine:

  	   /usr/kvm/mdec/installboot -ltvh /mnt/boot \
  			/mnt/usr/kvm/mdec/bootsd /dev/rsd?a
  
  	   if you are making a sun4 boot disk on a 4c machine, you need
  	   to use a 4c installboot, not the one on your sun4.
  
       10) if it will have a Lance interface
  		echo newhostname > /mnt/etc/hostname.le0
  	   or if will have an Intel interface
  		echo newhostname > /mnt/etc/hostname.ie0
  
       11) create /mnt/etc/fstab, /mnt/etc/defaultrouter, 
  	   /mnt/etc/resolv.conf
  	   /mnt/etc/hosts  (must have own entry here)
  	   I also create /mnt/etc/shells, /mnt/etc/ftpusers
  	   Depending on your timezone:
  	   don't forget to 'rm /usr/lib/zoneinfo/localtime', then

  	      'ln /usr/lib/zoneinfo/EST5EDT /usr/lib/zoneinfo/localtime'
  
       12) Perform sanity check
	   umount and fsck he newly installed filesystems 

  	   umount /mnt/usr
  	   umount /mnt/var
  	   umount /mnt
  	      for the really paranoid:
  	   fsck /dev/rsd?f
  	   fsck /dev/rsd?d
  	   fsck /dev/rsd?a
  
	I suggest booting single user the first time ( from the '>'
	prompt  b sd() -s or from the ok prompt boot disk -s ).
	
	Knowing the above may save you from doing total re-installs just
	because of a messed up root partition or similar.  
	
	If you are copying an existing OS, instead of extracting distribution
	tar files, you may use the following before running installboot etc...: 
	
		dump 0dsf 6250 200000 - <directories and files to include> |
			 (cd /mnt/<area> ; restore -rf - )
	or
		find . -depth -print | cpio -pdlm newdir

	You  use find command rules to limit to a device or skip/include
	specific files.

	You could use tar to copy these directories too but
	you will have to recreate all the devices using in MAKEDEV
	which can take a long time.
	
	Last Updated:  January 27, 1995.

81)     There is a problem with the firmware on older SUN207 drives
        that makes them incompatible with the SPARCstation 10 series.
        Sun has been known to replace these at no charge, although
        there may not be an "official" return policy.  Your drive 
        must have firmware revision 19 or higher to be functional
        in a SPARCstation 10.

82)	I'm running SunOS/4.1.x and every time I try to format my
    	new 9GB SCSI disk I get "format failed" messages -- what's
    	broke, and how can I fix it?

	The SunOS kernel has a default timeout of two hours for SCSI
    	formatting -- if the time required to perform the format is
    	longer, the format fails.

    	Edit /usr/sys/scsi/targets/sddef.h and apply the following "diff",
    	then rebuild the kernel:

*** sddef.h.orig  Tue Nov 29 07:52:53 1994
--- sddef.h  Tue Nov 29 07:52:53 1994
***************
*** 396 ****
! #define SD_FMT_TIME     120*60
*** 396 ****
! #define SD_FMT_TIME     240*60

	Or you can use this small adb script to modify the SCSI
	format timeout in the running kernel.
	
	#!/bin/sh
	adb -k -w /vmunix /dev/mem  << EOF
	sd_fmt_time /W 0t9600
	EOF


	Last Updated:  April 14, 1995.

83)   	I can not get my new Exabyte 8505(or others) working under
     	SunOS(or Solaris) What to do ?

	Out of the box this drive and other Exabytes are not supported
	under Solaris2.3 or SunOS4.1.x.

	Here is what to do under SunOS
	Modify /sys/scsi/targets/st_conf.c before, after, or between the 8200 
	insert the following:

	/* Exabyte 8mm 5GB cartridge  w/compression*/ \
	{
	 "Exabyte EXB8505", 16, "EXABYTE EXB-8505", ST_TYPE_EXB8500, \
	 1024, (ST_VARIABLE | ST_BSF | ST_BSR | ST_LONG_ERASE | ST_KNOWS_EOD), \
         5000, 5000,
         { 0x14, 0x15, 0x90, 0x8c },
         { 0, 0, 0, 0 } 
	},

	Once you've remade your kernel it appears as 4 different devices:

	/dev/rst0 	- 2.3Gb             (8200 mode)
	/dev/rst8	- 5Gb               (8500 mode)
	/dev/rst16	- 2.3Gb compressed  (8200c mode)
	/dev/rst24	- 5Gb compressed    (8500c mode)
	
       	The above assumes tape drive is installed at the default SCSI id.

	Under Solaris2.x do the following:

	Edit /kernel/drv/st.conf and add

	tape-config-list=
        "EXABYTE EXB-8505", "Exabyte 8505  8mm Helical Scan", "Exa8500c_sol2_3";
        Exa8500c_sol2_3 = 1,0x29,1024,0xCE39,4,0x14,0x15,0x90,0x8C,3;

	Once the device driver is re-loaded, the following densities will be
	accessible:

	/dev/rmt/0l   - 2.3Gb             (8200 mode)
	/dev/rmt/0m   - 5Gb               (8500 mode)
	/dev/rmt/0h   - 2.3Gb compressed  (8200c mode)
	/dev/rmt/0c   - 5Gb compressed    (8500c mode)

   	The above assumes tape drive is installed at the default SCSI id.

   	Since the default density specified above is 3 (last number in entry),
	when /dev/rmt/0 is specified, device /dev/rmt/0c (5Gb compressed) will
	be used.

	For SunOS and a 10-Gigibyte Exabyte the settings are as follows:

	/* Exabyte 8mm 10GB cartridge */
	{
        	"Exabyte EXB-8500 8mm Helical Scan", 15, "EXABYTE EXB-8500",
        	ST_TYPE_EXB8500, 1024,
        	(ST_VARIABLE | ST_BSF | ST_BSR | ST_LONG_ERASE),
        	5000, 5000,
        	{ 0x14, 0x15, 0x8C, 0x8C },
        	{  0, 0, 0, 0 }

	The device is accessed via a +16 offset from the normal 
	tape devices ie /dev/rst{16,17}. Dump parameters are 
	dsb 54000 26000 126.

	For SunOS and the new SUN 14GB 8mm Drive:

	/* Exabyte 8mm 14GB TRI-DENSITY cartridge */
	{
        	"Exabyte EXB-8505 8mm Helical Scan", 16, "EXABYTE EXB-8505",
        	ST_TYPE_EXB8500, 1024,
        	(ST_VARIABLE | ST_BSF | ST_BSR | ST_LONG_ERASE),
        	5000, 5000,
        	{ 0x14, 0x15, 0x8C, 0x8C },
        	{  0, 0, 0, 0 }
	}

	Last Updated:  April 14, 1995.



84) 	The keyboard keeps stop working after exiting X or Openwin.
	What to do?

	For the general case all you need to do is log in remotely
	and reset the keyboard using /usr/openwin/bin/kbd_mode -a

	If this does not work I have modified kbd_mode to do a full keyboard
 	power on reset (thor.ece.uc.edu:/pub/sun-faq/Source/reset_keyboard.c)

	If that does not seem to help you may have a white on white
	screen so try to clear the colormap using clear_colormap.

	Make sure that you add kbd_mode -a  to all you X11 startup scripts.

	Last Updated:  April 14, 1995.


85) 	How do I re-build the kernel under SunOS4.x?

	Here is the procedure.

	 1) cd /sys/`arch -k`/conf
	 2) Read the README.
	 3) Make a copy of the proper template file(ie cp GENERIC MYKERNEL)
	 4) Edit MYKERNEL  - Remove any unneeded drivers. These are memory
			     wasters. Also, probably want to increase
			     MAXUSERS to at least 50.
	 5) config MYKERNEL
	 6) cd ../MYKERNEL
	 7) make
	 8) cp /vmunix /vmunix.save
	 9) cp vmunix /vmunix
	10) Reboot machine to make the new kernel active. 
	
	Last Updated:  April 14, 1995.
	
86) 	How do I hook up a HP(or other) Desktop SCANNER?

	You need PINT which available from uniwa.uwa.edu.au (130.95.128.1)
 	in /pub/pint.

	Last Updated:  March 31, 1995.

87) 	How do I find which process has a file open?

	Fuser and the the Public domain/Freeware utility lsof can be used
	to find processes that have files open and much more.

	Note: fuser on SunOS4.1.x is located in /usr/kvm.

	lsof can be ftped from vic.cc.purdue.edu:/pub/tools/unix/lsof/

	lsof and fuser are available for both Solaris 2.x and SunOS 4.1.x.

	Last Updated:  April 14, 1995.


	
88)  	How do I create a partition greater than 2-gig on SunOS4.1.x?

	The max size without any additional software is 2-gig under
	SunOS.  The only way to get larger partitions is to purchase
	Online: Disksuite for SunOS4.1.x from Sun. Not only can you create
	partitions of up to 1 TB, but you can grow partitions on the fly,
	mirror, and hotswap with ODS. However, you are still limited to
	2-Gig files.

	Note: Solaris2.3 or higher can have 1-Terabyte partitions.


89)  	Why do I keep having to answer the question 
	"CLEAN FLAG IN SUPERBLOCK IS WRONG; Fix?" when running fsck on
	an active filesystem?

	You are not supposed to under any circumstances run fsck on 
	a mounted filesystem. Under these cirumstances Fsck can itself
 	cause inconsistencies to the filesystem and you should always
	you umount the filesystem frist.
	

90) 	Are dynamically linked setuid executables insecure?

	Not particularly.

	From the "ld" man page from SunOS 4.1.3:

  		NOTE: when running a set-user- or set-group-ID program, ld.so
		will only search for libraries in directories it "trusts",
		which are /usr/lib, /usr/5lib, /usr/local/lib, and any
	        directories specified within the executable as a result of
	 	-L options given when the executable was constructed.

	Of course you do always want to link with absolute pathnames
	when using the -L linker option and probably destroy any
	LD_* variables when running(just a little paranoia). 


91)	How do I change the default router under Solaris1.x or Solaris2.x?

	Just create or edit the file /etc/defaultrouter and put the hostname
	or ip address of the router that you want to use.

	If you are not running NIS(yp), then add the router entry in the
	local /etc/hosts table.

	If you are running NIS(yp), then add the router entry in the NIS
	hosts map on the NIS master and run make which will build the NIS
	maps and push them to the other slave servers.


92)	What is the difference between the Domestic vs International version
	of SunOS 4.1.x?

	There is no "domestic" vs "international" version of SunOS 4.1.x.
	There is only one version the "international".

	What makes a  "domestic" version of the SunOS is a the purchase
	and installation of US Encryption Kit available from with the
	United States and Canada(?).

	If you have installed this kit you must use the libc jumbo patch
	for the "domestic" version. Otherwise always install the 
	"international" version.

	If you have the symbols des_encrypt etc in your shared library,
 	and vi -x works, and you the commands crypt(1) and des(1) you
	have the "domestic" version of the library and associated commands.

	Do an nm /lib/libc.a | grep des_encrypt | grep T
	if this cames back with anything you have the "domestic"
	libraries.

	Last Updated:  January 27, 1995.

93)	Where can I get the latest version of TOP? 

	The latest version of "top" is always available via anonymous FTP
	from the host "eecs.nwu.edu" in the directory "/pub/top".  Additional
	modules will be made available in the directory "/pub/top/m".

	The current version supports both SunOS4.1.x and Solaris2.x 
	machines including full Multiprocessor support (even on machines
	with CPU labeled 0 and 2 and not 0 and 1).

	Last Updated:  January 27, 1995.

94)	Can I run the SX card in a Sun running SunOS4.1.x?

	THEY DO NOT EXIST NOR WILL THEY(unless one of the Clone makers
	writes one). If you want to use the SX, YOU MUST USE Solaris 2.3 or
	above.

	If you MUST run Solaris 1.x then get your salesperson to exchange it
	for a TGX/TGX+(or other 8-bit card) or go with a 3rd party framebuffer
	such as the RasterFlex-24.

95)	I just changed my shell to tcsh(or pick a favorite) and
	get  "530 User xyzz access denied" when ftping into this 
	machine. What is the problem?

	You need to list all "valid" shells in /etc/shells. An example
	of this file might be as follows:

		/bin/sh
		/bin/ksh
		/bin/csh
		/local/bin/tcsh
		/local/bin/zsh
		/local/bin/bash
		/local/bin/rc

	This files does not normally exist and the default members are
	/bin/csh and /bin/sh(and /bin/ksh on Solaris2.x).

	Last Updated:  January 10, 1995.

96)	How do I put several dump images on one tape?

	All you need to do is use the No rewind devices. For example,
	to backup /, /usr, /var, and /home to one tape(assuming all
	will fit) you could do something like this:

	mt -f /dev/rst8 rew		# Rewind the tape to the beginning
	dump 0budfs 126 54000 /dev/nrst8 6000    /
	dump 0budfs 126 54000 /dev/nrst8 6000    /usr
	dump 0budfs 126 54000 /dev/nrst8 6000    /var
	dump 0budfs 126 54000 /dev/nrst8 6000    /home

	Where /dev/nrst8 is a no rewind device under SunOS. Any
	of the valid tape devices in /dev that start with a 'n' are
	no rewind devices.	

	Under Solaris change dump to ufsdump and /dev/nrst8 to /dev/rmt/0n
	All devices in /dev/rmt/ ending in a 'n' are no rewind devices.

	You can safely ignore any messages about dump rewinding the tape.
	To restore files off the tape use the following command:

		restore -ifs /dev/nrewinddevice filenumber  -- SunOS
		ufsrestore -ifs /dev/rmt/nrewinddevice filenumber  -- Solaris

		-ifs is for interactive restore  or use
	        -rfs to restore entire dump file.

	It is a good idea to try restore something off this tape
	to verify that the dump worked. Of course you do not have to do
	this for ever tape just the first few and maybe spot check some
	after that.
	
	Note: the above method can be adopted to other backup commands
	      like tar and cpio.

	Last Updated:  January 27, 1995.

97)	Can I "dump" the whole disk to tape in one command?
	(even with several slices/partitions)

	No, you have to back up each slice separately because
	dump does not do "image" backups. See question  96 for
	the proper procedure.

	You could use the command dd to make an "image" backup of the
	entire disk but all you could do is restore the entire
	backup and not bits and pieces.

	Last Updated:  January 27, 1995.

98)	Where do I get software for my HP JetDirect Ethernet Card?

	JetAdmin software is available via anon-ftp from 
	ftpboi.external.hp.com, in the directory pub/jetdirect.  Software
	for both SunOS4.1.x and Solaris2.x is available.

	Also, you can get it via WWW using the following:

		http://www.hp.com/Misc/Peripherals.html

	Last Updated:  January 17, 1995.

99)	I do not know the root password, What do I do?

	First thing to try: (SunOS 4.x.x)
	
	Get to the boot monitor prompt by holding down the stop and
	A. Type sync to help ensure that you have no filesystem
	corruption on booting. You will need to hit STOP-A again to
	interrupt the boot process.

	Now at the '>' prompt type 
	
		b  -s 

	Or at the 'ok' prompt type 

		boot -s

	This should give you a root prompt as long as the console
	entry in /etc/ttytab is marked secure.

	If you get the '#' you should be able to edit the 
	the /etc/passwd file and remove the encrypted string for
	root's passwd or set it to what you want using the passwd
	command. 

	Once you are done type reboot to bring the machine back up.

	Second thing to try: (SunOS 4.1.x and Solaris2.x)

	Boot off the network or CD-ROM and mount the root device
	and edit the passwd file.

	Note: both of these assume no eeprom password.

	Last Updated:  January 17, 1995.

100)	Where do I find a POP server for Solaris or SunOS?

	You can get qpop from the following location

		ftp://ftp.qualcomm.com/quest/unix/servers/popper/

	Or you can get the IMAP distribution which contains a IMAP server,
	a POP 2 server, and a POP 3 server from the University of Washington
	from
 
		ftp://pine.cac.washington.edu/mail/imap.tar.Z

	This site also contains a list of IMAP client software.

	You should avoid the old Berkeley popper because of
	its many bugs and it is no longer well supported.
	Both of the above popper programs are well supported.

	Last Updated: February 9, 1995.

101)	How do I clear Stale NFS Filehandles?

	You have to umount the offending filesystem and remount.
	You may able to do something like this:

	mount -o remount /offending-filesystem

	If this does not work try:

	umount /offending-filesystem
	mount /offending-filesystem

	Finally, if none of the above works reboot.

	Last Updated:  January 17, 1995.

102)	How can I use the same ethernet interface for two different IP networks?

	The Solaris kernel supports the concept of IP aliases and you
	can do something like this 

		ifconfig le0:1 	ipaddr netmask ....

	You can do the same under SunOS4.1.x if you install the VIF code.
	Can be picked up via anonymous FTP from:

		ugle.unit.no:/pub/unix/network/vif-1.0.tar.gz

	Last Updated:  January 27, 1995.


103) 	Where do I get CAP for Solaris (or SunOS 4.1.x)?

	Here is a list of ftp sites for CAP.

        munnari.OZ.AU           /mac/{cap60.tar.Z,cap.patches/*
        rutgers.EDU             /src/{cap60.tar.Z,cap60.patches/*
        ftp.kuis.kyoto-u.AC.JP  /net/cap/{cap60.tar.Z,cap60.patches/*.Z
        src.doc.ic.AC.UK        /mac/multigate/{cap60.tar.Z,cap.patches/*

	Make sure that you get all the patches and apply them.
	The main cap60.tar.Z  does not have any patches applied. You
	will need to apply all 192(or is 194) patches before compiling.

	Under Solaris make sure that you are using gcc or /opt/SUNWspro/bin/cc
	to compile.

	Last Updated:  January 17, 1995.

104) 	Where do I get DOOM for Solaris (or SunOS 4.1.x)?

	Doom for SunOS 4.1.x is not available at this time and it
	is unlikely that it will be.

	Doom for Solaris2.4 is available and can be retrieved
	from playground.sun.com:/pub/doom/sundgadoomv1.8.tar.Z
	The X version of doom in this tar file works fine 
	under Solaris2.3. The DGA version does not.

	This is the SPARC version. There are no plans for
	an x86 version at this time.

	Last Updated:  January 25, 1995.


105)	Why does "dump/ufsdump" tell me it is rewinding the tape even
	when I specified the "no rewind" device?

	Dump can not tell the difference between a "rewind device"
	and a "non rewind device". However, "dump" does
	not rewind the tape even though it says it is rewinding
	the tape.

	So you can safely ignore the "the tape rewinding" messages
	from dump when using "no rewind devices".

	Last Updated:  April 14, 1995.

106)	How can you I speed up filesystem restores and/or copies?

	In all versions of SunOS 4.1.2 and later (including Solaris2.x) 
	you can use special filesystem level ioctl. A program written
	by Caspar Dik that uses this ioctl can be downloaded as

	thor.ece.uc.edu:/pub/sun-faq/Source/fastfs.c

	Please remember that using this program will in many
	cases cause fsck to be completely unable to fix your disk in
	the case of unexpected system shutdown.  Yes, it goes faster -
	at a very significant risk of losing the entire filesystem.

	When is using this appropriate?
	When:

	1) You're creating a new filesystem via a copy from somewhere else.
	2) You're removing all the files from a partition.
	3) You're updating a partition with files from elsewhere, and the
   		entire contents are restorable.

	Remember, this doesn't make IO go any faster, it just allows metadata
	to be written asynchronously.  If you are creating a 100 M file, this
	won't help much.  If, on the other hand, you are writing 100000 1k
	files, this will help enormously.

	Remember to restore the safe mode before shutting the system down!

	Think of this as a large chainsaw; it can be useful but has significant
	chance of unintended side effects when used by the inexperienced.

	Last Updated:  April 14, 1995.

