%!
%
% Date: Tue, 26 Jul 88 21:25:03 EDT
% To: NeWS-makers@brillig.umd.edu
% Subject: NeWS meltdown
% From: eagle!icdoc!Ist!jh@ucbvax.Berkeley.EDU  (Jeremy Huxtable)
% 
% I thought it was time one of these appeared as well....

% NeWS screen meltdown
%
% Jeremy Huxtable
%
% Mon Jul 25 17:36:06 BST 1988

% The procedure "melt" implements the ever-popular screen meltdown feature.

/melt {
    3 dict begin
	/c framebuffer newcanvas def
	framebuffer setcanvas clippath c reshapecanvas
	clippath pathbbox /height exch def /width exch def pop pop
	c /Transparent true put
	c /Mapped true put
	c setcanvas

	1 1 1000 {
	    pop
	    random 800 mul
	    random 600 mul
	    random width 3 index sub mul
	    random height 2 index sub mul
	    4 2 roll
	    rectpath
	    0
	    random -5 mul
	    copyarea
	    pause
	} for

	framebuffer setcanvas
	c /Mapped false put
	/c null def
    end
} def

melt
