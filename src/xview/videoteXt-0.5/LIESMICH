============================================================================
Anleitung zu VideoteXt V0.5                Copyright (c) 1994-95 Martin Buck
============================================================================


Mit diesem Programm und dem entsprechenden, mitgelieferten Treiber ist es
möglich, Videotextseiten von einer Videotextkarte einzulesen, darzustellen
und abzuspeichern. Es existiert eine Kommandozeilenversion, die
hauptsächlich für den Batch-Betrieb gedacht ist und eine interaktive Version
für das X-Window-System, die das XView-Toolkit verwendet. Außerdem kann
VideoteXt auch als Viewer für den INtv-Videotext im WWW benutzt werden.



Installation
------------

Falls der Videotext-Device-Treiber (mindestens Version 1.4) noch nicht
installiert ist, muß dies zuerst geschehen (andernfalls wird das benötigte
Include-File nicht gefunden). Außerdem sollte bei Verwedung der aktuellen
"Release of the Week" immer der Treiber aus demselben Paket installiert
werden, da sich bei diesen Versionen die IOCTL-Schnittstelle des Treibers
ändern kann, ohne daß sich die Versionsnummer des Treibers ändert.

Zur Installation des Treibers bitte ins Verzeichnis 'driver' wechseln und
den Anweisungen in 'LIESMICH' folgen. Zum Ausprobieren oder zur Benutzung
als Viewer für die INtv-Videotextseiten im WWW kann VideoteXt auch ohne
installierten Treiber compiliert werden; dann muß im Makefile allerdings das
Kommentarzeichen vor der Zeile 'DRIVER_KLUGE = -Idriver' entfernt werden.

Im Makefile sollten außer bei den Installationsdirectories und dem
OpenWindows-Verzeichnis keine Änderungen notwendig sein. Das Programm wird
mit 'make' compiliert, wozu außer einem ANSI-C-Compiler (getestet mit gcc
2.5.8 und Slowlaris-2-cc) auch GNU-make, GNU-awk und bdftopcf notwendig
sind. Außerdem müssen für die X-Window-Version die XView-Libraries und
Headerfiles (Version >=3.2) installiert sein (z.B. von
ftp://sunsite.unc.edu/pub/Linux/libs/X/xview*). Die XView-Libraries für
XFree86 >3.0 aus Slackware 2.1 und 2.2 sind fehlerhaft und sollten nicht
verwendet werden.

Die Installation erfolgt mit 'make install', ein erster Test kann aber auch
schon vorher durchgeführt werden. Allerdings muß dann zuvor noch der
Font-Pfad erweitert werden (mit 'mkfontdir fonts' und 'xset +fp
`pwd`/fonts'), damit die X-Version die zur Darstellung notwendigen Fonts
finden kann. Nach der Installation sollte überprüft werden, ob das
Verzeichnis mit den VideoteXt-Fonts im Font-Pfad des X-Servers vorhanden ist
('xset q'); außerdem ist der Befehl 'xset fp rehash' notwendig, da die Fonts
sonst erst nach einem Neustart der X-Servers gefunden werden.



Benutzung von VideoteXt (XView-Version)
---------------------------------------

VideoteXt kann interaktiv unter Verwendung des XView-Toolkits bedient
werden. Die Hightlights sind die Unterstützung von TOP-Text, mit dessen
Hilfe alle Videotextseiten im Hintergrund empfangen werden und dann
sofort bei Eingabe der Seitennummer zur Verfügung stehen; außerdem können
mit Hilfe der TOP-Text-Seitentitel unbekannte Seiten schnell aufgefunden
werden. Weiterhin können in einer "Hotlist" für jeden Sender die
beliebtesten Seiten gespeichert werden, die dann im Voraus gesucht werden.
Videotextseiten können natürlich gespeichert und geladen werden, außerdem
ist ein Exportieren im GIF-, PPM-, ASCII- und PostScipt-Format möglich.


Ein paar Bemerkungen zum User-Interface:

VideoteXt hält sich an die üblichen XView-Konventionen, d.h. in
Dialogfenstern eingegebene Werte werden erst dann aktiv, wenn der
'Apply'-Button gedrückt wird. Außerdem verschwinden diese Fenster erst dann,
wenn sie explizit mit 'Close' oder dem entsprechenden Window-Manager-Button
geschlossen werden (bei Fileselect-Boxen heißen diese Button übrigens
inkonsequenterweise 'Open'/'Save' bzw. 'Cancel', haben aber dieselbe
Funktion wie 'Apply'/'Close').

Die Popup-Windows können auf Wunsch automatisch plaziert werden (Menü
Options->Window-layout), dazu sind allerdings einige schmutzige Tricks
notwendig, um die Größe der Window-Manager-Dekoration zu ermitteln. Es ist
möglich, daß dies mit einigen Window-Managern nicht richtig funktioniert
(bis jetzt ist mir nur gwm (generic window manager -- ich glaube nicht, daß
er von irgendeinem vernünftigen Menschen verwendet wird :-) negativ
aufgefallen). In diesem Fall können die Abmessungen der Window-Manager-
Dekoration von Hand angegeben werden (mehr dazu weiter unten).

Für einige Buttons sind Hotkeys definiert. Diese sind im folgenden in
Klammern angegeben. Viele dieser Hotkeys können auch ohne Meta gedrückt
werden; einige kollidieren allerdings mit den hexadezimalen Ziffern, die zur
Eingabe der Seitennummer benötigt werden -- bei diesen muß dann auf jeden
Fall Meta gedrückt werden. Außerdem können die Funktionen 'Reset' und 'Exit'
zum Schutz vor unabsichtlicher Bedienung nur zusammen mit Meta ausgelöst
werden.


Bedeutung der User-Interface-Elemente:

Die Nummer der im Fenster dargestellten Videotext-Seite wird rechts oben
angezeigt. Bei Mehrfachseiten erscheint hier auch die Unterseitennummer,
außerdem wird angezeigt, wieviele Unterseiten sich schon im Cache befinden.
Bei Sendern, die TOP-Text ausstrahlen, wird zusätzlich die Anzahl der
ausgestrahlten Unterseiten angezeigt.

Mit den '+'- bzw. '-'-Buttons (+/-, Cursor hoch/Cursor runter) wird jeweils
eine Seite bzw. Unterseite vor- oder zurückgeschaltet.

Im Feld 'Page' kann die zu suchende Seite eingegeben werden (hierbei sind
auch hexadezimale Seiten im Bereich 100-8FF zulässig). Die Seite wird im
Vordergrund gesucht, sobald der 'Search'-Button (Return) gedrückt wird. Die
Hintergrundsuche der Seite wird mit 'Search bg' (Meta-Return) gestartet;
dabei wird die Seite in einem internen Cache gespeichert, sobald sie
gefunden wurde. Wenn diese Seite dann das nächste Mal im Vordergrund gesucht
wird, steht sie sofort zur Verfügung. Außerdem kann die Suche nach einer
Seite auch gestartet werden, indem auf der Videotextseite eine dreistellige
Zahl mit der Maus angeklickt wird (Taste 1 für Vordergrundsuche, Taste 3 für
Hintergrundsuche). Nach einer bestimmten Unterseite kann gesucht werden,
indem im Feld 'Subpg.' die entsprechende Nummer (1-7F) eingetragen wird.
Durch einen Druck auf 'Cont.' (Meta-C) laufen die Unterseiten wieder durch,
d.h. es wird immer die aktuell ausgestrahlte Unterseite dargestellt.

Mit der 'Stop'-Checkbox (Meta-S) kann die aktuelle Seite eingefroren werden
(z.B. bei Mehrfachseiten).

Die 'Reveal'-Checkbox (Meta-E) deckt die versteckten Teile einer Seite auf.

In der Fußzeile wird links angezeigt, nach welchen Seiten die einzelnen
Suchkreise suchen; rechts wird der automatisch erkannte Sendername
angezeigt. Falls hier der Zusatz 'Unknown charset' auftaucht, ist die
Codierung des Zeichensatzes des im Moment eingestellten Senders unbekannt
(passiert z.B. bei TRT Int.). Falls jemand Informationen über die Codierung
der von VideoteXt nicht erkannten Zeichensätze hat, bitte bei mir melden.


Im 'File'-Menü stehen folgenden Funktionen zur Verfügung:

'Load' lädt eine Seite, die im internen VideoteXt-Format abgespeichert
wurde. Da sich dieses Format geändert hat, können Seiten, die mit Version
0.3 gespeichert wurden, leider nich mehr geladen werden.

'Save' speichert die aktuelle Seite im internen VideoteXt-Format. Dabei wird
automatisch ein Dateiname vorgeschlagen, der sich aus Sendername, Seiten-
und Unterseitennummer zusammensetzt. VideoteXt kann die Ausgabe statt in
eine Datei auch in eine Pipe schreiben. Dazu muß das Pipe-Symbol ('|') als
erstes Zeichen des Namens eingegeben werden.

'Export' dient zum Exportieren der aktuellen Seite in verschiedenen
Formaten. Als Grafikformate stehen GIF (GIF87) und PPM (binär) zur
Verfügung. Dabei wird die aktuell eingestellte Fontgröße verwendet. Außerdem
kann die Seite in einer Textdatei gespeichert werden (mit ISO-Latin-1
Zeichensatz). Dabei gehen allerdings Grafikzeichen und einige Sonderzeichen
verloren. Zusätzlich kann die Seite im PostScript-Format exportiert werden
(farbig, schwarz-weiß oder schwarz-weiß invertiert). Dabei folgen die
exportierten Seiten den EPSF-Konventionen, d.h. sie können entweder direkt
gedruckt oder in andere Dokumente eingebunden werden. Durch einen Druck auf
den 'Use default printer'-Button wird der im Dialogfeld 'Options->Misc
options' eingestellte, zum aktuellen Ausgabeformat passende Druckbefehl ins
Eingabefeld eingefügt. Auch hier kann wieder wie bei 'Save' eine Pipe
verwendet werden.

Mit 'Reset' (Meta-R) wird der Cache für schon empfangene Seiten und die
History-Liste von VideoteXt gelöscht; außerdem wird die aktuelle Seite auf
100 zurückgesetzt, die Suche nach den in der Hotlist eingestellten Seiten
gestartet und versucht, den eingestellten Sender zu erkennen. Dies ist immer
nach einem Senderwechsel notwendig. Wenn alle Sendernamen richtig
eingetragen wurden (siehe unten) und die entsprechende Funktion in
'Options->Misc options' aktiviert wurde, werden Senderwechsel automatisch
erkannt. 'Reset' ist dann nicht mehr notwendig.

'Statistics' zeigt einige Informationen über den im Moment empfangenen
Sender (sofern dieser TOP-Text ausstrahlt) und die Anzahl und den
Speicherverbrauch der im Cache befindlichen Seiten an.

'About' zeigt alles Wissenswerte über VideoteXt.

'Exit' (Meta-X) ist (neben dem Close-Button des Window-Managers) der
"offizielle" Weg, VideoteXt zu beenden, wobei evtl. Änderungen in den
Hotlists und den Optionen für die einelnen Sender automatisch in
~/.vtx-hotlist abgespeichert werden. Wird VideoteXt durch einen Fehler oder
mit Ctrl-C abgebrochen, werden Änderungen nicht abgespeichert!


Das 'Gadgets'-Menü dient zum Aktivieren der verschiedenen Popup-Fenster:

'Page history' speichert die Nummern der Seiten, die bereits gesucht wurden.
Zusätzlich werden auch die Seiten aus der Hotlist angezeigt. Videotextseiten
können entweder durch einen Doppelklick auf die Seitennummer oder durch
Anklicken des 'Go to'-Buttons gesucht werden. Mit 'Previous' (Meta-P) bzw.
'Next' (Meta-N) kann auf die vorherige/nächste Seite weitergeschaltet
werden. Die Symbole neben den Seitennummern zeigen den Status der jeweiligen
Seite an. Die Augen bedeuten dabei, daß nach der Seite gesucht wird; das
Blatt Papier zeigt an, daß eine Seite gefunden aber noch nicht gelesen
wurde; die Augen zusammen mit einem Blatt Papier bedeuten, daß die Seite
schon im Cache vorhanden ist, aber trotzdem noch danach gesucht wird (z.B.
bei Mehrfachseiten); ein Häckchen mit Blatt heißt, daß die Seite bereits
gelesen wurde und die Uhr zeigt an, daß bei der Seite ein Timeout
aufgetreten ist und diese vermutlich nicht ausgestrahlt wird. Mit dem Button
'Index pg' wird zur (einstellbaren) Indexseite gesprungen.

'TOP-Text' zeigt (bei Sendern, die TOP-Text ausstrahlen) den Titel der
aktuellen, nächsten und vorigen Seite, der nächsten Gruppenseite und der
nächsten Blockseite an. Mit den Buttons 'Next page' (Seite hoch), 'Prev.
page' (Seite runter), 'Next group' (Meta-G) oder 'Next block' (Meta-B) wird
auf die entpsrechenden Seiten gesprungen. Mit den Buttons 'Overview' bzw.
'Hierarchy' kann eine Gesamtübersicht bzw. eine hierarchische Ansicht
(getrennt nach Block- und Gruppenseiten) der Seiten, für die eine
Beschreibung vorhanden ist, angezeigt werden.

'Hotlist' zeigt die für den aktuellen Sender gültige Hotlist (Liste der
beliebtesten Seiten) an, was allerdings nur funktioniert, wenn für den
jeweiligen Sender schon ein Name vergeben wurde. Auch hier kann wieder mit
einem Doppelklick bzw. mit 'Go to' zur jeweiligen Seite gesprungen werden.
Mit 'Move up' bzw. 'Move down' kann die Position der ausgewählten Seite in
der Hotlist verändert werden, um die Reihenfolge, in der die Seiten gesucht
werden zu bestimmen. Seiten, die nicht immer vorhanden sind, sollten ans
Ende der Hotlist gestellt werden, da sonst bei der Suche nach einer nicht
vorhandenen Seite bis zum Timeout gewartet muß, bis der Suchkreis wieder
freigegeben wird. Mit 'Add current' wird die im Hauptfenster eingegebene
Seite in die Hotlist eingefügt und mit 'Remove' die ausgewählte Seite
gelöscht.

Mit 'Select station' kann der aktuelle Sender eingestellt werden, falls
dieser nicht automatisch erkannt wird. Dazu genügt ein Doppelklick auf den
Sendernamen bzw. ein Klick auf 'Apply'. Außerdem können in diesem
Dialogfenster die Namen der einzelnen Sender definiert werden, was notwendig
ist, um die Sender automatisch erkennen und die jeweils richtige Hotlist
zuordnen zu können. Soll ein Sendername geändert werden, muß der zu ändernde
Sender ausgewählt und dann 'Change Name' angeklickt werden. Ein neuer Sender
kann eingefügt werden, indem 'Unknown' als Sender ausgewählt und dessen Name
geändert wird. Im daraufhin erscheinenden Dialogfenster kann entweder der
neue Name von Hand eingegeben werden oder mit 'Read header' die aktuelle
Kopfzeile eingefügt werden. Aus dieser Kopfzeile sollten dann alle Zeichen
bis auf den Sendernamen gelöscht werden, da VideoteXt den hier eingegebenen
Namen in der Kopfzeile wiederfinden muß, um einen Sender automatisch zu
erkennen.


Im 'Options'-Menü können folgende Einstellungen geändert werden:

Mit 'Font' kann die Größe des im Hauptfenster benutzten Zeichensatzes
ausgewählt werden. Außerdem kann der Font auch durch Vergrößern bzw.
Verkleinern des Hauptfensters geändert werden, da VideoteXt automatisch die
größte ins Fenster passende Fontgröße auswählt.

'Screen updates' bestimmt die Verzögerung zwischen den Updates der
Kopfzeile. Je größer die Geschwindigkeit der Updates ist, desto höher ist
auch die Systemlast, die VideoteXt erzeugt.

Im Dialogfenster 'Window layout' kann die Anordnung der einzelnen
Popup-Fenster festgelegt werden. 'Centered' sollte mit jedem Window-Manager
problemlos funktionieren; die anderen Einstellungen, die versuchen, die
Popup-Fenster genau am Rand des Hauptfensters zu positionieren, benötigen
evtl. eine Anpassung an den verwendeten Window-Manager. Außerdem kann in
diesem Dialogfeld festgelegt werden, welche Fenster beim Start standardmäßig
geöffnet werden und ob das TOP-Text-Fenster bei Sendern mit TOP-Text
automatisch aktiviert wird.

Mit 'TV options' kann die Darstellung der Videotextseiten auf einem
angeschlossenen Fernsehgerät aktiviert/beeinflußt werden. Je nach
Hardwareausbau funktioniert dies nicht mit allen Interfaces. Mit 'Display
pages on TV' kann festgelegt werden, ob die Seiten überhaupt auf dem
Fernseher dargestellt werden. Ist kein Fernseher angeschlossen, sollte diese
Option ausgeschaltet werden, da die Seiten zur Darstellung doppelt über den
I²C-Bus geschickt werden müssen, was zusätzliche Rechenzeit kostet und
VideoteXt langsamer macht. Wenn die Anzeige der Seiten auf dem Fernseher
aktiviert ist, kann mit 'Always use interlace' bestimmt werden, ob der
Deocder immer mit Zeilensprung arbeitet oder nicht (normalerweise wird nur
dann Zeilensprung verwendet, wenn das Videotext-Bild in ein laufendes
Fernsehbild eingeblendet werden soll, da die Darstellung mit Zeilensprung
etwas unruhiger ist. Leider benötigen manche Fernsehgeräte/Videotext-
Interfaces den Zeilensprung immer, um überhaupt ein stehendes Bild zu
erzeugen). Mit 'Display mode' kann festgelegt werden, ob die Videotextseiten
immer das ganze Bild ausfüllen ('Normal'), ob die Seiten mit
durchscheinendem Hintergrund ins laufende Fernsehbild eingeblendet werden
sollen ('Transparent') oder ob nur Untertitel und Blitzmeldungen ins
laufende Fernsehbild eingeblendet werden sollen ('Insert').

Im Dialogfeld 'Misc. options' kann festgelegt werden, ob VideoteXt bei einem
erkannten Senderwechsel automatisch einen Reset durchführt. Damit dies
funktioniert, müssen alle Sendernamen richtig eingestellt sein (siehe
'Select station'). Außerdem können hier die Befehle eingestellt werden, die
zum Drucken bei den verschiedenen Ausgabeformaten verwendet werden.

Mit 'Save global options' können die obigen Einstellungen, die für alle
Sender gemeinsam gelten, in der Datei ~/.vtxrc abgespeichert werden.

Im Fenster 'Station options' können Optionen für jeden einzelnen Sender
extra eingestellt werden. Es werden dabei jeweils die Einstellungen für den
Sender geändert, der rechts unten angezeigt wird. Diese Änderungen werden
automatisch abgespeichert, wenn VideoteXt beendet wird. Mit 'Page-Timeout'
kann die Zeit (in Sekunden) eingestellt werden, die eine Seite gesucht
worden sein muß, bevor die Suche abgebrochen wird. Mit 'TOP-Text interleave'
kann der Interleave-Faktor eingestellt werden. Dessen Bedeutung ist weiter
unten bei der Option '-i' von vtxget erklärt. Allerdings sollte der Wert bei
VideoteXt im Zweifelsfall etwas höher sein, da VideoteXt die Seiten
gleichzeitig auf dem Bildschirm darstellen muß, wodurch die Suche etwas
langsamer wird. Bei Sendern ohne TOP-Text kann mit dem Button 'Don't search
for TOP-Text' die Suche nach der BasicTOP-Seite verhindert werden. Dadurch
steht am Anfang ein Suchkreis mehr für die Suche nach Seiten aus der Hotlist
zur Verfügung. Mit 'Auto-search pages' wird festgelegt, welche Seiten bei
Sendern mit TOP-Text automatisch im Hintergrund gesucht werden. 'None'
unterdrückt diese Suche komplett, mit 'Blocks' bzw. 'Groups' werden nur die
Block- bzw. Block- und Gruppenseiten gesucht; 'Normal' sucht alle
Einfachseiten und 'Subpages' sucht alle Seiten inkl. Mehrfachseiten. Da die
Suche nach Mehrfachseiten den jeweils verwendeten Suchkreis so lange
blockiert, bis alle Unterseiten empfangen sind, wird standardmäßig nur nach
Einfachseiten gesucht. Mit 'Page-lookahead' kann bestimmt werden, wieviele
auf die aktuelle Seite folgende Seiten automatisch im Hintergrund gesucht
werden. Bei Sendern mit TOP-Text sollte dieser Wert relativ niedrig sein,
damit die automatische Suche nach TOP-Text Seiten nicht behindert wird. Im
Feld 'Index page' kann die Indexseite eingestellt werden, die nach einem
automatischen Reset oder beim Druck auf den 'Index pg.'-Button gesucht wird.


Kommandozeilenoptionen:

Es können alle Standard-XView-Optionen verwendet werden (eine Liste kann mit
der Option '-help' angezeigt werden). Mit der Option '-d' kann das zu
benutzende Videotext-Device eingestellt werden (Default: '/dev/vtx'); mit
der Option '-f' wird VideoteXt im 'Display only'-Modus gestartet (siehe
unten). Mit '-\?' kann eine Hilfe zu den Optionen abgerufen werden.


Konfigurationsdateien:

VideoteXt verwendet 2 Arten von Konfigurationsdateien: 'vtxrc' und
'vtx-hotlist'. Diese werden jeweils in /usr/local/etc und im Homedirectory
(als '.vtxrc' und '.vtx-hotlist') gesucht. In der systemweiten Hotlist
sollten alle Sendernamen definiert werden, damit diese neuen Benutzern
automatisch zur Verfügung stehen. AUSSERDEM WÜRDE ICH MICH FREUEN, WENN MIR
JEDER, DER SICH NEUE SENDERNAMEN DEFINIERT HAT, SEINE '.vtx-hotlist' PER
MAIL SCHICKEN WÜRDE, DAMIT ICH DIESE AUCH ANDEREN ZUR VERFÜGUNG STELLEN
KANN (an dieser Stelle vielen Dank an Martin Höppner, vom dem die
Sendernamen aller auf Astra vertretenen Sender stammen).

In 'vtx-hotlist' werden neben den Sendernamen und den Hotlists auch die
Optionen für die jeweiligen Sender abgespeichert. In 'vtxrc' werden dagegen
die globalen Optionen gespeichert. Bis auf eine Ausnahme ist es
normalerweise nicht nötig, diese Dateien von Hand zu editieren, da alle
Optionen auch innerhalb von VideoteXt eingestellt werden können. Die
Ausnahme ist die automatische Positionierung der Popup-Fenster, wenn der
verwendete Window-Manager Probleme bereitet. Falls die Fenster falsch
plaziert werden, muß die Zeile 'wm_decoration=auto' in '~/.vtxrc' wie folgt
geändert werden: 'wm_decoration=l,r,o,u'. Dabei geben l,r,o,u die Breite (in
Pixel) des vom Window-Manager erzeugten Fensterrahmens an der linken,
rechten, oberen und unteren Fensterseite an. Falls die Fenster dann immer
noch nicht richtig positioniert werden, können sie mit 'wm_offset=x,y' noch
in x- und y-Richtung verschoben werden. Üblicherweise sind für x und y
entweder die Werte 0,0 oder die Breite des linken und oberen Fensterrandes
richtig. Es sollte übrigens darauf geachtet werden, daß der Window-Manager
die "PPosition-Hints" beachtet, da die Fenster sonst jedes Mal von Hand
plaziert werden müssen.

Mich würde übrigens interessieren, ob außer dem gwm noch andere
Window-Manager Probleme mit der automatischen Positionierung haben.


Benutzung im 'Display only'-Modus (z.B. als Viewer für INtv):

Mit der Option '-f' kann beim Starten von VideoteXt eine Datei angegeben
werden, aus der die darzustellende Seite gelesen wird. VideoteXt startet
dann im 'Display only'-Modus, d.h. es können keine Seiten vom Videotext-
Interface empfangen werden, sondern nur Dateien geladen, gespeichert und
exportiert werden. Wenn Videotext das Signal 'USR1' erhält, wird die
angegebene Datei nochmals eingelesen und neu dargestellt.

Zur Verwendung mit INtv (http://www.ntu.ac.sg/intv/intv_www.html) muß der
verwendete WWW-Browser so eingestellt werden, daß er bei empfangenen Seiten
automatisch VideoteXt aufruft. Bei Mosaic und Netscape geschieht dies in den
Dateien ~/.mailcap bzw. ~/.mime-types (bei Netscape müssen diese Dateien
evtl. unter Options->Preferences->Helper Applications eingestellt werden,
bei Mosaic gibt es entsprechende Resourcen). Am einfachsten ist es, die
Einträge aus examples/mailcap und examples/mime.types zu kopieren. Da es
ineffizient ist, VideoteXt für jede neue Seite neu zu starten, kann das
Shell-Script 'view_vtx' verwendet werden, das sich dann irgendwo im Suchpfad
befinden muß.



Benutzung von vtxget (Kommandozeilenversion)
--------------------------------------------

vtxget sucht nach Videotextseiten, die auf der Kommandozeile angegeben
werden und gibt diese auf stdout aus bzw. schreibt sie in ein Verzeichnis.

Wenn der jeweilige Sender TOP-Text ausstrahlt, kann statt der Seitennummern
auch 'all', 'allnorm' oder 'allsub' verwendet werden. vtxget sucht dann nach
allen Einfach- und Unterseiten, allen Einfachseiten oder allen Unterseiten.
Alle Einfachseiten werden je nach Sender innerhalb von ca. 5 Minuten
gefunden, bei Mehrfachseiten dauert die Suche erheblich länger, da deren
Reihenfolge nicht vorhersehbar ist.

Wenn als Seitennummer eine einfache Zahl (zwischen 100 und 8FF) angegeben
wird, wird die entsprechende Einfachseite oder die nächste Unterseite
gesucht. Bestimmte Unterseiten können angefordert werden, indem die Nummer
der gewünschten Unterseite (zwischen 1 und 7F) durch einen Punkt getrennt an
die Seitennummer angehängt wird. Alle vorhandenen Unterseiten können
angefordert werden, indem nach Unterseite 0 gesucht wird. Auf der
Kommandozeile können beliebig viele Seiten angeben werden, die dann
nacheinander mit allen verfügbaren Suchkreisen gesucht werden. Wird nach
Unterseite 'l' gesucht, wird die angegebene Seite solange gesucht, bis
entweder ein Timeout auftritt oder vtxget abgebrochen wird. Dies kann zur
Aufzeichnung von Untertiteln verwendet werden.

Folgende Optionen können verwendet werden:
-f {iso|ansi|text|vtx|ps|ips|cps}
  Bestimmt das Augabeformat der Seiten. 'iso' gibt die Seiten monochrom mit
  ISO-Latin 1 Zeichensatz aus (Default), 'ansi' verwendet den gleichen
  Zeichensatz aber zusätzlich ANSI-Escapesequenzen für die Farben, 'text'
  ersetzt alle Videotext-Steuerzeichen durch in geschweifte Klammern
  eingeschlossenen Text, der dann von anderen Programmen leicht
  weiterverarbeitet werden kann (alle verwendeten Steuerzeichen stehen am
  Anfang der Datei 'batch.c'). 'vtx' ist das Format, das von VideoteXt
  intern verwendet wird und auch von der XView-Version gelesen werden kann.
  Mit 'ps', 'ips' und 'cps' werden die Seiten im PostScript-Format
  ausgegeben (entweder schwarz/weiß, schwarz/weiß invertiert oder in Farbe).
  Bei der Ausgabe auf stdout dienen Zeilen mit folgendem Format als Trenner
  zwischen den einzelnen Seiten: '{PAGE x/y}'. Wird nur nach einer Seite
  gesucht, kann diese Zeile einfach mit 'egrep -v "^{PAGE.*}$"'
  herausgefiltert werden.
-o <Verzeichnis>
  Bestimmt das Verzeichnis, in dem die empfangenen Videotextseiten
  gespeichert werden. Wird diese Option nicht angegeben, werden die Seiten
  auf stdout ausgegeben (nicht beim Ausgabeformat 'vtx'). Existiert das
  Verzeichnis nicht, wird es automatisch erstellt.
-p <Prefix>
  Bestimmt den Prefix, der beim Abspeichern vor jeden Dateinamen gehängt
  wird (nützlich, wenn Seiten von verschiedenen Sendern im gleichen
  Verzeichnis gespeichert werden sollen).
-r
  Zeigt bei den Formaten 'iso', 'ansi', 'ps', 'ips' und 'cps' auch die
  versteckten Bereiche einer Seite an.
-h
  Gibt bei allen Formaten außer 'vtx' einen Header mit den Videotext-
  Steuerbits aus.
-t <Timeout>
  Bestimmt das Timeout in Sekunden, nach dem die Suche nach einer Seite
  aufgegeben wird (zulässiger Bereich 1-600, Default: 60).
-i <Interleave>
  Stellt den Interleave-Faktor ein, der bei der TOP-Text-Suche nach Seiten
  verwendet wird (zulässiger Bereich -100-100, Default: 20). Dieser Faktor
  gibt an, wieviele Seiten bei der Suche von aufeinanderfolgenden Seiten
  übersprungen werden. Dies ist notwendig, da die Übertragung über den I²C-
  Bus langsamer ist als die Videotext-Ausstrahlung der meisten
  Fernsehsender. Würden keine Seiten übersprungen, müßte jeweils ein ganzer
  Videotext-Zyklus abgewartet werden, bis die nächste Seite eintrifft. Falls
  nur wenige Seiten pro Zyklus gefunden werden, sollte der Interleave-Faktor
  erhöht werden; wenn zwischen den empfangenen Seiten Pausen von wenigen
  Sekunden auftreten, sollte der Faktor verringert werden. Der Default von
  20 sollte mit den meisten Sendern auf einem Rechner mit nicht allzu hohem
  Load akzeptabel funktionieren. Ein negativer Interleave-Faktor sollte dann
  verwendet werden, wenn der jeweilige Sender die Seiten in der falschen
  Reihenfolge ausstrahlt (z.B. bei arte oder Premiere).
-v
  Sorgt dafür, daß die Kommandozeilenargumente nicht als Seitennummern
  sondern als Dateien interpretiert werden, die eingelesen und dargestellt
  werden sollen. Dadurch kann vtxget als Filter verwendet werden, z.B. um
  bereits eingelesene und im VideoteXt-Format abgespeicherte Seiten zu
  drucken.
-d <Device>
  Bestimmt das Device, das zum Videotext-Empfang verwendet wird (Default:
  /dev/vtx). In einem Rechner mit nur einem Videotext-Interface wird diese
  Option normalerweise nicht benötigt.
-\?
  Gibt eine kurze Hilfe zu den Kommandozeilenargumenten und -optionen aus.



Copyright
---------

Das Programm kann unter Beachtung der Bedingungen der GNU General Public
License (Datei 'COPYING') frei kopiert werden. Ich übernehme keine Garantie
dafür, daß es richtig funktioniert bzw. keinen Unsinn anstellt.


BTW, hat zufälligerweise jemand Lust, ein kleines Programm zu schreiben, mit
dem man (mit einem SAA5246 und meinem Treiber) Videotitel erstellen kann?
Außerdem wäre ein Terminal-basierter, interaktiver Videotext-Decoder eine
schöne Sache. Freiwillige vor!


Viel Spaß mit dem Programm,
Martin Buck

Bug-Reports, neue Fonts, Verbesserungsvorschläge, Lob, Spenden bitte an:

Internet: <martin.buck@student.uni-ulm.de>
Sackpost: Martin Buck, Paukengasse 2, D-89077 Ulm, Deuschland
