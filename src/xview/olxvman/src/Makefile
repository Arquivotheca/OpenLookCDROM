# This file was generated by `gxv' from `olxvman.G'.

# Compiler flags.
CC = gcc 
#CFLAGS += -O1 -cg87
CFLAGS += -O1 -g
CPPFLAGS += -I$(GUIDEHOME)/include -I$(OPENWINHOME)/include -DMAIN
LDFLAGS += -L$(OPENWINHOME)/lib -L$(GUIDEHOME)/lib
LDLIBS += -lguide -lguidexv -lxview -lolgx -lX11 -lm /stage/lib.linux/uflow.o
# Parameters.

PROGRAM = olxvman
SOURCES.c =	globals.c \
		man.c \
		misc.c \
		olxvman.c \
		search.c
SOURCES.h = 
SOURCES.G = olxvman.G
STUBS.G = olxvman.G

# Derived parameters.

SOURCES = \
	$(SOURCES.G) \
	$(SOURCES.h) \
	$(SOURCES.l) \
	$(SOURCES.y) \
	$(SOURCES.c)

TARGETS.c = \
	$(SOURCES.G:%.G=%_ui.c)

TARGETS.h = \
	$(SOURCES.G:%.G=%_ui.h) \
	$(SOURCES.l:%.l=%.h) \
	$(SOURCES.y:%.y=%.h)

TARGETS.other = \
	$(SOURCES.G:%.G=%.info)

TARGETS = \
	$(TARGETS.other) \
	$(TARGETS.h) \
	$(TARGETS.c)

OBJECTS = \
	$(SOURCES.c:%.c=%.o) \
	$(TARGETS.c:%.c=%.o)


# Standard targets.

all:	 $(TARGETS.other) $(PROGRAM)
objects: $(SOURCES.c) $(TARGETS.c) $(TARGETS.h) $(OBJECTS)
sources: $(SOURCES)
targets: $(SOURCES) $(TARGETS)

$(PROGRAM): $(SOURCES.c) $(TARGETS.c) $(TARGETS.h) $(OBJECTS)
	$(LINK.c) -o $(PROGRAM) $(OBJECTS) $(LDLIBS)

# Targets to be used by a certain CASE tool.

stest: $(SOURCES.c) $(TARGETS.c) $(TARGETS.h) $(OBJECTS)
	#load $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) $(TARGET_ARCH) \
		-o $(PROGRAM) $(SOURCES.c) $(TARGETS.c) $(LDLIBS)

# GNU make gorfs on this rule
#%_ui.c + %_ui.h + %_stubs.c + %.info: %.G
#	$(GUIDEHOME)/bin/gxv $*

clean:
	$(RM) $(TARGETS) $(OBJECTS) $(SOURCES.G:%.G=%_stubs.c) core

olxvman_ui.o:	olxvman_ui.h olxvman.icon
