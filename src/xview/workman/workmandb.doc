


workmandb(5)              FILE FORMATS               workmandb(5)



NAME
     workmanrc, workmandb - database and  preferences  files  for
     workman

SYNOPSIS
     $HOME/.workmanrc or value of WORKMANRC variable

     $HOME/.workmandb or value(s) of WORKMANDB variable

DESCRIPTION
     The .workmandb file stores information about compact  discs.
     It is generated by _w_o_r_k_m_a_n(1) based on user input.  Its com-
     panion file, .workmanrc, stores user  preferences  for  each
     disc.   The  distinction  between the two is that .workmandb
     contains only the hard information  about  a  CD  (the  disc
     name,  artist, track titles, etc.) and is often shared among
     several users.  .workmanrc, on the other hand, contains set-
     tings  like  the  default  volumes of particular tracks, the
     numbers of tracks to be avoided, and so  forth.   Each  user
     generally  maintains  a private .workmanrc, even if a shared
     .workmandb is being used.

     Though _w_o_r_k_m_a_n(1) stores different information in each file,
     both  files  have  an  identical format; most of this manual
     page will not distinguish between the two.  Each line of the
     file is of the form

     [s-]keyword    [_o_p_t_i_o_n_a_l _w_h_i_t_e_s_p_a_c_e-_s_e_p_a_r_a_t_e_d _a_r_g_u_m_e_n_t_s]

     Empty lines are ignored.  Lines starting  with  unrecognized
     keywords are retained and written back out verbatim when the
     database is saved.  The program preserves  the  ordering  of
     unrecognized  lines,  and  their  positions  relative to the
     track information.  This allows the database to be  extended
     to hold any sort of information desired by the user.

     Keywords that begin with "s-" apply to sections rather  than
     tracks.   See  the  sections keyword below.  A CD entry with
     "s-" keywords must have a sections keyword as well.  This is
     done  for  backward compatibility and will disappear eventu-
     ally, and in any case only  applies  to  keywords  found  in
     .workmandb (the assumption is that users won't downgrade the
     versions  they  run,  so  .workmanrc  doesn't  need  to   be
     backward-compatible.)

     Some keywords are delimiters that  modify  the  meanings  of
     keywords  that  follow;  others are position-independent and
     may occur anywhere in the file.  (In general, the  position-
     independent  keywords  are  concerned  with settings for the
     tool as a whole, rather than for a particular disc.)





Sun Release 4.1       Last change: 12/5/92                      1






workmandb(5)              FILE FORMATS               workmandb(5)



     The keywords, and  their  arguments,  follow.   All  numeric
     arguments are in decimal unless otherwise specified.

  Initial Keywords
     These keywords must appear before the first CD's entry,  and
     represent  global  settings  for the tool.  They are usually
     found in .workmanrc.

     whendone eject | stop | repeat
          Select the default action taken by _w_o_r_k_m_a_n(1) when a CD
          is finished playing.  The default is stop.

     playnew
          If specified, _w_o_r_k_m_a_n(1) will play unknown  CDs  (those
          not listed in .workmanrc) when they're inserted.

  CD Information
     The rest of the keywords describe specific CDs.

     tracks _n_t_r_a_c_k_s _s_t_a_r_t_1 _s_t_a_r_t_2 ... _s_t_a_r_t_n _l_e_n_g_t_h
          This keyword delimits the start of  a  particular  CD's
          entry  (and  thus  the end of the previous entry.)  Its
          arguments contain the information used  to  distinguish
          one disc from another.  The first argument, _n_t_r_a_c_k_s, is
          the number of tracks on the  CD.   For  each  of  those
          tracks,  there  is a _s_t_a_r_t value, which is the starting
          frame of the track (a frame is approximately 1/75th  of
          a  second.)  The final argument is the length of the CD
          in seconds.

     sections _n_s_e_c_t_s _s_t_a_r_t_1 _s_t_a_r_t_2 ... _s_t_a_r_t_n
          _W_o_r_k_m_a_n(1) allows the user to  split  a  CD's  physical
          tracks  into  smaller  virtual  tracks called sections.
          The sections keyword,  which  must  immediately  follow
          tracks, defines the starting positions of the sections.
          Sections are inserted into the track  list,  and  track
          numbers  are  adjusted accordingly, e.g. section 1.2 as
          presented to the user is represented as track 2 in  the
          database  file.   If  the sections listed in .workmandb
          and .workmanrc differ, .workmandb takes precedence, and
          sections listed only in .workmanrc are discarded.

     cdname _n_a_m_e
          The name of the current disc, as supplied by the user.

     artist _n_a_m_e
          The artist's name for the current disc, as supplied  by
          the user.

     playmode _m_o_d_e
          The default play mode for the CD  is  _m_o_d_e,  a  numeric
          value.   0  is  the "normal" play mode (play all tracks



Sun Release 4.1       Last change: 12/5/92                      2






workmandb(5)              FILE FORMATS               workmandb(5)



          sequentially) and 1 is "shuffle" mode.  If _m_o_d_e is 2 or
          greater,  the default play sequence is a playlist (_m_o_d_e
          2 meaning the first playlist,  3  meaning  the  second,
          etc.)

     autoplay
          If autoplay is present,  this  CD  will  begin  playing
          immediately when it is inserted.

     cdvolume _v_o_l_u_m_e
          The default play volume of the CD, a value  from  0  to
          32.   If  _v_o_l_u_m_e  is  0,  the  CD has no default volume
          (since 0 is the default, cdvolume will usually  not  be
          present in that case.)

     playlist _n_a_m_e _n_u_m_b_e_r _t_r_a_c_k_1 _t_r_a_c_k_2 ...
          Define a playlist for the current CD.   The  _n_a_m_e  does
          not  contain any whitespace; whitespace is converted to
          "_" on output and "_" is  converted  to  whitespace  on
          input.  (See the BUGS section.)  The _n_u_m_b_e_r argument is
          the number of tracks contained  in  the  playlist;  the
          rest of the line is a list of track numbers.  Playlists
          are ordered; see the playmode keyword above.

     track [_n_a_m_e]
          The name of a track.  This  delimits  the  start  of  a
          track's information.  The _n_a_m_e argument is optional; it
          will not be present unless  the  user  has  supplied  a
          track  name.   This  line  may  be divided into display
          lines with the "//"  token.   Additionally,  a  display
          line  beginning with "+" indicates that the rest of the
          display line contains a replacement disc title (usually
          the name of a group of tracks, such as "Symphony No. 2"
          on a disc with  more  than  one  piece  of  music.)   A
          display  line  beginning with "@" replaces the artist's
          name for the track.  If "+" or "@" is the only  charac-
          ter on a display line, _w_o_r_k_m_a_n(1) will use the title or
          artist from the previous track, searching backwards  as
          necessary.  If a display line is empty, the correspond-
          ing display line from the previous track is used.

     continue
          The current track is a continuation of the previous one
          (e.g. the second movement of a symphony.)

     dontplay _t_r_a_c_k
          Don't play a track (specified by  number)  unless  it's
          specifically requested by the user.

     volume _t_r_a_c_k _v_o_l_u_m_e
          The default play volume for _t_r_a_c_k, specified by number.
          _v_o_l_u_m_e is a number from 0 to 32.  See cdvolume above.



Sun Release 4.1       Last change: 12/5/92                      3






workmandb(5)              FILE FORMATS               workmandb(5)



     mark _f_r_a_m_e _m_a_r_k-_i_d
          Define a mark.  Marks with IDs other than START and END
          are  currently  ignored.  Those two marks represent the
          start and end of the part of the CD to be repeated  (as
          set  from  the  Goodies popup) respectively.  The _f_r_a_m_e
          value is an absolute frame number.

EXAMPLE
     The first example is a .workmandb entry for  a  hypothetical
     disc.  At least, I hope it's hypothetical.

          tracks 6 150 10341 20449 45117 100104 150100 1609
          cdname Amazing Accordion Tunes - The Early Years
          artist The Hemophiliacs
          track Polka 'Till the Sun Goes Down
          track I've Got Rocks In My Heart, Baby...
          track ...But I Still Get Stoned On You
          continue
          track You Never Know How Late It Is Until the Clock Strikes Blue
          track +The Big Exhibition//@Mussorgsky//IX. La Cabane//Allegro
          track +//@////Andante mosso
          continue

     The third track is a continuation of the second.  The  fifth
     track  is  an excerpt from a larger work, originally written
     by someone else; it has a two-line track title.   The  sixth
     track is a continuation of the fifth; it uses the same title
     and artist, and the first line of the  track  title  is  the
     same, but the second is different.

     The .workmanrc entry for the same CD might look like:

          tracks 6 150 10341 20449 45117 100104 150100 1609
          cdvolume 32
          playmode 1
          playlist Originals 3 2 3 1
          autoplay
          dontplay 4
          volume 3 20

     The tracks line, naturally, is the same in both files, since
     it  identifies  which CD the entry is for.  This CD plays at
     maximum volume in shuffle mode by default.  It has one play-
     list  with tracks 2, 3, and 1.  When inserted, it will start
     up automatically.  Track 4 is  particularly  unpleasant,  so
     the  user  never  wants  to  hear it.  And track 3 should be
     played more quietly than the others.

SEE ALSO
     workman(1)





Sun Release 4.1       Last change: 12/5/92                      4






workmandb(5)              FILE FORMATS               workmandb(5)



BUGS
     The playlist keyword is  not  well  thought-out.   The  _n_a_m_e
     should  go  at  the  end of the line, so it can contain whi-
     tespace or whatever else the user likes.

     The file updating algorithm used by  _w_o_r_k_m_a_n(1)  leaves  big
     holes (consisting of empty lines) in the database files.  It
     makes an attempt to fill the holes when possible rather than
     growing the files.














































Sun Release 4.1       Last change: 12/5/92                      5



