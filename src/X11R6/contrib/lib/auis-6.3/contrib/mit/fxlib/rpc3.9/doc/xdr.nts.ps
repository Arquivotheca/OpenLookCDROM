%!PS-Adobe-1.0
%%Creator: heimdall:brlewis (Bruce R Lewis,,E40-342,34261,4926983)
%%Title: stdin (ditroff)
%%CreationDate: Tue Aug 15 13:22:16 1989
%%EndComments
% Start of psdit.pro -- prolog for ditroff translator
% Copyright (c) 1985,1987 Adobe Systems Incorporated. All Rights Reserved. 
% GOVERNMENT END USERS: See Notice file in TranScript library directory
% -- probably /usr/lib/ps/Notice
% RCS: $Header: /afs/cs.cmu.edu/project/atk-dist/auis-6.3/contrib/mit/fxlib/rpc3.9/doc/RCS/xdr.nts.ps,v 1.1 1992/02/13 20:59:36 wdc R6tape $
/$DITroff 140 dict def $DITroff begin
/fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def
/xi {0 72 11 mul translate 72 resolution div dup neg scale 0 0 moveto
  /fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def F
  /pagesave save def}def
/PB{save /psv exch def currentpoint translate
  resolution 72 div dup neg scale 0 0 moveto}def
/PE{psv restore}def
/m1 matrix def /m2 matrix def /m3 matrix def /oldmat matrix def
/tan{dup sin exch cos div}bind def
/point{resolution 72 div mul}bind def
/dround	{transform round exch round exch itransform}bind def
/xT{/devname exch def}def
/xr{/mh exch def /my exch def /resolution exch def}def
/xp{}def
/xs{docsave restore end}def
/xt{}def
/xf{/fontname exch def /slotno exch def fontnames slotno get fontname eq not
 {fonts slotno fontname findfont put fontnames slotno fontname put}if}def
/xH{/fontheight exch def F}bind def
/xS{/fontslant exch def F}bind def
/s{/fontsize exch def /fontheight fontsize def F}bind def
/f{/fontnum exch def F}bind def
/F{fontheight 0 le {/fontheight fontsize def}if
   fonts fontnum get fontsize point 0 0 fontheight point neg 0 0 m1 astore
   fontslant 0 ne{1 0 fontslant tan 1 0 0 m2 astore m3 concatmatrix}if
   makefont setfont .04 fontsize point mul 0 dround pop setlinewidth}bind def
/X{exch currentpoint exch pop moveto show}bind def
/N{3 1 roll moveto show}bind def
/Y{exch currentpoint pop exch moveto show}bind def
/S /show load def
/ditpush{}def/ditpop{}def
/AX{3 -1 roll currentpoint exch pop moveto 0 exch ashow}bind def
/AN{4 2 roll moveto 0 exch ashow}bind def
/AY{3 -1 roll currentpoint pop exch moveto 0 exch ashow}bind def
/AS{0 exch ashow}bind def
/MX{currentpoint exch pop moveto}bind def
/MY{currentpoint pop exch moveto}bind def
/MXY /moveto load def
/cb{pop}def	% action on unknown char -- nothing for now
/n{}def/w{}def
/p{pop showpage pagesave restore /pagesave save def}def
/abspoint{currentpoint exch pop add exch currentpoint pop add exch}def
/dstroke{currentpoint stroke moveto}bind def
/Dl{2 copy gsave rlineto stroke grestore rmoveto}bind def
/arcellipse{oldmat currentmatrix pop
 currentpoint translate 1 diamv diamh div scale /rad diamh 2 div def
 rad 0 rad -180 180 arc oldmat setmatrix}def
/Dc{gsave dup /diamv exch def /diamh exch def arcellipse dstroke 
    grestore diamh 0 rmoveto}def
/De{gsave /diamv exch def /diamh exch def arcellipse dstroke
    grestore diamh 0 rmoveto}def
/Da{currentpoint /by exch def /bx exch def /fy exch def /fx exch def
   /cy exch def /cx exch def /rad cx cx mul cy cy mul add sqrt def
   /ang1 cy neg cx neg atan def /ang2 fy fx atan def cx bx add cy by add
   2 copy rad ang1 ang2 arcn stroke exch fx add exch fy add moveto}def
/Barray 200 array def % 200 values in a wiggle
/D~{mark}def
/D~~{counttomark Barray exch 0 exch getinterval astore /Bcontrol exch def pop
 /Blen Bcontrol length def Blen 4 ge Blen 2 mod 0 eq and
 {Bcontrol 0 get Bcontrol 1 get abspoint /Ycont exch def /Xcont exch def
  Bcontrol 0 2 copy get 2 mul put Bcontrol 1 2 copy get 2 mul put
  Bcontrol Blen 2 sub 2 copy get 2 mul put
  Bcontrol Blen 1 sub 2 copy get 2 mul put
  /Ybi /Xbi currentpoint 3 1 roll def def 0 2 Blen 4 sub
  {/i exch def
   Bcontrol i get 3 div Bcontrol i 1 add get 3 div
   Bcontrol i get 3 mul Bcontrol i 2 add get add 6 div
   Bcontrol i 1 add get 3 mul Bcontrol i 3 add get add 6 div
   /Xbi Xcont Bcontrol i 2 add get 2 div add def
   /Ybi Ycont Bcontrol i 3 add get 2 div add def
   /Xcont Xcont Bcontrol i 2 add get add def
   /Ycont Ycont Bcontrol i 3 add get add def
   Xbi currentpoint pop sub Ybi currentpoint exch pop sub rcurveto
  }for dstroke}if}def
end
/ditstart{$DITroff begin
 /nfonts 60 def			% NFONTS makedev/ditroff dependent!
 /fonts[nfonts{0}repeat]def
 /fontnames[nfonts{()}repeat]def
/docsave save def
}def

% character outcalls
/oc {/pswid exch def /cc exch def /name exch def
   /ditwid pswid fontsize mul resolution mul 72000 div def
   /ditsiz fontsize resolution mul 72 div def
   ocprocs name known{ocprocs name get exec}{name cb}
   ifelse}def
/fractm [.65 0 0 .6 0 0] def
/fraction
 {/fden exch def /fnum exch def gsave /cf currentfont def
  cf fractm makefont setfont 0 .3 dm 2 copy neg rmoveto
  fnum show rmoveto currentfont cf setfont(\244)show setfont fden show 
  grestore ditwid 0 rmoveto} def
/oce {grestore ditwid 0 rmoveto}def
/dm {ditsiz mul}def
/ocprocs 50 dict def ocprocs begin
(14){(1)(4)fraction}def
(12){(1)(2)fraction}def
(34){(3)(4)fraction}def
(13){(1)(3)fraction}def
(23){(2)(3)fraction}def
(18){(1)(8)fraction}def
(38){(3)(8)fraction}def
(58){(5)(8)fraction}def
(78){(7)(8)fraction}def
(sr){gsave .05 dm .16 dm rmoveto(\326)show oce}def
(is){gsave 0 .15 dm rmoveto(\362)show oce}def
(->){gsave 0 .02 dm rmoveto(\256)show oce}def
(<-){gsave 0 .02 dm rmoveto(\254)show oce}def
(==){gsave 0 .05 dm rmoveto(\272)show oce}def
end
% DIThacks fonts for some special chars
50 dict dup begin
/FontType 3 def
/FontName /DIThacks def
/FontMatrix [.001 0.0 0.0 .001 0.0 0.0] def
/FontBBox [-220 -280 900 900] def% a lie but ...
/Encoding 256 array def
0 1 255{Encoding exch /.notdef put}for
Encoding
 dup 8#040/space put %space
 dup 8#110/rc put %right ceil
 dup 8#111/lt put %left  top curl
 dup 8#112/bv put %bold vert
 dup 8#113/lk put %left  mid curl
 dup 8#114/lb put %left  bot curl
 dup 8#115/rt put %right top curl
 dup 8#116/rk put %right mid curl
 dup 8#117/rb put %right bot curl
 dup 8#120/rf put %right floor
 dup 8#121/lf put %left  floor
 dup 8#122/lc put %left  ceil
 dup 8#140/sq put %square
 dup 8#141/bx put %box
 dup 8#142/ci put %circle
 dup 8#143/br put %box rule
 dup 8#144/rn put %root extender
 dup 8#145/vr put %vertical rule
 dup 8#146/ob put %outline bullet
 dup 8#147/bu put %bullet
 dup 8#150/ru put %rule
 dup 8#151/ul put %underline
 pop
/DITfd 100 dict def
/BuildChar{0 begin
 /cc exch def /fd exch def
 /charname fd /Encoding get cc get def
 /charwid fd /Metrics get charname get def
 /charproc fd /CharProcs get charname get def
 charwid 0 fd /FontBBox get aload pop setcachedevice
 40 setlinewidth
 newpath 0 0 moveto gsave charproc grestore
 end}def
/BuildChar load 0 DITfd put
%/UniqueID 5 def
/CharProcs 50 dict def
CharProcs begin
/space{}def
/.notdef{}def
/ru{500 0 rls}def
/rn{0 750 moveto 500 0 rls}def
/vr{20 800 moveto 0 -770 rls}def
/bv{20 800 moveto 0 -1000 rls}def
/br{20 770 moveto 0 -1040 rls}def
/ul{0 -250 moveto 500 0 rls}def
/ob{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath stroke}def
/bu{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath fill}def
/sq{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath stroke}def
/bx{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath fill}def
/ci{355 333 rmoveto currentpoint newpath 333 0 360 arc
    50 setlinewidth stroke}def

/lt{20 -200 moveto 0 550 rlineto currx 800 2cx s4 add exch s4 a4p stroke}def
/lb{20 800 moveto 0 -550 rlineto currx -200 2cx s4 add exch s4 a4p stroke}def
/rt{20 -200 moveto 0 550 rlineto currx 800 2cx s4 sub exch s4 a4p stroke}def
/rb{20 800 moveto 0 -500 rlineto currx -200 2cx s4 sub exch s4 a4p stroke}def
/lk{20 800 moveto 20 300 -280 300 s4 arcto pop pop 1000 sub
    currentpoint stroke moveto
    20 300 4 2 roll s4 a4p 20 -200 lineto stroke}def
/rk{20 800 moveto 20 300 320 300 s4 arcto pop pop 1000 sub
    currentpoint stroke moveto
    20 300 4 2 roll s4 a4p 20 -200 lineto stroke}def
/lf{20 800 moveto 0 -1000 rlineto s4 0 rls}def
/rf{20 800 moveto 0 -1000 rlineto s4 neg 0 rls}def
/lc{20 -200 moveto 0 1000 rlineto s4 0 rls}def
/rc{20 -200 moveto 0 1000 rlineto s4 neg 0 rls}def
end

/Metrics 50 dict def Metrics begin
/.notdef 0 def
/space 500 def
/ru 500 def
/br 0 def
/lt 250 def
/lb 250 def
/rt 250 def
/rb 250 def
/lk 250 def
/rk 250 def
/rc 250 def
/lc 250 def
/rf 250 def
/lf 250 def
/bv 250 def
/ob 350 def
/bu 350 def
/ci 750 def
/bx 750 def
/sq 750 def
/rn 500 def
/ul 500 def
/vr 0 def
end

DITfd begin
/s2 500 def /s4 250 def /s3 333 def
/a4p{arcto pop pop pop pop}def
/2cx{2 copy exch}def
/rls{rlineto stroke}def
/currx{currentpoint pop}def
/dround{transform round exch round exch itransform} def
end
end
/DIThacks exch definefont pop

ditstart
(psc)xT
576 1 1 xr
1(Times-Roman)xf 1 f
2(Times-Italic)xf 2 f
3(Times-Bold)xf 3 f
4(Times-BoldItalic)xf 4 f
5(Helvetica)xf 5 f
6(Helvetica-Bold)xf 6 f
7(Courier)xf 7 f
8(Courier-Bold)xf 8 f
9(Symbol)xf 9 f
10(DIThacks)xf 10 f
10 s
1 f
xi
%%EndProlog

%%Page: 1 1
10 s 0 xH 0 xS 1 f
32(--)Y
4323(--)X
3 f
555 672(eXternal)N
874(Data)X
1059(Representation:)X
1627(Sun)X
1779(Technical)X
2132(Notes)X
1 f
555 796(This)N
720(chapter)X
980(contains)X
1270(technical)X
1582(notes)X
1773(on)X
1875(Sun's)X
2079(implementation)X
2603(of)X
2692(the)X
2812(eXternal)X
3111(Data)X
3285(Representation)X
3788(\(XDR\))X
555 892(standard,)N
881(a)X
951(set)X
1074(of)X
1175(library)X
1422(routines)X
1713(that)X
1866(allow)X
2077(a)X
2146(C)X
2232(programmer)X
2662(to)X
2757(describe)X
3058(arbitrary)X
3368(data)X
3535(structures)X
3880(in)X
3975(a)X
555 988(machine-independent)N
1281(fashion.)X
1592(For)X
1738(a)X
1809(formal)X
2058(specification)X
2503(of)X
2605(the)X
2738(XDR)X
2942(standard,)X
3269(see)X
3407(the)X
2 f
3540(eXternal)X
3851(Data)X
555 1084(Representation)N
1065(Standard)X
1 f
1358(.)X
1423(DR)X
1559(is)X
1637(the)X
1760(backbone)X
2093(of)X
2185(Sun's)X
2392(Remote)X
2666(Procedure)X
3017(Call)X
3175(package,)X
3484(in)X
3571(the)X
3693(sense)X
3891(that)X
555 1180(data)N
715(for)X
834(remote)X
1082(procedure)X
1429(calls)X
1601(is)X
1679(transmitted)X
2064(using)X
2262(the)X
2385(standard.)X
2722(XDR)X
2916(library)X
3155(routines)X
3438(should)X
3676(be)X
3777(used)X
3949(to)X
555 1276(transmit)N
837(data)X
991(that)X
1131(is)X
1204(accessed)X
1506(\(read)X
1692(or)X
1779(written\))X
2053(by)X
2153(more)X
2338(than)X
2496(one)X
2632(type)X
2790(of)X
2877(machine.)X
555 1400(This)N
721(chapter)X
982(contains)X
1273(a)X
1333(short)X
1517(tutorial)X
1772(overview)X
2095(of)X
2186(the)X
2308(XDR)X
2501(library)X
2739(routines,)X
3041(a)X
3101(guide)X
3303(to)X
3389(accessing)X
3721(currently)X
555 1496(available)N
873(XDR)X
1070(streams,)X
1363(and)X
1507(information)X
1913(on)X
2021(defining)X
2316(new)X
2477(streams)X
2749(and)X
2892(data)X
3053(types.)X
3289(XDR)X
3485(was)X
3637(designed)X
3949(to)X
555 1592(work)N
751(across)X
982(different)X
1289(languages,)X
1660(operating)X
1993(systems,)X
2296(and)X
2442(machine)X
2744(architectures.)X
3225(Most)X
3419(users)X
3614(\(particularly)X
555 1688(RPC)N
730(users\))X
947(will)X
1096(need)X
1273(only)X
1440(the)X
1563(information)X
1966(in)X
2053(sections)X
2336(1,)X
2421(2)X
2486(and)X
2627(3)X
2692(of)X
2783(this)X
2922(document.)X
3302(Programmers)X
3758(wishing)X
555 1784(to)N
642(implement)X
1009(RPC)X
1184(and)X
1325(XDR)X
1519(on)X
1624(new)X
1782(machines)X
2109(will)X
2257(need)X
2433(the)X
2555(information)X
2957(in)X
3043(the)X
3165(rest)X
3305(of)X
3396(this)X
3535(document,)X
3895(and)X
555 1880(especially)N
896(the)X
2 f
1014(eXternal)X
1310(Data)X
1490(Representation)X
1995(Standard)X
1 f
2288(.)X
2 f
555 2072(NOTE:)N
3 f
806(rpcgen)X
2 f
1062(can)X
1198(be)X
1294(used)X
1461(to)X
1543(write)X
1727(XDR)X
1903(routines)X
2185(even)X
2353(in)X
2435(cases)X
2629(where)X
2845(no)X
2945(RPC)X
3116(calls)X
3287(are)X
3414(being)X
3612(made.)X
1 f
555 2196(On)N
675(Sun)X
821(systems,)X
1116(C)X
1191(programs)X
1516(that)X
1658(want)X
1836(to)X
1920(use)X
2049(XDR)X
2240(routines)X
2519(must)X
2695(include)X
2952(the)X
3071(file)X
2 f
3199(<rpc/rpc.h>)X
1 f
3610(,)X
3651(which)X
3868(con-)X
555 2292(tains)N
730(all)X
834(the)X
956(necessary)X
1293(interfaces)X
1630(to)X
1716(the)X
1838(XDR)X
2031(system.)X
2317(Since)X
2519(the)X
2641(C)X
2718(library)X
2 f
2956(libc.a)X
1 f
3167(contains)X
3458(all)X
3562(the)X
3684(XDR)X
3877(rou-)X
555 2388(tines,)N
746(compile)X
1024(as)X
1111(normal.)X
843 2532(%)N
3 f
930(cc)X
2 f
1042(program)X
3 f
(.c)S
555 2772(1.)N
655(Justification)X
1 f
555 2896(Consider)N
864(the)X
982(following)X
1313(two)X
1453(programs,)X
2 f
1796(writer)X
0(Courier)xf 0 f
1 f
0 f
843 3040(#include)N
1275(<stdio.h>)X
843 3184(main\(\))N
1995(/*)X
2 f
2139(writer.c)X
0 f
2438(*/)X
843 3280({)N
1131 3376(long)N
1371(i;)X
1131 3520(for)N
1323(\(i)X
1467(=)X
1563(0;)X
1707(i)X
1803(<)X
1899(8;)X
2043(i++\))X
2283({)X
1419 3616(if)N
1563(\(fwrite\(\(char)X
2235(*\)&i,)X
2523(sizeof\(i\),)X
3051(1,)X
3195(stdout\))X
3579(!=)X
3723(1\))X
3867({)X
1707 3712(fprintf\(stderr,)N
2475("failed!\\n"\);)X
1707 3808(exit\(1\);)N
1419 3904(})N
1131 4000(})N
843 4096(})N
1 f
555 4240(and)N
2 f
691(reader)X
1 f
8 s
10 f
555 5584(hhhhhhhhhhhhhhhhhh)N
1 f
555 5664(For)N
660(a)X
704(compete)X
936(specification)X
1278(of)X
1347(the)X
1441(system)X
1635(eXternal)X
1870(Data)X
2006(Representation)X
2405(routines,)X
2643(see)X
2740(the)X
2 f
2834(xdr)X
1 f
2924(\(3N\))X
3060(manual)X
3264(page.)X
0 f
10 s
2163 6144(-)N
2259(1)X
2355(-)X

2 p
%%Page: 2 2
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(2)X
2323(-)X
0 f
843 720(#include)N
1275(<stdio.h>)X
843 864(main\(\))N
1995(/*)X
2 f
2139(reader.c)X
0 f
2457(*/)X
843 960({)N
1131 1056(long)N
1371(i,)X
1515(j;)X
1131 1200(for)N
1323(\(j)X
1467(=)X
1563(0;)X
1707(j)X
1803(<)X
1899(8;)X
2043(j++\))X
2283({)X
1419 1296(if)N
1563(\(fread\(\(char)X
2187(*\)&i,)X
2475(sizeof)X
2811(\(i\),)X
3051(1,)X
3195(stdin\))X
3531(!=)X
3675(1\))X
3819({)X
1707 1392(fprintf\(stderr,)N
2475("failed!\\n"\);)X
1707 1488(exit\(1\);)N
1419 1584(})N
1419 1680(printf\("%ld)N
1995(",)X
2139(i\);)X
1131 1776(})N
1131 1872(printf\("\\n"\);)N
843 1968(})N
1 f
555 2112(The)N
702(two)X
844(programs)X
1169(appear)X
1406(to)X
1490(be)X
1588(portable,)X
1893(because)X
2170(\(a\))X
2282(they)X
2442(pass)X
2 f
2602(lint)X
1 f
2737(checking,)X
3069(and)X
3207(\(b\))X
3323(they)X
3483(exhibit)X
3727(the)X
3846(same)X
555 2208(behavior)N
856(when)X
1050(executed)X
1356(on)X
1456(two)X
1596(different)X
1893(hardware)X
2213(architectures,)X
2664(a)X
2720(Sun)X
2864(and)X
3000(a)X
3056(VAX.)X
555 2332(Piping)N
783(the)X
901(output)X
1125(of)X
1212(the)X
2 f
1330(writer)X
1 f
1552(program)X
1844(to)X
1926(the)X
2 f
2044(reader)X
1 f
2285(program)X
2577(gives)X
2766(identical)X
3062(results)X
3291(on)X
3391(a)X
3447(Sun)X
3591(or)X
3678(a)X
3734(VAX.)X
0 f
843 2476(sun%)N
1083(writer)X
9 f
1419(|)X
0 f
1483(reader)X
843 2572(0)N
939(1)X
1035(2)X
1131(3)X
1227(4)X
1323(5)X
1419(6)X
1515(7)X
843 2668(sun%)N
843 2860(vax%)N
1083(writer)X
9 f
1419(|)X
0 f
1483(reader)X
843 2956(0)N
939(1)X
1035(2)X
1131(3)X
1227(4)X
1323(5)X
1419(6)X
1515(7)X
843 3052(vax%)N
1 f
555 3196(With)N
744(the)X
871(advent)X
1114(of)X
1209(local)X
1393(area)X
1556(networks)X
1878(and)X
2022(4.2BSD)X
2305(came)X
2503(the)X
2629(concept)X
2907(of)X
3002(``network)X
3347(pipes'')X
3598(\320)X
3706(a)X
3770(process)X
555 3292(produces)N
870(data)X
1029(on)X
1133(one)X
1273(machine,)X
1589(and)X
1729(a)X
1789(second)X
2036(process)X
2301(consumes)X
2641(data)X
2799(on)X
2903(another)X
3168(machine.)X
3504(A)X
3586(network)X
3873(pipe)X
555 3388(can)N
689(be)X
787(constructed)X
1179(with)X
2 f
1343(writer)X
1 f
1567(and)X
2 f
1705(reader)X
1 f
1926(.)X
1988(Here)X
2167(are)X
2288(the)X
2408(results)X
2639(if)X
2710(the)X
2830(first)X
2981(produces)X
3293(data)X
3449(on)X
3551(a)X
3609(Sun,)X
3775(and)X
3913(the)X
555 3484(second)N
798(consumes)X
1134(data)X
1288(on)X
1388(a)X
1444(VAX.)X
0 f
843 3628(sun%)N
1083(writer)X
9 f
1419(|)X
0 f
1483(rsh)X
1675(vax)X
1867(reader)X
843 3724(0)N
939(16777216)X
1371(33554432)X
1803(50331648)X
2235(67108864)X
2667(83886080)X
3099(100663296)X
843 3820(117440512)N
843 3916(sun%)N
1 f
555 4060(Identical)N
864(results)X
1101(can)X
1241(be)X
1345(obtained)X
1649(by)X
1757(executing)X
2 f
2097(writer)X
1 f
2327(on)X
2435(the)X
2561(VAX)X
2763(and)X
2 f
2907(reader)X
1 f
3156(on)X
3264(the)X
3390(Sun.)X
3582(These)X
3802(results)X
555 4156(occur)N
758(because)X
1037(the)X
1159(byte)X
1321(ordering)X
1617(of)X
1708(long)X
1874(integers)X
2152(differs)X
2386(between)X
2678(the)X
2800(VAX)X
2998(and)X
3138(the)X
3259(Sun,)X
3426(even)X
3601(though)X
3846(word)X
555 4252(size)N
705(is)X
783(the)X
906(same.)X
1136(Note)X
1317(that)X
1462($16777216$)X
1887(is)X
1965($2)X
2070(sup)X
2206(24$)X
2351(\320)X
2455(when)X
2653(four)X
2811(bytes)X
3004(are)X
3127(reversed,)X
3444(the)X
3566(1)X
3630(winds)X
3845(up)X
3949(in)X
555 4348(the)N
673(24th)X
835(bit.)X
555 4472(Whenever)N
908(data)X
1064(is)X
1139(shared)X
1371(by)X
1473(two)X
1615(or)X
1704(more)X
1891(machine)X
2184(types,)X
2394(there)X
2576(is)X
2650(a)X
2707(need)X
2880(for)X
2995(portable)X
3279(data.)X
3474(Programs)X
3802(can)X
3935(be)X
555 4568(made)N
754(data-portable)X
1203(by)X
1308(replacing)X
1632(the)X
2 f
1755(read)X
1 f
1934(and)X
2 f
2075(write)X
1 f
2271(calls)X
2443(with)X
2610(calls)X
2782(to)X
2869(an)X
2970(XDR)X
3164(library)X
3403(routine)X
2 f
3655(xdr_long)X
1 f
3975(a)X
555 4664(filter)N
732(that)X
873(knows)X
1103(the)X
1222(standard)X
1515(representation)X
1991(of)X
2079(a)X
2136(long)X
2299(integer)X
2543(in)X
2625(its)X
2720(external)X
2999(form.)X
3215(Here)X
3392(are)X
3511(the)X
3629(revised)X
3881(ver-)X
555 4760(sions)N
739(of)X
2 f
826(writer)X
1 f
1028(:)X

3 p
%%Page: 3 3
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(3)X
2323(-)X
0 f
843 720(#include)N
1275(<stdio.h>)X
843 816(#include)N
1275(<rpc/rpc.h>)X
1995(/*)X
2 f
2139(xdr)X
2266(is)X
2339(a)X
2399(sub-library)X
2779(of)X
2861(rpc)X
0 f
3016(*/)X
843 960(main\(\))N
1707(/*)X
2 f
1851(writer.c)X
0 f
2150(*/)X
843 1056({)N
1131 1152(XDR)N
1323(xdrs;)X
1131 1248(long)N
1371(i;)X
1131 1392(xdrstdio_create\(&xdrs,)N
2235(stdout,)X
2619(XDR_ENCODE\);)X
1131 1488(for)N
1323(\(i)X
1467(=)X
1563(0;)X
1707(i)X
1803(<)X
1899(8;)X
2043(i++\))X
2283({)X
1419 1584(if)N
1563(\(!xdr_long\(&xdrs,)X
2427(&i\)\))X
2667({)X
1707 1680(fprintf\(stderr,)N
2475("failed!\\n"\);)X
1707 1776(exit\(1\);)N
1419 1872(})N
1131 1968(})N
843 2064(})N
1 f
555 2208(and)N
2 f
691(reader)X
1 f
912(:)X
0 f
843 2352(#include)N
1275(<stdio.h>)X
843 2448(#include)N
1275(<rpc/rpc.h>)X
1995(/*)X
2 f
2139(xdr)X
2266(is)X
2339(a)X
2399(sub-library)X
2779(of)X
2861(rpc)X
0 f
3016(*/)X
843 2592(main\(\))N
1707(/*)X
2 f
1851(reader.c)X
0 f
2169(*/)X
843 2688({)N
1131 2784(XDR)N
1323(xdrs;)X
1131 2880(long)N
1371(i,)X
1515(j;)X
1131 3024(xdrstdio_create\(&xdrs,)N
2235(stdin,)X
2571(XDR_DECODE\);)X
1131 3120(for)N
1323(\(j)X
1467(=)X
1563(0;)X
1707(j)X
1803(<)X
1899(8;)X
2043(j++\))X
2283({)X
1419 3216(if)N
1563(\(!xdr_long\(&xdrs,)X
2427(&i\)\))X
2667({)X
1707 3312(fprintf\(stderr,)N
2475("failed!\\n"\);)X
1707 3408(exit\(1\);)N
1419 3504(})N
1419 3600(printf\("%ld)N
1995(",)X
2139(i\);)X
1131 3696(})N
1131 3792(printf\("\\n"\);)N
843 3888(})N
1 f
555 4032(The)N
706(new)X
866(programs)X
1195(were)X
1378(executed)X
1690(on)X
1796(a)X
1858(Sun,)X
2028(on)X
2134(a)X
2196(VAX,)X
2416(and)X
2558(from)X
2740(a)X
2802(Sun)X
2952(to)X
3039(a)X
3100(VAX;)X
3321(the)X
3444(results)X
3678(are)X
3802(shown)X
555 4128(below.)N
0 f
843 4272(sun%)N
1083(writer)X
9 f
1419(|)X
0 f
1483(reader)X
843 4368(0)N
939(1)X
1035(2)X
1131(3)X
1227(4)X
1323(5)X
1419(6)X
1515(7)X
843 4464(sun%)N
843 4656(vax%)N
1083(writer)X
9 f
1419(|)X
0 f
1483(reader)X
843 4752(0)N
939(1)X
1035(2)X
1131(3)X
1227(4)X
1323(5)X
1419(6)X
1515(7)X
843 4848(vax%)N
843 5040(sun%)N
1083(writer)X
9 f
1419(|)X
0 f
1483(rsh)X
1675(vax)X
1867(reader)X
843 5136(0)N
939(1)X
1035(2)X
1131(3)X
1227(4)X
1323(5)X
1419(6)X
1515(7)X
843 5232(sun%)N
2 f
555 5472(NOTE:)N
811(Integers)X
1099(are)X
1231(just)X
1371(the)X
1493(tip)X
1601(of)X
1687(the)X
1809(portable-data)X
2273(iceberg.)X
2578(Arbitrary)X
2904(data)X
3070(structures)X
3414(present)X
3674(portability)X
555 5568(problems,)N
899(particularly)X
1307(with)X
1470(respect)X
1728(to)X
1816(alignment)X
2162(and)X
2308(pointers.)X
2636(Alignment)X
2990(on)X
3095(word)X
3284(boundaries)X
3669(may)X
3828(cause)X
555 5664(the)N
679(size)X
825(of)X
913(a)X
979(structure)X
1294(to)X
1382(vary)X
1551(from)X
1728(machine)X
2026(to)X
2114(machine.)X
2451(And)X
2605(pointers,)X
2912(which)X
3128(are)X
3260(very)X
3424(convenient)X
3797(to)X
3884(use,)X
555 5760(have)N
727(no)X
827(meaning)X
1123(outside)X
1374(the)X
1492(machine)X
1784(where)X
2000(they)X
2154(are)X
2281(defined.)X

4 p
%%Page: 4 4
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
2 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(4)X
2323(-)X
3 f
555 672(2.)N
655(A)X
733(Canonical)X
1099(Standard)X
1 f
555 796(DR's)N
745(approach)X
1061(to)X
1144(standardizing)X
1597(data)X
1752(representations)X
2259(is)X
2 f
2332(canonical)X
1 f
2655(.)X
2715(That)X
2882(is,)X
2975(XDR)X
3164(defines)X
3416(a)X
3472(single)X
3683(byte)X
3841(order)X
555 892(\(Big)N
734(Endian\),)X
1045(a)X
1118(single)X
1346(floating-point)X
1822(representation)X
2313(\(IEEE\),)X
2597(and)X
2749(so)X
2856(on.)X
3012(Any)X
3186(program)X
3494(running)X
3779(on)X
3895(any)X
555 988(machine)N
855(can)X
995(use)X
1130(XDR)X
1327(to)X
1417(create)X
1638(portable)X
1929(data)X
2090(by)X
2197(translating)X
2562(its)X
2664(local)X
2847(representation)X
3329(to)X
3418(the)X
3543(XDR)X
3739(standard)X
555 1084(representations;)N
1090(similarly,)X
1421(any)X
1564(program)X
1863(running)X
2139(on)X
2246(any)X
2389(machine)X
2688(can)X
2827(read)X
2993(portable)X
3283(data)X
3443(by)X
3549(translating)X
3913(the)X
555 1180(DR)N
695(standard)X
996(representaions)X
1489(to)X
1580(its)X
1684(local)X
1869(equivalents.)X
2303(The)X
2456(single)X
2675(standard)X
2975(completely)X
3359(decouples)X
3708(programs)X
555 1276(that)N
696(create)X
910(or)X
998(send)X
1166(portable)X
1450(data)X
1605(from)X
1782(those)X
1972(that)X
2113(use)X
2241(or)X
2329(receive)X
2583(portable)X
2867(data.)X
3062(The)X
3208(advent)X
3442(of)X
3529(a)X
3585(new)X
3739(machine)X
555 1372(or)N
650(a)X
714(new)X
876(language)X
1194(has)X
1329(no)X
1436(effect)X
1647(opn)X
1794(the)X
1919(community)X
2310(of)X
2404(existing)X
2684(portable)X
2974(data)X
3135(creators)X
3417(and)X
3560(users.)X
3792(A)X
3877(new)X
555 1468(machine)N
850(joins)X
1028(this)X
1166(community)X
1553(be)X
1652(being)X
1853(``taught'')X
2184(how)X
2345(to)X
2430(convert)X
2694(the)X
2815(standard)X
3110(representations)X
3619(and)X
3758(its)X
3855(local)X
555 1564(representations;)N
1096(the)X
1227(local)X
1416(representations)X
1935(of)X
2035(other)X
2233(machines)X
2569(are)X
2701(irrelevant.)X
3081(Conversely,)X
3498(to)X
3592(existing)X
3877(pro-)X
555 1660(grams)N
780(running)X
1058(on)X
1167(other)X
1361(machines,)X
1713(the)X
1840(local)X
2025(representations)X
2539(of)X
2634(the)X
2760(new)X
2922(machine)X
3222(are)X
3349(also)X
3506(irrelevant;)X
3864(such)X
555 1756(programs)N
880(can)X
1014(immediately)X
1436(read)X
1597(portable)X
1882(data)X
2038(produced)X
2358(by)X
2459(the)X
2578(new)X
2733(machine)X
3026(because)X
3302(such)X
3470(data)X
3625(conforms)X
3949(to)X
555 1852(the)N
673(canonical)X
1001(standards)X
1324(that)X
1464(they)X
1622(already)X
1879(understand.)X
555 1976(There)N
770(are)X
896(strong)X
1123(precedents)X
1494(for)X
1615(XDR's)X
1869(canonical)X
2204(approach.)X
2565(For)X
2702(example,)X
3020(TCP/IP,)X
3305(UDP/IP,)X
3604(XNS,)X
3810(Ether-)X
555 2072(net,)N
698(and,)X
859(indeed,)X
1118(all)X
1223(protocols)X
1546(below)X
1767(layer)X
1953(five)X
2103(of)X
2195(the)X
2318(ISO)X
2472(model,)X
2717(are)X
2841(canonical)X
3174(protocols.)X
3536(The)X
3685(advantage)X
555 2168(of)N
647(any)X
788(canonical)X
1121(approach)X
1441(is)X
1519(simplicity;)X
1885(in)X
1972(the)X
2095(case)X
2259(of)X
2351(XDR,)X
2565(a)X
2626(single)X
2842(set)X
2956(of)X
3048(conversion)X
3425(routines)X
3707(is)X
3784(written)X
555 2264(once)N
730(and)X
869(is)X
945(never)X
1147(touched)X
1423(again.)X
1659(The)X
1806(canonical)X
2136(approach)X
2453(has)X
2582(a)X
2640(disadvantage,)X
3101(but)X
3225(it)X
3291(is)X
3366(unimportant)X
3779(in)X
3863(real-)X
555 2360(world)N
769(data)X
930(transfer)X
1203(applications.)X
1657(Suppose)X
1955(two)X
2102(Little-Endian)X
2556(machines)X
2886(are)X
3012(transferring)X
3414(integers)X
3694(according)X
555 2456(to)N
646(the)X
773(XDR)X
971(standard.)X
1311(The)X
1464(sending)X
1741(machine)X
2041(converts)X
2341(the)X
2467(integers)X
2749(from)X
2933(Little-Endian)X
3388(byte)X
3554(order)X
3752(to)X
3842(XDR)X
555 2552(\(Big-Endian\))N
1004(byte)X
1168(order;)X
1386(the)X
1510(receiving)X
1835(machine)X
2133(performs)X
2449(the)X
2573(reverse)X
2831(conversion.)X
3248(Because)X
3541(both)X
3708(machines)X
555 2648(observe)N
831(the)X
954(same)X
1144(byte)X
1307(order,)X
1522(their)X
1694(conversions)X
2102(are)X
2226(unnecessary.)X
2684(The)X
2834(point,)X
3043(however,)X
3365(is)X
3443(not)X
3570(necessity,)X
3909(but)X
555 2744(cost)N
704(as)X
791(compared)X
1128(to)X
1210(the)X
1328(alternative.)X
555 2868(The)N
704(time)X
869(spent)X
1061(converting)X
1427(to)X
1512(and)X
1651(from)X
1830(a)X
1889(canonical)X
2220(representation)X
2698(is)X
2774(insignificant,)X
3217(especially)X
3561(in)X
3646(networking)X
555 2964(applications.)N
1009(Most)X
1200(of)X
1294(the)X
1419(time)X
1588(required)X
1883(to)X
1972(prepare)X
2241(a)X
2304(data)X
2465(structure)X
2773(for)X
2894(transfer)X
3167(is)X
3247(not)X
3376(spent)X
3571(in)X
3659(conversion)X
555 3060(but)N
688(in)X
781(traversing)X
1133(the)X
1262(elements)X
1578(of)X
1676(the)X
1805(data)X
1970(structure.)X
2322(To)X
2442(transmit)X
2735(a)X
2802(tree,)X
2974(for)X
3099(example,)X
3421(each)X
3599(leaf)X
3750(must)X
3935(be)X
555 3156(visited)N
792(and)X
932(each)X
1104(element)X
1382(in)X
1468(a)X
1528(leaf)X
1673(record)X
1903(must)X
2082(be)X
2182(copied)X
2420(to)X
2506(a)X
2566(buffer)X
2787(and)X
2927(aligned)X
3187(there;)X
3394(storage)X
3650(for)X
3768(the)X
3890(leaf)X
555 3252(may)N
721(have)X
901(to)X
991(be)X
1095(deallocated)X
1489(as)X
1584(well.)X
1789(Similarly,)X
2133(to)X
2222(receive)X
2482(a)X
2545(tree,)X
2713(storage)X
2972(must)X
3154(be)X
3257(allocated)X
3574(for)X
3695(each)X
3870(leaf,)X
555 3348(data)N
715(must)X
896(be)X
998(moved)X
1242(from)X
1424(the)X
1548(buffer)X
1771(to)X
1859(the)X
1983(leaf)X
2130(and)X
2271(properly)X
2568(aligned,)X
2849(and)X
2990(pointers)X
3273(must)X
3453(be)X
3554(constructed)X
3949(to)X
555 3444(link)N
702(the)X
823(leaves)X
1047(together.)X
1373(Every)X
1588(machine)X
1883(pays)X
2052(the)X
2172(cost)X
2323(of)X
2412(traversing)X
2755(and)X
2893(copying)X
3173(data)X
3329(structures)X
3663(whether)X
3944(or)X
555 3540(not)N
687(conversion)X
1069(is)X
1152(required.)X
1490(In)X
1587(networking)X
1982(applications,)X
2419(communications)X
2978(overhead\320the)X
3481(time)X
3652(required)X
3949(to)X
555 3636(move)N
755(the)X
875(data)X
1031(down)X
1231(through)X
1502(the)X
1622(sender's)X
1912(protocol)X
2201(layers,)X
2435(across)X
2658(the)X
2778(network)X
3063(and)X
3201(up)X
3303(through)X
3574(the)X
3693(receiver's)X
555 3732(protocol)N
842(layers\320dwarfs)X
1353(conversion)X
1725(overhead.)X
3 f
555 3924(3.)N
655(The)X
808(XDR)X
1002(Library)X
1 f
555 4048(The)N
703(XDR)X
895(library)X
1132(not)X
1257(only)X
1422(solves)X
1645(data)X
1802(portability)X
2158(problems,)X
2499(it)X
2565(also)X
2716(allows)X
2947(you)X
3089(to)X
3173(write)X
3360(and)X
3498(read)X
3659(arbitrary)X
3958(C)X
555 4144(constructs)N
906(in)X
994(a)X
1056(consistent,)X
1422(specified,)X
1758(well-documented)X
2340(manner.)X
2646(Thus,)X
2851(it)X
2920(can)X
3057(make)X
3256(sense)X
3455(to)X
3542(use)X
3674(the)X
3797(library)X
555 4240(even)N
727(when)X
921(the)X
1039(data)X
1193(is)X
1266(not)X
1388(shared)X
1618(among)X
1856(machines)X
2179(on)X
2279(a)X
2335(network.)X
555 4364(The)N
712(XDR)X
913(library)X
1159(has)X
1298(filter)X
1485(routines)X
1774(for)X
1899(strings)X
2143(\(null-terminated)X
2695(arrays)X
2923(of)X
3021(bytes\),)X
3268(structures,)X
3631(unions,)X
3895(and)X
555 4460(arrays,)N
799(to)X
888(name)X
1089(a)X
1152(few.)X
1340(Using)X
1558(more)X
1750(primitive)X
2070(routines,)X
2375(you)X
2522(can)X
2661(write)X
2853(your)X
3027(own)X
3192(specific)X
3469(XDR)X
3665(routines)X
3949(to)X
555 4556(describe)N
848(arbitrary)X
1150(data)X
1309(structures,)X
1666(including)X
1993(elements)X
2303(of)X
2395(arrays,)X
2637(arms)X
2818(of)X
2910(unions,)X
3167(or)X
3258(objects)X
3509(pointed)X
3773(at)X
3855(from)X
555 4652(other)N
747(structures.)X
1126(The)X
1278(structures)X
1617(themselves)X
2000(may)X
2165(contain)X
2428(arrays)X
2652(of)X
2746(arbitrary)X
3050(elements,)X
3381(or)X
3474(pointers)X
3758(to)X
3846(other)X
555 4748(structures.)N
555 4872(Let's)N
741(examine)X
1034(the)X
1153(two)X
1294(programs)X
1618(more)X
1804(closely.)X
2092(There)X
2301(is)X
2375(a)X
2432(family)X
2662(of)X
2750(XDR)X
2940(stream)X
3175(creation)X
3455(routines)X
3733(in)X
3815(which)X
555 4968(each)N
728(member)X
1016(treats)X
1215(the)X
1338(stream)X
1577(of)X
1669(bits)X
1809(differently.)X
2213(In)X
2305(our)X
2437(example,)X
2754(data)X
2913(is)X
2991(manipulated)X
3411(using)X
3608(standard)X
3904(I/O)X
555 5064(routines,)N
863(so)X
964(we)X
1088(use)X
2 f
1225(xdrstdio_create.)X
1 f
1785(The)X
1940(parameters)X
2323(to)X
2415(XDR)X
2613(stream)X
2856(creation)X
3144(routines)X
3431(vary)X
3603(according)X
3949(to)X
555 5160(their)N
732(function.)X
1069(In)X
1166(our)X
1303(example,)X
2 f
1625(xdrstdio_create)X
1 f
2165(takes)X
2360(a)X
2426(pointer)X
2683(to)X
2775(an)X
2881(XDR)X
3080(structure)X
3391(that)X
3541(it)X
3615(initializes,)X
3975(a)X
555 5256(pointer)N
817(to)X
914(a)X
2 f
985(FILE)X
1 f
1195(that)X
1349(the)X
1481(input)X
1679(or)X
1780(output)X
2018(is)X
2105(performed)X
2474(on,)X
2608(and)X
2758(the)X
2890(operation.)X
3267(The)X
3426(operation)X
3763(may)X
3935(be)X
2 f
555 5352(XDR_ENCODE)N
1 f
1107(for)X
1230(serializing)X
1593(in)X
1684(the)X
2 f
1811(writer)X
1 f
2042(program,)X
2363(or)X
2 f
2458(XDR_DECODE)X
1 f
3014(for)X
3136(deserializing)X
3574(in)X
3664(the)X
2 f
3790(reader)X
1 f
555 5448(program.)N
555 5572(Note:)N
755(RPC)X
927(users)X
1114(never)X
1315(need)X
1489(to)X
1572(create)X
1786(XDR)X
1976(streams;)X
2264(the)X
2383(RPC)X
2554(system)X
2797(itself)X
2978(creates)X
3223(these)X
3409(streams,)X
3695(which)X
3912(are)X
555 5668(then)N
713(passed)X
947(to)X
1029(the)X
1147(users.)X
555 5792(The)N
2 f
702(xdr_long)X
1 f
1020(primitive)X
1335(is)X
1410(characteristic)X
1861(of)X
1950(most)X
2127(XDR)X
2318(library)X
2554(primitives)X
2899(and)X
3036(all)X
3137(client)X
3336(XDR)X
3526(routines.)X
3845(First,)X

5 p
%%Page: 5 5
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(5)X
2323(-)X
555 672(the)N
674(routine)X
922(returns)X
2 f
1166(FALSE)X
1 f
1424(\(0\))X
1538(if)X
1607(it)X
1671(fails,)X
1849(and)X
2 f
1985(TRUE)X
1 f
2212(\(1\))X
2326(if)X
2395(it)X
2459(succeeds.)X
2805(Second,)X
3081(for)X
3195(each)X
3363(data)X
3517(type,)X
2 f
3695(xxx)X
1 f
3810(,)X
3850(there)X
555 768(is)N
628(an)X
724(associated)X
1074(XDR)X
1263(routine)X
1510(of)X
1597(the)X
1715(form:)X
0 f
843 912(xdr_xxx\(xdrs,)N
1515(xp\))X
1131 1008(XDR)N
1323(*xdrs;)X
1131 1104(xxx)N
1323(*xp;)X
843 1200({)N
843 1296(})N
1 f
555 1440(In)N
646(our)X
777(case,)X
2 f
959(xxx)X
1 f
1097(is)X
1173(long,)X
1358(and)X
1497(the)X
1618(corresponding)X
2100(XDR)X
2292(routine)X
2542(is)X
2618(a)X
2677(primitive,)X
2 f
3013(xdr_long)X
1 f
3332(The)X
3480(client)X
3681(could)X
3882(also)X
555 1536(define)N
778(an)X
876(arbitrary)X
1175(structure)X
2 f
1478(xxx)X
1 f
1615(in)X
1699(which)X
1917(case)X
2078(the)X
2198(client)X
2398(would)X
2620(also)X
2771(supply)X
3006(the)X
3126(routine)X
2 f
3374(xdr_xxx)X
1 f
3636(,)X
3677(describing)X
555 1632(each)N
732(field)X
908(by)X
1017(calling)X
1264(XDR)X
1461(routines)X
1747(of)X
1842(the)X
1968(appropriate)X
2362(type.)X
2568(In)X
2663(all)X
2771(cases)X
2969(the)X
3095(first)X
3252(parameter,)X
2 f
3622(xdrs)X
1 f
3795(can)X
3935(be)X
555 1728(treated)N
794(as)X
881(an)X
977(opaque)X
1229(handle,)X
1483(and)X
1619(passed)X
1853(to)X
1935(the)X
2053(primitive)X
2366(routines.)X
555 1852(DR)N
691(routines)X
974(are)X
1098(direction)X
1408(independent;)X
1847(that)X
1991(is,)X
2088(the)X
2210(same)X
2399(routines)X
2681(are)X
2804(called)X
3020(to)X
3106(serialize)X
3398(or)X
3489(deserialize)X
3857(data.)X
555 1948(This)N
726(feature)X
979(is)X
1061(critical)X
1313(to)X
1404(software)X
1710(engineering)X
2118(of)X
2214(portable)X
2506(data.)X
2709(The)X
2863(idea)X
3026(is)X
3108(to)X
3199(call)X
3343(the)X
3469(same)X
3662(routine)X
3917(for)X
555 2044(either)N
761(operation)X
1087(\320)X
1189(this)X
1326(almost)X
1561(guarantees)X
1927(that)X
2069(serialized)X
2399(data)X
2555(can)X
2689(also)X
2840(be)X
2938(deserialized.)X
3384(One)X
3540(routine)X
3789(is)X
3864(used)X
555 2140(by)N
659(both)X
825(producer)X
1135(and)X
1275(consumer)X
1611(of)X
1702(networked)X
2065(data.)X
2263(This)X
2429(is)X
2506(implemented)X
2947(by)X
3050(always)X
3296(passing)X
3559(the)X
3680(address)X
3944(of)X
555 2236(an)N
661(object)X
887(rather)X
1105(than)X
1273(the)X
1401(object)X
1627(itself)X
1817(\320)X
1927(only)X
2098(in)X
2189(the)X
2316(case)X
2484(of)X
2580(deserialization)X
3077(is)X
3159(the)X
3286(object)X
3511(modified.)X
3869(This)X
555 2332(feature)N
804(is)X
882(not)X
1009(shown)X
1243(in)X
1330(our)X
1462(trivial)X
1678(example,)X
1995(but)X
2122(its)X
2222(value)X
2421(becomes)X
2727(obvious)X
3005(when)X
3204(nontrivial)X
3540(data)X
3699(structures)X
555 2428(are)N
682(passed)X
924(among)X
1170(machines.)X
1540(If)X
1621(needed,)X
1896(the)X
2021(user)X
2182(can)X
2321(obtain)X
2548(the)X
2673(direction)X
2985(of)X
3079(the)X
3204(XDR)X
3400(operation.)X
3770(See)X
3913(the)X
2 f
555 2524(XDR)N
731(Operation)X
1080(Directions)X
1 f
1438(section)X
1685(of)X
1772(this)X
1907(chapter)X
2164(for)X
2278(details.)X
555 2648(Let's)N
745(look)X
912(at)X
995(a)X
1056(slightly)X
1320(more)X
1510(complicated)X
1927(example.)X
2264(Assume)X
2547(that)X
2691(a)X
2751(person's)X
3047(gross)X
3240(assets)X
3451(and)X
3591(liabilities)X
3912(are)X
555 2744(to)N
646(be)X
751(exchanged)X
1124(among)X
1371(processes.)X
1748(Also)X
1928(assume)X
2193(that)X
2342(these)X
2536(values)X
2770(are)X
2897(important)X
3236(enough)X
3500(to)X
3590(warrant)X
3864(their)X
555 2840(own)N
713(data)X
867(type:)X
0 f
843 2984(struct)N
1179(gnumbers)X
1611({)X
1131 3080(long)N
1371(g_assets;)X
1131 3176(long)N
1371(g_liabilities;)X
843 3272(};)N
1 f
555 3416(The)N
700(corresponding)X
1179(XDR)X
1368(routine)X
1615(describing)X
1969(this)X
2104(structure)X
2405(would)X
2625(be:)X
0 f
843 3560(bool_t)N
1707(/*)X
2 f
1851(TRUE)X
2071(is)X
2144(success,)X
2425(FALSE)X
2676(is)X
2749(failure)X
0 f
3010(*/)X
843 3656(xdr_gnumbers\(xdrs,)N
1755(gp\))X
1131 3752(XDR)N
1323(*xdrs;)X
1131 3848(struct)N
1467(gnumbers)X
1899(*gp;)X
843 3944({)N
1131 4040(if)N
1275(\(xdr_long\(xdrs,)X
2043(&gp->g_assets\))X
2763(&&)X
1323 4136(xdr_long\(xdrs,)N
2043(&gp->g_liabilities\)\))X
1419 4232(return\(TRUE\);)N
1131 4328(return\(FALSE\);)N
843 4424(})N
1 f
555 4568(Note)N
734(that)X
877(the)X
998(parameter)X
2 f
1343(xdrs)X
1 f
1511(is)X
1587(never)X
1789(inspected)X
2115(or)X
2205(modified;)X
2539(it)X
2606(is)X
2682(only)X
2846(passed)X
3082(on)X
3184(to)X
3268(the)X
3388(subcomponent)X
3877(rou-)X
555 4664(tines.)N
768(It)X
839(is)X
914(imperative)X
1279(to)X
1363(inspect)X
1612(the)X
1732(return)X
1946(value)X
2142(of)X
2230(each)X
2399(XDR)X
2589(routine)X
2837(call,)X
2994(and)X
3131(to)X
3214(give)X
3373(up)X
3474(immediately)X
3895(and)X
555 4760(return)N
2 f
767(FALSE)X
1 f
1025(if)X
1094(the)X
1212(subroutine)X
1570(fails.)X
555 4884(This)N
718(example)X
1011(also)X
1161(shows)X
1382(that)X
1523(the)X
1642(type)X
2 f
1800(bool_t)X
1 f
2031(is)X
2104(declared)X
2397(as)X
2484(an)X
2580(integer)X
2823(whose)X
3048(only)X
3210(values)X
3435(are)X
2 f
3554(TRUE)X
1 f
3781(\(1\))X
3895(and)X
2 f
555 4980(FALSE)N
1 f
813(\(0\).)X
967(This)X
1129(document)X
1465(uses)X
1623(the)X
1741(following)X
2072(definitions:)X
0 f
843 5124(#define)N
1227(bool_t)X
1707(int)X
843 5220(#define)N
1227(TRUE)X
1707(1)X
843 5316(#define)N
1227(FALSE)X
1707(0)X
843 5460(#define)N
1227(enum_t)X
1563(int)X
1995(/*)X
2 f
2139(enum_t)X
2395(used)X
2562(for)X
2675(generic)X
2936(enums)X
0 f
3189(*/)X
1 f
555 5632(Keeping)N
847(these)X
1032(conventions)X
1439(in)X
1521(mind,)X
2 f
1725(xdr_gnumbers)X
1 f
2215(can)X
2347(be)X
2443(rewritten)X
2753(as)X
2840(follows:)X

6 p
%%Page: 6 6
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(6)X
2323(-)X
0 f
843 720(xdr_gnumbers\(xdrs,)N
1755(gp\))X
1131 816(XDR)N
1323(*xdrs;)X
1131 912(struct)N
1467(gnumbers)X
1899(*gp;)X
843 1008({)N
1131 1104(return\(xdr_long\(xdrs,)N
2187(&gp->g_assets\))X
2907(&&)X
1419 1200(xdr_long\(xdrs,)N
2139(&gp->g_liabilities\)\);)X
843 1296(})N
1 f
555 1440(This)N
717(document)X
1053(uses)X
1211(both)X
1373(coding)X
1611(styles.)X
3 f
555 1632(4.)N
655(XDR)X
849(Library)X
1140(Primitives)X
1 f
555 1756(This)N
721(section)X
972(gives)X
1165(a)X
1225(synopsis)X
1524(of)X
1615(each)X
1787(XDR)X
1980(primitive.)X
2337(It)X
2410(starts)X
2603(with)X
2769(basic)X
2958(data)X
3116(types)X
3309(and)X
3448(moves)X
3680(on)X
3783(to)X
3868(con-)X
555 1852(structed)N
836(data)X
997(types.)X
1233(Finally,)X
1505(XDR)X
1700(utilities)X
1965(are)X
2090(discussed.)X
2463(The)X
2614(interface)X
2922(to)X
3010(these)X
3201(primitives)X
3551(and)X
3693(utilities)X
3958(is)X
555 1948(defined)N
816(in)X
898(the)X
1016(include)X
1272(file)X
2 f
1399(<rpc/xdr.h>)X
1 f
1810(,)X
1850(automatically)X
2306(included)X
2602(by)X
2 f
2702(<rpc/rpc.h>)X
1 f
3113(.)X
3 f
555 2140(4.1.)N
715(Number)X
1020(Filters)X
1 f
555 2264(The)N
721(XDR)X
931(library)X
1186(provides)X
1503(primitives)X
1868(to)X
1971(translate)X
2284(between)X
2593(numbers)X
2910(and)X
3066(their)X
3253(corresponding)X
3752(external)X
555 2360(representations.)N
1101(Primitives)X
1449(cover)X
1648(the)X
1766(set)X
1875(of)X
1962(numbers)X
2258(in:)X
1696 2504([)N
2 f
1723(signed)X
1 f
1945(,)X
2 f
(unsigned)S
1 f
2267(])X
2 f
2294(*)X
1 f
2347([)X
2 f
2374(short)X
1 f
2551(,)X
2 f
(int)S
1 f
2668(,)X
2 f
(long)S
1 f
2843(])X
555 2648(Specifically,)N
978(the)X
1096(eight)X
1276(primitives)X
1620(are:)X
0 f
843 2792(bool_t)N
1179(xdr_char\(xdrs,)X
1899(cp\))X
1131 2888(XDR)N
1323(*xdrs;)X
1131 2984(char)N
1371(*cp;)X
843 3128(bool_t)N
1179(xdr_u_char\(xdrs,)X
1995(ucp\))X
1131 3224(XDR)N
1323(*xdrs;)X
1131 3320(unsigned)N
1563(char)X
1803(*ucp;)X
843 3464(bool_t)N
1179(xdr_int\(xdrs,)X
1851(ip\))X
1131 3560(XDR)N
1323(*xdrs;)X
1131 3656(int)N
1323(*ip;)X
843 3800(bool_t)N
1179(xdr_u_int\(xdrs,)X
1947(up\))X
1131 3896(XDR)N
1323(*xdrs;)X
1131 3992(unsigned)N
1563(*up;)X
843 4136(bool_t)N
1179(xdr_long\(xdrs,)X
1899(lip\))X
1131 4232(XDR)N
1323(*xdrs;)X
1131 4328(long)N
1371(*lip;)X
843 4472(bool_t)N
1179(xdr_u_long\(xdrs,)X
1995(lup\))X
1131 4568(XDR)N
1323(*xdrs;)X
1131 4664(u_long)N
1467(*lup;)X
843 4808(bool_t)N
1179(xdr_short\(xdrs,)X
1947(sip\))X
1131 4904(XDR)N
1323(*xdrs;)X
1131 5000(short)N
1419(*sip;)X
843 5144(bool_t)N
1179(xdr_u_short\(xdrs,)X
2043(sup\))X
1131 5240(XDR)N
1323(*xdrs;)X
1131 5336(u_short)N
1515(*sup;)X
1 f
555 5480(The)N
707(first)X
863(parameter,)X
2 f
1232(xdrs)X
1 f
1377(,)X
1424(is)X
1504(an)X
1607(XDR)X
1803(stream)X
2044(handle.)X
2325(The)X
2477(second)X
2727(parameter)X
3076(is)X
3156(the)X
3281(address)X
3549(of)X
3642(the)X
3766(number)X
555 5576(that)N
702(provides)X
1005(data)X
1166(to)X
1255(the)X
1380(stream)X
1620(or)X
1713(receives)X
2003(data)X
2163(from)X
2345(it.)X
2455(All)X
2583(routines)X
2867(return)X
2 f
3085(TRUE)X
1 f
3318(if)X
3393(they)X
3557(complete)X
3877(suc-)X
555 5672(cessfully,)N
880(and)X
2 f
1016(FALSE)X
1 f
1274(otherwise.)X

7 p
%%Page: 7 7
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(7)X
2323(-)X
3 f
555 672(4.2.)N
715(Floating)X
1019(Point)X
1221(Filters)X
1 f
555 796(The)N
700(XDR)X
889(library)X
1123(also)X
1272(provides)X
1568(primitive)X
1881(routines)X
2159(for)X
2273(C's)X
2404(floating)X
2673(point)X
2857(types:)X
0 f
843 940(bool_t)N
1179(xdr_float\(xdrs,)X
1947(fp\))X
1131 1036(XDR)N
1323(*xdrs;)X
1131 1132(float)N
1419(*fp;)X
843 1276(bool_t)N
1179(xdr_double\(xdrs,)X
1995(dp\))X
1131 1372(XDR)N
1323(*xdrs;)X
1131 1468(double)N
1467(*dp;)X
1 f
555 1612(The)N
708(first)X
865(parameter,)X
2 f
1235(xdrs)X
1 f
1408(is)X
1489(an)X
1593(XDR)X
1790(stream)X
2032(handle.)X
2314(The)X
2467(second)X
2718(parameter)X
3068(is)X
3149(the)X
3275(address)X
3543(of)X
3637(the)X
3762(floating)X
555 1708(point)N
747(number)X
1020(that)X
1168(provides)X
1472(data)X
1634(to)X
1724(the)X
1849(stream)X
2090(or)X
2184(receives)X
2475(data)X
2636(from)X
2819(it.)X
2930(All)X
3059(routines)X
3344(return)X
2 f
3563(TRUE)X
1 f
3797(if)X
3873(they)X
555 1804(complete)N
869(successfully,)X
1301(and)X
2 f
1437(FALSE)X
1 f
1695(otherwise.)X
555 1928(Note:)N
760(Since)X
965(the)X
1090(numbers)X
1393(are)X
1518(represented)X
1915(in)X
2003(IEEE)X
2203(floating)X
2478(point,)X
2688(routines)X
2972(may)X
3136(fail)X
3269(when)X
3469(decoding)X
3789(a)X
3851(valid)X
555 2024(IEEE)N
749(representation)X
1224(into)X
1368(a)X
1424(machine-specific)X
1993(representation,)X
2488(or)X
2575(vice-versa.)X
3 f
555 2216(4.3.)N
715(Enumeration)X
1188(Filters)X
1 f
555 2340(The)N
703(XDR)X
895(library)X
1132(provides)X
1431(a)X
1490(primitive)X
1806(for)X
1922(generic)X
2181(enumerations.)X
2675(The)X
2822(primitive)X
3137(assumes)X
3426(that)X
3568(a)X
3626(C)X
2 f
3701(enum)X
1 f
3904(has)X
555 2436(the)N
674(same)X
860(representation)X
1336(inside)X
1548(the)X
1667(machine)X
1960(as)X
2048(a)X
2105(C)X
2179(integer.)X
2463(The)X
2609(boolean)X
2884(type)X
3043(is)X
3116(an)X
3212(important)X
3543(instance)X
3826(of)X
3913(the)X
2 f
555 2532(enum)N
1 f
736(.)X
796(The)X
941(external)X
1220(representation)X
1695(of)X
1782(a)X
1838(boolean)X
2112(is)X
2185(always)X
2 f
2428(TRUE)X
1 f
2655(\(1\))X
2769(or)X
2 f
2856(FALSE)X
1 f
3114(\(0\).)X
0 f
843 2676(#define)N
1227(bool_t)X
1707(int)X
843 2772(#define)N
1227(FALSE)X
1707(0)X
843 2868(#define)N
1227(TRUE)X
1707(1)X
843 3012(#define)N
1227(enum_t)X
1563(int)X
843 3156(bool_t)N
1179(xdr_enum\(xdrs,)X
1899(ep\))X
1131 3252(XDR)N
1323(*xdrs;)X
1131 3348(enum_t)N
1467(*ep;)X
843 3492(bool_t)N
1179(xdr_bool\(xdrs,)X
1899(bp\))X
1131 3588(XDR)N
1323(*xdrs;)X
1131 3684(bool_t)N
1467(*bp;)X
1 f
555 3828(The)N
709(second)X
961(parameters)X
2 f
1343(ep)X
1 f
1455(and)X
2 f
1600(bp)X
1 f
1716(are)X
1844(addresses)X
2181(of)X
2277(the)X
2404(associated)X
2762(type)X
2928(that)X
3076(provides)X
3380(data)X
3542(to,)X
3652(or)X
3747(receives)X
555 3924(data)N
712(from,)X
911(the)X
1032(stream)X
2 f
1269(xdrs)X
1 f
1437(The)X
1585(routine)X
1834(returns)X
2 f
2079(FALSE)X
1 f
2339(if)X
2410(the)X
2530(number)X
2797(of)X
2886(characters)X
3235(exceeds)X
2 f
3512(maxlength)X
1 f
3853(,)X
3895(and)X
2 f
555 4020(TRUE)N
1 f
782(if)X
851(it)X
915(doesn't.)X
3 f
555 4212(4.4.)N
715(No)X
833(Data)X
1 f
555 4336(Occasionally,)N
1031(an)X
1144(XDR)X
1350(routine)X
1614(must)X
1806(be)X
1918(supplied)X
2225(to)X
2323(the)X
2457(RPC)X
2643(system,)X
2921(even)X
3109(when)X
3319(no)X
3435(data)X
3605(is)X
3694(passed)X
3944(or)X
555 4432(required.)N
883(The)X
1028(library)X
1262(provides)X
1558(such)X
1725(a)X
1781(routine:)X
0 f
843 4576(bool_t)N
1179(xdr_void\(\);)X
1803(/*)X
2 f
1947(always)X
2189(returns)X
2440(TRUE)X
0 f
2688(*/)X
3 f
555 4816(4.5.)N
715(Constructed)X
1158(Data)X
1343(Type)X
1536(Filters)X
1 f
555 4940(Constructed)N
975(or)X
1075(compound)X
1446(data)X
1613(type)X
1784(primitives)X
2141(require)X
2401(more)X
2598(parameters)X
2983(and)X
3131(perform)X
3422(more)X
3619(complicated)X
555 5036(functions)N
878(then)X
1041(the)X
1164(primitives)X
1513(discussed)X
1845(above.)X
2102(This)X
2269(section)X
2521(includes)X
2813(primitives)X
3162(for)X
3280(strings,)X
3537(arrays,)X
3778(unions,)X
555 5132(and)N
691(pointers)X
969(to)X
1051(structures.)X
555 5256(Constructed)N
963(data)X
1118(type)X
1277(primitives)X
1622(may)X
1781(use)X
1909(memory)X
2197(management.)X
2668(In)X
2756(many)X
2955(cases,)X
3166(memory)X
3454(is)X
3527(allocated)X
3837(when)X
555 5352(deserializing)N
997(data)X
1163(with)X
2 f
1337(XDR_DECODE)X
1 f
1897(Therefore,)X
2267(the)X
2397(XDR)X
2598(package)X
2894(must)X
3080(provide)X
3356(means)X
3592(to)X
3685(deallocate)X
555 5448(memory.)N
884(This)X
1048(is)X
1123(done)X
1300(by)X
1401(an)X
1498(XDR)X
1688(operation,)X
2 f
2032(XDR_FREE)X
1 f
2452(To)X
2562(review,)X
2822(the)X
2941(three)X
3123(XDR)X
3313(directional)X
3677(operations)X
555 5544(are)N
2 f
674(XDR_ENCODE)X
1 f
1197(,)X
2 f
1237(XDR_DECODE)X
1 f
1785(and)X
2 f
1921(XDR_FREE)X
1 f
2320(.)X

8 p
%%Page: 8 8
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(8)X
2323(-)X
3 f
555 672(4.5.1.)N
775(Strings)X
1 f
555 796(In)N
643(C,)X
737(a)X
794(string)X
997(is)X
1071(defined)X
1333(as)X
1421(a)X
1478(sequence)X
1794(of)X
1882(bytes)X
2072(terminated)X
2436(by)X
2537(a)X
2594(null)X
2739(byte,)X
2917(which)X
3133(is)X
3206(not)X
3328(considered)X
3696(when)X
3890(cal-)X
555 892(culating)N
849(string)X
1066(length.)X
1341(However,)X
1691(when)X
1900(a)X
1971(string)X
2188(is)X
2276(passed)X
2525(or)X
2627(manipulated,)X
3078(a)X
3149(pointer)X
3411(to)X
3508(it)X
3587(is)X
3675(employed.)X
555 988(Therefore,)N
921(the)X
1047(XDR)X
1244(library)X
1486(defines)X
1746(a)X
1810(string)X
2019(to)X
2108(be)X
2211(a)X
2 f
2274(char)X
1 f
2455(and)X
2598(not)X
2727(a)X
2790(sequence)X
3112(of)X
3206(characters.)X
3600(The)X
3752(external)X
555 1084(representation)N
1042(of)X
1141(a)X
1209(string)X
1423(is)X
1508(drastically)X
1874(different)X
2183(from)X
2371(its)X
2478(internal)X
2755(representation.)X
3282(Externally,)X
3668(strings)X
3912(are)X
555 1180(represented)N
970(as)X
1081(sequences)X
1450(of)X
1560(ASCII)X
1812(characters,)X
2202(while)X
2423(internally,)X
2793(they)X
2974(are)X
3116(represented)X
3530(with)X
3715(character)X
555 1276(pointers.)N
873(Conversion)X
1262(between)X
1550(the)X
1668(two)X
1808(representations)X
2314(is)X
2387(accomplished)X
2848(with)X
3010(the)X
3128(routine)X
2 f
3375(xdr_string.)X
0 f
843 1420(bool_t)N
1179(xdr_string\(xdrs,)X
1995(sp,)X
2187(maxlength\))X
1131 1516(XDR)N
1323(*xdrs;)X
1131 1612(char)N
1371(**sp;)X
1131 1708(u_int)N
1419(maxlength;)X
1 f
555 1852(The)N
704(first)X
856(parameter)X
2 f
1201(xdrs)X
1 f
1369(is)X
1445(the)X
1566(XDR)X
1758(stream)X
1995(handle.)X
2272(The)X
2420(second)X
2666(parameter)X
2 f
3011(sp)X
1 f
3112(is)X
3188(a)X
3247(pointer)X
3497(to)X
3582(a)X
3641(string)X
3846(\(type)X
2 f
555 1948(char)N
1 f
735(The)X
886(third)X
1063(parameter)X
2 f
1411(maxlength)X
1 f
1778(specifies)X
2084(the)X
2207(maximum)X
2556(number)X
2826(of)X
2918(bytes)X
3112(allowed)X
3391(during)X
3625(encoding)X
3944(or)X
555 2044(decoding;)N
894(its)X
992(value)X
1189(is)X
1264(usually)X
1517(specified)X
1829(by)X
1931(a)X
1989(protocol.)X
2318(For)X
2451(example,)X
2765(a)X
2823(protocol)X
3112(specification)X
3544(may)X
3704(say)X
3833(that)X
3975(a)X
555 2140(file)N
689(name)X
890(may)X
1055(be)X
1158(no)X
1265(longer)X
1497(than)X
1662(255)X
1809(characters.)X
2203(The)X
2355(routine)X
2608(returns)X
2 f
2857(FALSE)X
1 f
3121(if)X
3196(the)X
3320(number)X
3591(of)X
3684(characters)X
555 2236(exceeds)N
2 f
830(maxlength)X
1 f
1171(,)X
1211(and)X
2 f
1347(TRUE)X
1 f
1574(if)X
1643(it)X
1707(doesn't.)X
555 2360(The)N
702(behavior)X
1005(of)X
2 f
1094(xdr_string)X
1 f
1456(is)X
1531(similar)X
1775(to)X
1859(the)X
1979(behavior)X
2282(of)X
2371(other)X
2558(routines)X
2838(discussed)X
3167(in)X
3251(this)X
3388(section.)X
3677(The)X
3823(direc-)X
555 2456(tion)N
2 f
702(XDR_ENCODE)X
1 f
1247(is)X
1322(easiest)X
1558(to)X
1642(understand.)X
2056(The)X
2203(parameter)X
2 f
2547(sp)X
1 f
2647(points)X
2864(to)X
2948(a)X
3006(string)X
3210(of)X
3299(a)X
3357(certain)X
3598(length;)X
3842(if)X
3913(the)X
555 2552(string)N
757(does)X
924(not)X
1046(exceed)X
2 f
1290(maxlength)X
1 f
1631(,)X
1671(the)X
1789(bytes)X
1978(are)X
2097(serialized.)X
555 2676(The)N
705(effect)X
914(of)X
1006(deserializing)X
1441(a)X
1502(string)X
1709(is)X
1787(subtle.)X
2043(First)X
2213(the)X
2335(length)X
2559(of)X
2650(the)X
2772(incoming)X
3098(string)X
3304(is)X
3381(determined;)X
3788(it)X
3856(must)X
555 2772(not)N
682(exceed)X
2 f
931(maxlength)X
1 f
1272(.)X
1337(Next)X
2 f
1518(sp)X
1 f
1621(is)X
1699 0.3229(dereferenced;)AX
2162(if)X
2235(the)X
2357(the)X
2479(value)X
2677(is)X
2 f
2754(NULL)X
1 f
2960(,)X
3004(then)X
3166(a)X
3226(string)X
3432(of)X
3523(the)X
3645(appropriate)X
555 2868(length)N
777(is)X
852(allocated)X
1164(and)X
2 f
1302(*sp)X
1 f
1442(is)X
1517(set)X
1628(to)X
1712(this)X
1849(string.)X
2092(If)X
2167(the)X
2286(original)X
2556(value)X
2751(of)X
2 f
2839(*sp)X
1 f
2978(is)X
3052(non-null,)X
3364(then)X
3523(the)X
3642(XDR)X
3832(pack-)X
555 2964(age)N
697(assumes)X
994(that)X
1144(a)X
1210(target)X
1423(area)X
1588(has)X
1725(been)X
1906(allocated,)X
2245(which)X
2470(can)X
2611(hold)X
2782(strings)X
3024(no)X
3133(longer)X
3367(than)X
2 f
3534(maxlength)X
1 f
3875(.)X
3944(In)X
555 3060(either)N
770(case,)X
961(the)X
1091(string)X
1305(is)X
1390(decoded)X
1690(into)X
1845(the)X
1974(target)X
2188(area.)X
2394(The)X
2550(routine)X
2808(then)X
2977(appends)X
3271(a)X
3338(null)X
3493(character)X
3820(to)X
3913(the)X
555 3156(string.)N
555 3280(In)N
651(the)X
2 f
778(XDR_FREE)X
1 f
1206(operation,)X
1557(the)X
1683(string)X
1893(is)X
1974(obtained)X
2278(by)X
2386 0.2813(dereferencing)AX
2 f
2857(sp)X
1 f
2935(.)X
3003(If)X
3085(the)X
3211(string)X
3421(is)X
3502(not)X
2 f
3632(NULL)X
1 f
3838(,)X
3886(it)X
3958(is)X
555 3376(freed)N
741(and)X
2 f
877(*sp)X
1 f
1015(is)X
1088(set)X
1197(to)X
2 f
1279(NULL)X
1 f
1485(.)X
1545(In)X
1632(this)X
1767(operation,)X
2 f
2110(xdr_string)X
1 f
2470(ignores)X
2726(the)X
2 f
2844(maxlength)X
1 f
3205(parameter.)X
3 f
555 3568(4.5.2.)N
775(Byte)X
951(Arrays)X
1 f
555 3692(Often)N
759(variable-length)X
1265(arrays)X
1482(of)X
1569(bytes)X
1758(are)X
1877(preferable)X
2224(to)X
2306(strings.)X
2579(Byte)X
2750(arrays)X
2967(differ)X
3166(from)X
3342(strings)X
3575(in)X
3657(the)X
3775(follow-)X
555 3788(ing)N
678(three)X
860(ways:)X
1068(1\))X
1156(the)X
1275(length)X
1496(of)X
1584(the)X
1703(array)X
1890(\(the)X
2036(byte)X
2195(count\))X
2421(is)X
2495(explicitly)X
2818(located)X
3071(in)X
3154(an)X
3251(unsigned)X
3561(integer,)X
3825(2\))X
3913(the)X
555 3884(byte)N
721(sequence)X
1044(is)X
1125(not)X
1254(terminated)X
1624(by)X
1731(a)X
1794(null)X
1945(character,)X
2288(and)X
2431(3\))X
2525(the)X
2650(external)X
2936(representation)X
3418(of)X
3512(the)X
3637(bytes)X
3833(is)X
3913(the)X
555 3980(same)N
747(as)X
841(their)X
1015(internal)X
1287(representation.)X
1808(The)X
1959(primitive)X
2 f
2278(xdr_bytes)X
1 f
2623(converts)X
2921(between)X
3215(the)X
3339(internal)X
3610(and)X
3752(external)X
555 4076(representations)N
1061(of)X
1148(byte)X
1306(arrays:)X
0 f
843 4220(bool_t)N
1179(xdr_bytes\(xdrs,)X
1947(bpp,)X
2187(lp,)X
2379(maxlength\))X
1035 4316(XDR)N
1227(*xdrs;)X
1035 4412(char)N
1275(**bpp;)X
1035 4508(u_int)N
1323(*lp;)X
1035 4604(u_int)N
1323(maxlength;)X
1 f
555 4748(The)N
705(usage)X
913(of)X
1005(the)X
1128(first,)X
1302(second)X
1550(and)X
1691(fourth)X
1912(parameters)X
2290(are)X
2414(identical)X
2715(to)X
2801(the)X
2923(first,)X
3096(second)X
3343(and)X
3483(third)X
3658(parameters)X
555 4844(of)N
2 f
648(xdr_string)X
1 f
988(,)X
1034(respectively.)X
1488(The)X
1639(length)X
1865(of)X
1958(the)X
2082(byte)X
2246(area)X
2407(is)X
2486(obtained)X
2788(by)X
2894 0.2813(dereferencing)AX
2 f
3362(lp)X
1 f
3456(when)X
3655(serializing;)X
2 f
555 4940(*lp)N
1 f
684(is)X
757(set)X
866(to)X
948(the)X
1066(byte)X
1224(length)X
1444(when)X
1638(deserializing.)X
3 f
555 5132(4.5.3.)N
775(Arrays)X
1 f
555 5256(The)N
709(XDR)X
907(library)X
1150(package)X
1442(provides)X
1746(a)X
1810(primitive)X
2131(for)X
2253(handling)X
2561(arrays)X
2786(of)X
2881(arbitrary)X
3186(elements.)X
3539(The)X
2 f
3692(xdr_bytes)X
1 f
555 5352(routine)N
803(treats)X
998(a)X
1055(subset)X
1276(of)X
1364(generic)X
1622(arrays,)X
1860(in)X
1943(which)X
2159(the)X
2277(size)X
2422(of)X
2509(array)X
2695(elements)X
3000(is)X
3073(known)X
3311(to)X
3393(be)X
3489(1,)X
3569(and)X
3705(the)X
3823(exter-)X
555 5448(nal)N
686(description)X
1075(of)X
1175(each)X
1356(element)X
1642(is)X
1727(built-in.)X
2034(The)X
2191(generic)X
2460(array)X
2658(primitive,)X
2 f
3003(xdr_array)X
1 f
3367(requires)X
3658(parameters)X
555 5544(identical)N
859(to)X
949(those)X
1146(of)X
2 f
1241(xdr_bytes)X
1 f
1588(plus)X
1749(two)X
1897(more:)X
2112(the)X
2238(size)X
2391(of)X
2486(array)X
2680(elements,)X
3012(and)X
3155(an)X
3258(XDR)X
3454(routine)X
3708(to)X
3797(handle)X
555 5640(each)N
723(of)X
810(the)X
928(elements.)X
1273(This)X
1435(routine)X
1682(is)X
1755(called)X
1967(to)X
2049(encode)X
2297(or)X
2384(decode)X
2632(each)X
2800(element)X
3074(of)X
3161(the)X
3279(array.)X

9 p
%%Page: 9 9
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2216 416(-)N
2263(9)X
2323(-)X
0 f
843 720(bool_t)N
843 816(xdr_array\(xdrs,)N
1611(ap,)X
1803(lp,)X
1995(maxlength,)X
2523(elementsiz,)X
3099(xdr_element\))X
1035 912(XDR)N
1227(*xdrs;)X
1035 1008(char)N
1275(**ap;)X
1035 1104(u_int)N
1323(*lp;)X
1035 1200(u_int)N
1323(maxlength;)X
1035 1296(u_int)N
1323(elementsiz;)X
1035 1392(bool_t)N
1371(\(*xdr_element\)\(\);)X
1 f
555 1536(The)N
702(parameter)X
2 f
1046(ap)X
1 f
1155(is)X
1229(the)X
1348(address)X
1610(of)X
1698(the)X
1817(pointer)X
2065(to)X
2148(the)X
2267(array.)X
2494(If)X
2 f
2569(*ap)X
1 f
2717(is)X
2 f
2791(NULL)X
1 f
3018(when)X
3213(the)X
3332(array)X
3519(is)X
3593(being)X
3792(deseri-)X
555 1632(alized,)N
793(DR)X
930(allocates)X
1237(an)X
1339(array)X
1531(of)X
1624(the)X
1747(appropriate)X
2138(size)X
2288(and)X
2429(sets)X
2 f
2574(*ap)X
1 f
2726(to)X
2813(that)X
2958(array.)X
3189(The)X
3339(element)X
3618(count)X
3821(of)X
3913(the)X
555 1728(array)N
752(is)X
836(obtained)X
1143(from)X
2 f
1330(*lp)X
1 f
1470(when)X
1675(the)X
1804(array)X
2000(is)X
2083(serialized;)X
2 f
2443(*lp)X
1 f
2582(is)X
2665(set)X
2784(to)X
2876(the)X
3004(array)X
3200(length)X
3430(when)X
3634(the)X
3762(array)X
3958(is)X
555 1824(deserialized.)N
989(The)X
1144(parameter)X
2 f
1496(maxlength)X
1 f
1867(is)X
1949(the)X
2076(maximum)X
2429(number)X
2703(of)X
2799(elements)X
3113(that)X
3262(the)X
3389(array)X
3584(is)X
3666(allowed)X
3949(to)X
555 1920(have;)N
2 f
754(elementsiz)X
1 f
1120(is)X
1198(the)X
1321(byte)X
1484(size)X
1634(of)X
1726(each)X
1899(element)X
2178(of)X
2270(the)X
2393(array)X
2584(\(the)X
2734(C)X
2812(function)X
2 f
3104(sizeof)X
1 f
3318(can)X
3454(be)X
3554(used)X
3725(to)X
3811(obtain)X
555 2016(this)N
690(value\).)X
951(The)X
1096(routine)X
2 f
1343(xdr_element)X
1 f
1767(is)X
1840(called)X
2052(to)X
2134(serialize,)X
2442(deserialize,)X
2826(or)X
2913(free)X
3059(each)X
3227(element)X
3501(of)X
3588(the)X
3706(array.)X
555 2140(Before)N
794(defining)X
1081(more)X
1266(constructed)X
1656(data)X
1810(types,)X
2019(it)X
2083(is)X
2156(appropriate)X
2542(to)X
2624(present)X
2876(three)X
3057(examples.)X
2 f
555 2264(Example)N
856(A:)X
1 f
555 2360(A)N
648(user)X
817(on)X
932(a)X
1003(networked)X
1377(machine)X
1684(can)X
1831(be)X
1941(identified)X
2282(by)X
2396(\(a\))X
2520(the)X
2652(machine)X
2958(name,)X
3186(such)X
3367(as)X
2 f
3468(krypton)X
1 f
3720(:)X
3776(see)X
3913(the)X
2 f
555 2456(gethostname)N
1 f
990(man)X
1151(page;)X
1348(\(b\))X
1465(the)X
1586(user's)X
1801(UID:)X
1988(see)X
2113(the)X
2 f
2233(geteuid)X
1 f
2498(man)X
2658(page;)X
2854(and)X
2992(\(c\))X
3104(the)X
3224(group)X
3433(numbers)X
3731(to)X
3815(which)X
555 2552(the)N
674(user)X
829(belongs:)X
1121(see)X
1245(the)X
2 f
1364(getgroups)X
1 f
1712(man)X
1871(page.)X
2084(A)X
2163(structure)X
2465(with)X
2628(this)X
2764(information)X
3163(and)X
3300(its)X
3396(associated)X
3746(DR)X
3877(rou-)X
555 2648(tine)N
695(could)X
893(be)X
989(coded)X
1201(like)X
1341(this:)X
0 f
843 2792(struct)N
1179(netuser)X
1563({)X
1035 2888(char)N
1419(*nu_machinename;)X
1035 2984(int)N
1419(nu_uid;)X
1035 3080(u_int)N
1419(nu_glen;)X
1035 3176(int)N
1419(*nu_gids;)X
843 3272(};)N
843 3368(#define)N
1227(NLEN)X
1467(255)X
1803(/*)X
2 f
1947(machine)X
2239(names)X
2464(<)X
2538(256)X
2678(chars)X
0 f
2904(*/)X
843 3464(#define)N
1227(NGRPS)X
1515(20)X
1803(/*)X
2 f
1947(user)X
2105(can't)X
2290(be)X
2386(in)X
2468(>)X
2542(20)X
2642(groups)X
0 f
2912(*/)X
843 3608(bool_t)N
843 3704(xdr_netuser\(xdrs,)N
1707(nup\))X
1035 3800(XDR)N
1227(*xdrs;)X
1035 3896(struct)N
1371(netuser)X
1755(*nup;)X
843 3992({)N
1035 4088(return\(xdr_string\(xdrs,)N
2187(&nup->nu_machinename,)X
3243(NLEN\))X
3531(&&)X
1227 4184(xdr_int\(xdrs,)N
1899(&nup->nu_uid\))X
2571(&&)X
1227 4280(xdr_array\(xdrs,)N
1995(&nup->nu_gids,)X
2715(&nup->nu_glen,)X
1227 4376(NGRPS,)N
1563(sizeof)X
1899(\(int\),)X
2235(xdr_int\)\);)X
843 4472(})N
2 f
555 4644(Example)N
856(B:)X
1 f
555 4740(A)N
640(party)X
832(of)X
926(network)X
1216(users)X
1408(could)X
1613(be)X
1716(implemented)X
2161(as)X
2255(an)X
2358(array)X
2551(of)X
2 f
2644(netuser)X
1 f
2913(structure.)X
3260(The)X
3411(declaration)X
3794(and)X
3936(its)X
555 4836(associated)N
905(XDR)X
1094(routines)X
1372(are)X
1491(as)X
1578(follows:)X

10 p
%%Page: 10 10
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(10)X
2343(-)X
0 f
843 720(struct)N
1179(party)X
1467({)X
1035 816(u_int)N
1323(p_len;)X
1035 912(struct)N
1371(netuser)X
1755(*p_nusers;)X
843 1008(};)N
843 1104(#define)N
1227(PLEN)X
1467(500)X
1803(/*)X
2 f
1947(max)X
2101(number)X
2366(of)X
2448(users)X
2637(in)X
2719(a)X
2779(party)X
0 f
2996(*/)X
843 1248(bool_t)N
843 1344(xdr_party\(xdrs,)N
1611(pp\))X
1035 1440(XDR)N
1227(*xdrs;)X
1035 1536(struct)N
1371(party)X
1659(*pp;)X
843 1632({)N
1035 1728(return\(xdr_array\(xdrs,)N
2139(&pp->p_nusers,)X
2859(&pp->p_len,)X
3435(PLEN,)X
1227 1824(sizeof)N
1563(\(struct)X
1947(netuser\),)X
2427(xdr_netuser\)\);)X
843 1920(})N
2 f
555 2092(Example)N
856(C:)X
1 f
555 2188(The)N
706(well-known)X
1115(parameters)X
1494(to)X
2 f
1582(main)X
1 f
1749(,)X
2 f
1795(argc)X
1 f
1975(and)X
2 f
2117(argv)X
1 f
2297(can)X
2435(be)X
2537(combined)X
2879(into)X
3029(a)X
3091(structure.)X
3438(An)X
3562(array)X
3754(of)X
3846(these)X
555 2284(structures)N
887(can)X
1019(make)X
1213(up)X
1313(a)X
1369(history)X
1611(of)X
1698(commands.)X
2105(The)X
2250(declarations)X
2658(and)X
2794(XDR)X
2983(routines)X
3261(might)X
3467(look)X
3629(like:)X
0 f
843 2428(struct)N
1179(cmd)X
1371({)X
1035 2524(u_int)N
1323(c_argc;)X
1035 2620(char)N
1275(**c_argv;)X
843 2716(};)N
843 2812(#define)N
1227(ALEN)X
1467(1000)X
1803(/*)X
2 f
1947(args)X
2109(cannot)X
2347(be)X
2443(>)X
2517(1000)X
2697(chars)X
0 f
2923(*/)X
843 2908(#define)N
1227(NARGC)X
1515(100)X
1803(/*)X
2 f
1947(commands)X
2310(cannot)X
2548(have)X
2720(>)X
2794(100)X
2934(args)X
0 f
3124(*/)X
843 3100(struct)N
1179(history)X
1563({)X
1035 3196(u_int)N
1323(h_len;)X
1035 3292(struct)N
1371(cmd)X
1563(*h_cmds;)X
843 3388(};)N
843 3484(#define)N
1227(NCMDS)X
1515(75)X
1803(/*)X
2 f
1947(history)X
2189(is)X
2262(no)X
2362(more)X
2547(than)X
2709(75)X
2809(commands)X
0 f
3200(*/)X
843 3676(bool_t)N
843 3772(xdr_wrap_string\(xdrs,)N
1899(sp\))X
1035 3868(XDR)N
1227(*xdrs;)X
1035 3964(char)N
1275(**sp;)X
843 4060({)N
1035 4156(return\(xdr_string\(xdrs,)N
2187(sp,)X
2379(ALEN\)\);)X
843 4252(})N
843 4444(bool_t)N
843 4540(xdr_cmd\(xdrs,)N
1515(cp\))X
1035 4636(XDR)N
1227(*xdrs;)X
1035 4732(struct)N
1371(cmd)X
1563(*cp;)X
843 4828({)N
1035 4924(return\(xdr_array\(xdrs,)N
2139(&cp->c_argv,)X
2763(&cp->c_argc,)X
3387(NARGC,)X
1227 5020(sizeof)N
1563(\(char)X
1851(*\),)X
2043(xdr_wrap_string\)\);)X
843 5116(})N

11 p
%%Page: 11 11
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(11)X
2343(-)X
0 f
843 720(bool_t)N
843 816(xdr_history\(xdrs,)N
1707(hp\))X
1035 912(XDR)N
1227(*xdrs;)X
1035 1008(struct)N
1371(history)X
1755(*hp;)X
843 1104({)N
1035 1200(return\(xdr_array\(xdrs,)N
2139(&hp->h_cmds,)X
2763(&hp->h_len,)X
3339(NCMDS,)X
1227 1296(sizeof)N
1563(\(struct)X
1947(cmd\),)X
2235(xdr_cmd\)\);)X
843 1392(})N
1 f
555 1536(The)N
714(most)X
903(confusing)X
1253(part)X
1412(of)X
1513(this)X
1662(example)X
1967(is)X
2053(that)X
2206(the)X
2337(routine)X
2 f
2597(xdr_wrap_string)X
1 f
3174(is)X
3260(needed)X
3521(to)X
3616(package)X
3913(the)X
2 f
555 1632(xdr_string)N
1 f
920(routine,)X
1192(because)X
1472(the)X
1595(implementation)X
2122(of)X
2 f
2214(xdr_array)X
1 f
2571(only)X
2738(passes)X
2968(two)X
3113(parameters)X
3491(to)X
3578(the)X
3700(array)X
3890(ele-)X
555 1728(ment)N
735(description)X
1111(routine;)X
2 f
1380(xdr_wrap_string)X
1 f
1944(supplies)X
2226(the)X
2344(third)X
2515(parameter)X
2857(to)X
2 f
2939(xdr_string)X
1 f
3279(.)X
555 1852(By)N
672(now)X
834(the)X
956(recursive)X
1275(nature)X
1500(of)X
1591(the)X
1713(XDR)X
1906(library)X
2144(should)X
2381(be)X
2481(obvious.)X
2798(Let's)X
2987(continue)X
3287(with)X
3453(more)X
3641(constructed)X
555 1948(data)N
709(types.)X
3 f
555 2140(4.5.4.)N
775(Opaque)X
1065(Data)X
1 f
555 2264(In)N
653(some)X
853(protocols,)X
1202(handles)X
1477(are)X
1606(passed)X
1850(from)X
2036(a)X
2102(server)X
2329(to)X
2421(client.)X
2669(The)X
2824(client)X
3032(passes)X
3267(the)X
3395(handle)X
3639(back)X
3821(to)X
3913(the)X
555 2360(server)N
774(at)X
854(some)X
1045(later)X
1210(time.)X
1414(Handles)X
1699(are)X
1820(never)X
2021(inspected)X
2346(by)X
2448(clients;)X
2701(they)X
2860(are)X
2980(obtained)X
3277(and)X
3414(submitted.)X
3790(That)X
3958(is)X
555 2456(to)N
637(say,)X
784(handles)X
1049(are)X
1168(opaque.)X
1460(The)X
1605(primitive)X
2 f
1918(xdr_opaque)X
1 f
2328(is)X
2401(used)X
2568(for)X
2682(describing)X
3036(fixed)X
3221(sized,)X
3426(opaque)X
3678(bytes.)X
0 f
843 2600(bool_t)N
1179(xdr_opaque\(xdrs,)X
1995(p,)X
2139(len\))X
1035 2696(XDR)N
1227(*xdrs;)X
1035 2792(char)N
1275(*p;)X
1035 2888(u_int)N
1323(len;)X
1 f
555 3032(The)N
701(parameter)X
2 f
1044(p)X
1 f
1112(is)X
1186(the)X
1305(location)X
1584(of)X
1672(the)X
1791(bytes;)X
2 f
2002(len)X
1 f
2127(is)X
2200(the)X
2318(number)X
2583(of)X
2670(bytes)X
2859(in)X
2941(the)X
3059(opaque)X
3311(object.)X
3567(By)X
3680(definition,)X
555 3128(the)N
673(actual)X
885(data)X
1039(contained)X
1371(in)X
1453(the)X
1571(opaque)X
1823(object)X
2039(are)X
2158(not)X
2280(machine)X
2572(portable.)X
3 f
555 3320(4.5.5.)N
775(Fixed)X
986(Sized)X
1188(Arrays)X
1 f
555 3444(The)N
700(XDR)X
889(library)X
1123(provides)X
1419(a)X
1475(primitive,)X
2 f
1808(xdr_vector)X
1 f
2163(,)X
2203(for)X
2317(fixed-length)X
2729(arrays.)X

12 p
%%Page: 12 12
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(12)X
2343(-)X
0 f
843 720(#define)N
1227(NLEN)X
1467(255)X
1803(/*)X
2 f
1947(machine)X
2239(names)X
2464(must)X
2635(be)X
2731(<)X
2805(256)X
2945(chars)X
0 f
3171(*/)X
843 816(#define)N
1227(NGRPS)X
1515(20)X
1803(/*)X
2 f
1947(user)X
2105(belongs)X
2374(to)X
2456(exactly)X
2704(20)X
2804(groups)X
0 f
3074(*/)X
843 960(struct)N
1179(netuser)X
1563({)X
1035 1056(char)N
1275(*nu_machinename;)X
1035 1152(int)N
1227(nu_uid;)X
1035 1248(int)N
1227(nu_gids[NGRPS];)X
843 1344(};)N
843 1488(bool_t)N
843 1584(xdr_netuser\(xdrs,)N
1707(nup\))X
1035 1680(XDR)N
1227(*xdrs;)X
1035 1776(struct)N
1371(netuser)X
1755(*nup;)X
843 1872({)N
1035 1968(int)N
1227(i;)X
1035 2112(if)N
1179(\(!xdr_string\(xdrs,)X
2091(&nup->nu_machinename,)X
3147(NLEN\)\))X
1227 2208(return\(FALSE\);)N
1035 2304(if)N
1179(\(!xdr_int\(xdrs,)X
1947(&nup->nu_uid\)\))X
1227 2400(return\(FALSE\);)N
1035 2496(if)N
1179(\(!xdr_vector\(xdrs,)X
2091(nup->nu_gids,)X
2763(NGRPS,)X
3099(sizeof\(int\),)X
1227 2592(xdr_int\)\))N
1707({)X
1419 2688(return\(FALSE\);)N
1035 2784(})N
1035 2880(return\(TRUE\);)N
843 2976(})N
3 f
555 3216(4.5.6.)N
775(Discriminated)X
1280(Unions)X
1 f
555 3340(The)N
704(XDR)X
897(library)X
1135(supports)X
1430(discriminated)X
1890(unions.)X
2167(A)X
2249(discriminated)X
2709(union)X
2915(is)X
2992(a)X
3052(C)X
3128(union)X
3333(and)X
3472(an)X
2 f
3571(enum_t)X
1 f
3837(value)X
555 3436(that)N
695(selects)X
929(an)X
1025(``arm'')X
1278(of)X
1365(the)X
1483(union.)X
0 f
843 3580(struct)N
1179(xdr_discrim)X
1755({)X
1035 3676(enum_t)N
1371(value;)X
1035 3772(bool_t)N
1371(\(*proc\)\(\);)X
843 3868(};)N
843 4012(bool_t)N
1179(xdr_union\(xdrs,)X
1947(dscmp,)X
2283(unp,)X
2523(arms,)X
2811(defaultarm\))X
1035 4108(XDR)N
1227(*xdrs;)X
1035 4204(enum_t)N
1371(*dscmp;)X
1035 4300(char)N
1275(*unp;)X
1035 4396(struct)N
1371(xdr_discrim)X
1947(*arms;)X
1035 4492(bool_t)N
1371(\(*defaultarm\)\(\);)X
2235(/*)X
2 f
2379(may)X
2533(equal)X
2731(NULL)X
0 f
2978(*/)X
1 f
555 4636(First)N
725(the)X
847(routine)X
1098(translates)X
1425(the)X
1547(discriminant)X
1971(of)X
2062(the)X
2184(union)X
2390(located)X
2646(at)X
2 f
2727(*dscmp)X
1 f
2979(.)X
3042(The)X
3190(discriminant)X
3613(is)X
3689(always)X
3935(an)X
2 f
555 4732(enum_t)N
1 f
833(Next)X
1024(the)X
1156(union)X
1372(located)X
1638(at)X
2 f
1730(*unp)X
1 f
1931(is)X
2018(translated.)X
2404(The)X
2563(parameter)X
2 f
2919(arms)X
1 f
3120(is)X
3207(a)X
3277(pointer)X
3538(to)X
3634(an)X
3744(array)X
3944(of)X
2 f
555 4828(xdr_discrim)N
1 f
970(structures.)X
1323(Each)X
1505(structure)X
1807(contains)X
2095(an)X
2192(order)X
2383(pair)X
2529(of)X
2 f
2616([value,proc])X
1 f
3026(.)X
3086(If)X
3160(the)X
3278(union's)X
3538(discriminant)X
3958(is)X
555 4924(equal)N
758(to)X
849(the)X
976(associated)X
2 f
1335(value)X
1 f
1545(then)X
1712(the)X
2 f
1839(proc)X
1 f
2022(is)X
2104(called)X
2325(to)X
2416(translate)X
2717(the)X
2844(union.)X
3095(The)X
3249(end)X
3394(of)X
3490(the)X
2 f
3617(xdr_discrim)X
1 f
555 5020(structure)N
866(array)X
1062(is)X
1145(denoted)X
1429(by)X
1539(a)X
1605(routine)X
1861(of)X
1957(value)X
2 f
2160(NULL)X
1 f
2395(\(0\).)X
2558(If)X
2641(the)X
2768(discriminant)X
3197(is)X
3279(not)X
3410(found)X
3626(in)X
3717(the)X
2 f
3844(arms)X
1 f
555 5116(array,)N
761(then)X
919(the)X
2 f
1037(defaultarm)X
1 f
1415(procedure)X
1757(is)X
1830(called)X
2042(if)X
2111(it)X
2175(is)X
2248(non-null;)X
2561(otherwise)X
2893(the)X
3011(routine)X
3258(returns)X
2 f
3501(FALSE)X
1 f
3739(.)X
2 f
555 5240(Example)N
859(D:)X
1 f
974(Suppose)X
1268(the)X
1389(type)X
1550(of)X
1640(a)X
1699(union)X
1904(may)X
2065(be)X
2164(integer,)X
2430(character)X
2749(pointer)X
2999(\(a)X
3085(string\),)X
3336(or)X
3425(a)X
2 f
3483(gnumbers)X
1 f
3828(struc-)X
555 5336(ture.)N
740(Also,)X
931(assume)X
1187(the)X
1305(union)X
1507(and)X
1643(its)X
1738(current)X
1986(type)X
2144(are)X
2263(declared)X
2556(in)X
2638(a)X
2694(structure.)X
3035(The)X
3180(declaration)X
3557(is:)X

13 p
%%Page: 13 13
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(13)X
2343(-)X
0 f
843 720(enum)N
1083(utype)X
1371({)X
1467(INTEGER=1,)X
1995(STRING=2,)X
2475(GNUMBERS=3)X
3003(};)X
843 864(struct)N
1179(u_tag)X
1467({)X
1035 960(enum)N
1275(utype)X
1563(utype;)X
1995(/*)X
2 f
2139(the)X
2257(union's)X
2517(discriminant)X
0 f
2969(*/)X
1035 1056(union)N
1323({)X
1227 1152(int)N
1419(ival;)X
1227 1248(char)N
1467(*pval;)X
1227 1344(struct)N
1563(gnumbers)X
1995(gn;)X
1035 1440(})N
1131(uval;)X
843 1536(};)N
1 f
555 1680(The)N
700(following)X
1031(constructs)X
1376(and)X
1512(XDR)X
1701(procedure)X
2043(\(de\)serialize)X
2461(the)X
2579(discriminated)X
3035(union:)X
0 f
843 1824(struct)N
1179(xdr_discrim)X
1755(u_tag_arms[4])X
2427(=)X
2523({)X
1035 1920({)N
1131(INTEGER,)X
1563(xdr_int)X
1947(},)X
1035 2016({)N
1131(GNUMBERS,)X
1611(xdr_gnumbers)X
2235(})X
1035 2112({)N
1131(STRING,)X
1515(xdr_wrap_string)X
2283(},)X
1035 2208({)N
1131(__dontcare__,)X
1803(NULL)X
2043(})X
1035 2304(/*)N
2 f
1179(always)X
1421(terminate)X
1748(arms)X
1928(with)X
2085(a)X
2145(NULL)X
2364(xdr_proc)X
0 f
2706(*/)X
843 2400(})N
843 2544(bool_t)N
843 2640(xdr_u_tag\(xdrs,)N
1611(utp\))X
1035 2736(XDR)N
1227(*xdrs;)X
1035 2832(struct)N
1371(u_tag)X
1659(*utp;)X
843 2928({)N
1035 3024(return\(xdr_union\(xdrs,)N
2139(&utp->utype,)X
2763(&utp->uval,)X
1227 3120(u_tag_arms,)N
1803(NULL\)\);)X
843 3216(})N
1 f
555 3360(The)N
711(routine)X
2 f
969(xdr_gnumbers)X
1 f
1470(was)X
1625(presented)X
1963(above)X
2185(in)X
2277(the)X
2 f
2405(The)X
2555(XDR)X
2741(Library)X
1 f
3015(section.)X
2 f
3312(xdr_wrap_string)X
1 f
3886(was)X
555 3456(presented)N
894(in)X
987(example)X
1290(C.)X
1414(The)X
1570(default)X
2 f
1824(arm)X
1 f
1991(parameter)X
2344(to)X
2 f
2437(xdr_union)X
1 f
2804(\(the)X
2960(last)X
3102(parameter\))X
3482(is)X
2 f
3566(NULL)X
1 f
3803(in)X
3896(this)X
555 3552(example.)N
899(Therefore)X
1249(the)X
1379(value)X
1584(of)X
1682(the)X
1811(union's)X
2082(discriminant)X
2513(may)X
2682(legally)X
2931(take)X
3096(on)X
3207(only)X
3380(values)X
3616(listed)X
3820(in)X
3913(the)X
2 f
555 3648(u_tag_arms)N
1 f
968(array.)X
1198(This)X
1364(example)X
1660(also)X
1813(demonstrates)X
2260(that)X
2404(the)X
2526(elements)X
2835(of)X
2926(the)X
3048(arm's)X
3255(array)X
3445(do)X
3549(not)X
3675(need)X
3850(to)X
3935(be)X
555 3744(sorted.)N
555 3868(It)N
629(is)X
707(worth)X
919(pointing)X
1210(out)X
1337(that)X
1482(the)X
1605(values)X
1835(of)X
1927(the)X
2050(discriminant)X
2475(may)X
2638(be)X
2738(sparse,)X
2983(though)X
3229(in)X
3315(this)X
3454(example)X
3750(they)X
3912(are)X
555 3964(not.)N
728(It)X
808(is)X
892(always)X
1146(good)X
1337(practice)X
1623(to)X
1716(assign)X
1947(explicitly)X
2280(integer)X
2534(values)X
2770(to)X
2863(each)X
3042(element)X
3327(of)X
3425(the)X
3553(discriminant's)X
555 4060(type.)N
756(This)X
921(practice)X
1199(both)X
1364(documents)X
1734(the)X
1855(external)X
2137(representation)X
2615(of)X
2705(the)X
2826(discriminant)X
3249(and)X
3387(guarantees)X
3753(that)X
3895(dif-)X
555 4156(ferent)N
763(C)X
836(compilers)X
1172(emit)X
1334(identical)X
1630(discriminant)X
2050(values.)X
555 4280(Exercise:)N
874(Implement)X
2 f
1241(xdr_union)X
1 f
1597(using)X
1790(the)X
1908(other)X
2093(primitives)X
2437(in)X
2519(this)X
2654(section.)X
3 f
555 4472(4.5.7.)N
775(Pointers)X
1 f
555 4596(In)N
669(C)X
768(it)X
858(is)X
957(often)X
1168(convenient)X
1566(to)X
1674(put)X
1822(pointers)X
2126(to)X
2234(another)X
2521(structure)X
2848(within)X
3098(a)X
3180(structure.)X
3547(The)X
3718(primitive)X
2 f
555 4692(xdr_reference)N
1 f
1033(makes)X
1258(it)X
1322(easy)X
1485(to)X
1567(serialize,)X
1875(deserialize,)X
2259(and)X
2395(free)X
2541(these)X
2726 0.4028(referenced)AX
3087(structures.)X
0 f
843 4836(bool_t)N
1179(xdr_reference\(xdrs,)X
2139(pp,)X
2331(size,)X
2619(proc\))X
1035 4932(XDR)N
1227(*xdrs;)X
1035 5028(char)N
1275(**pp;)X
1035 5124(u_int)N
1323(ssize;)X
1035 5220(bool_t)N
1371(\(*proc\)\(\);)X
1 f
555 5392(Parameter)N
2 f
905(pp)X
1 f
1015(is)X
1091(the)X
1212(address)X
1476(of)X
1566(the)X
1687(pointer)X
1937(to)X
2022(the)X
2143(structure;)X
2469(parameter)X
2 f
2814(ssize)X
1 f
2995(is)X
3071(the)X
3192(size)X
3340(in)X
3425(bytes)X
3617(of)X
3707(the)X
3828(struc-)X
555 5488(ture)N
705(\(use)X
864(the)X
987(C)X
1065(function)X
2 f
1357(sizeof)X
1 f
1571(to)X
1658(obtain)X
1883(this)X
2023(value\);)X
2271(and)X
2 f
2412(proc)X
1 f
2591(is)X
2669(the)X
2792(XDR)X
2986(routine)X
3238(that)X
3383(describes)X
3706(the)X
3828(struc-)X
555 5584(ture.)N
740(When)X
952(decoding)X
1266(data,)X
1440(storage)X
1692(is)X
1765(allocated)X
2075(if)X
2 f
2144(*pp)X
1 f
2291(is)X
2 f
2364(NULL)X
1 f
2570(.)X
555 5708(There)N
772(is)X
854(no)X
963(need)X
1144(for)X
1267(a)X
1332(primitive)X
2 f
1654(xdr_struct)X
1 f
2019(to)X
2110(describe)X
2407(structures)X
2748(within)X
2981(structures,)X
3342(because)X
3626(pointers)X
3912(are)X
555 5804(always)N
798(sufficient.)X

14 p
%%Page: 14 14
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(14)X
2343(-)X
555 672(Exercise:)N
888(Implement)X
2 f
1269(xdr_reference)X
1 f
1761(using)X
2 f
1968(xdr_array)X
1 f
2300(.)X
2373(Warning:)X
2 f
2709(xdr_reference)X
1 f
3200(and)X
2 f
3349(xdr_array)X
1 f
3714(are)X
3846(NOT)X
555 768(interchangeable)N
1084(external)X
1363(representations)X
1869(of)X
1956(data.)X
2 f
555 892(Example)N
859(E:)X
1 f
965(Suppose)X
1259(there)X
1443(is)X
1519(a)X
1578(structure)X
1882(containing)X
2243(a)X
2302(person's)X
2597(name)X
2794(and)X
2933(a)X
2992(pointer)X
3242(to)X
3327(a)X
2 f
3385(gnumbers)X
1 f
3730(structure)X
555 988(containing)N
913(the)X
1031(person's)X
1323(gross)X
1512(assets)X
1719(and)X
1855(liabilities.)X
2212(The)X
2357(construct)X
2671(is:)X
0 f
843 1132(struct)N
1179(pgn)X
1371({)X
1035 1228(char)N
1275(*name;)X
1035 1324(struct)N
1371(gnumbers)X
1803(*gnp;)X
843 1420(};)N
1 f
555 1564(The)N
700(corresponding)X
1179(XDR)X
1368(routine)X
1615(for)X
1729(this)X
1864(structure)X
2165(is:)X
0 f
843 1708(bool_t)N
843 1804(xdr_pgn\(xdrs,)N
1515(pp\))X
1035 1900(XDR)N
1227(*xdrs;)X
1035 1996(struct)N
1371(pgn)X
1563(*pp;)X
843 2092({)N
1035 2188(if)N
1179(\(xdr_string\(xdrs,)X
2043(&pp->name,)X
2571(NLEN\))X
2859(&&)X
1131 2284(xdr_reference\(xdrs,)N
2091(&pp->gnp,)X
1131 2380(sizeof\(struct)N
1803(gnumbers\),)X
2331(xdr_gnumbers\)\))X
1227 2476(return\(TRUE\);)N
1035 2572(return\(FALSE\);)N
843 2668(})N
2 f
555 2812(Pointer)N
815(Semantics)X
1160(and)X
1300(XDR)X
1 f
555 2936(In)N
643(many)X
842(applications,)X
1270(C)X
1343(programmers)X
1791(attach)X
2003(double)X
2241(meaning)X
2537(to)X
2619(the)X
2737(values)X
2962(of)X
3049(a)X
3105(pointer.)X
3392(Typically)X
3719(the)X
3837(value)X
2 f
555 3032(NULL)N
1 f
784(\(or)X
901(zero\))X
1090(means)X
1318(data)X
1475(is)X
1551(not)X
1676(needed,)X
1947(yet)X
2067(some)X
2258(application-specific)X
2913(interpretation)X
3367(applies.)X
3656(In)X
3745(essence,)X
555 3128(the)N
683(C)X
766(programmer)X
1193(is)X
1276(encoding)X
1600(a)X
1666(discriminated)X
2132(union)X
2344(efficiently)X
2704(by)X
2814(overloading)X
3227(the)X
3355(interpretation)X
3817(of)X
3913(the)X
555 3224(value)N
764(of)X
866(a)X
937(pointer.)X
1239(For)X
1385(instance,)X
1703(in)X
1800(example)X
2107(E)X
2191(a)X
2 f
2261(NULL)X
1 f
2501(pointer)X
2762(value)X
2970(for)X
2 f
3098(gnp)X
1 f
3259(could)X
3471(indicate)X
3759(that)X
3913(the)X
555 3320(person's)N
853(assets)X
1066(and)X
1208(liabilities)X
1531(are)X
1655(unknown.)X
2018(That)X
2190(is,)X
2288(the)X
2411(pointer)X
2663(value)X
2862(encodes)X
3146(two)X
3291(things:)X
3533(whether)X
3817(or)X
3909(not)X
555 3416(the)N
677(data)X
835(is)X
912(known;)X
1176(and)X
1316(if)X
1389(it)X
1457(is)X
1534(known,)X
1796(where)X
2017(it)X
2085(is)X
2162(located)X
2418(in)X
2504(memory.)X
2835(Linked)X
3085(lists)X
3236(are)X
3358(an)X
3457(extreme)X
3739(example)X
555 3512(of)N
642(the)X
760(use)X
887(of)X
974(application-specific)X
1627(pointer)X
1874(interpretation.)X
555 3636(The)N
703(primitive)X
2 f
1019(xdr_reference)X
1 f
1500(cannot)X
1737(and)X
1876(does)X
2045(not)X
2169(attach)X
2383(any)X
2521(special)X
2766(meaning)X
3064(to)X
3148(a)X
3206(null-value)X
3553(pointer)X
3802(during)X
555 3732(serialization.)N
1011(That)X
1182(is,)X
1279(passing)X
1543(an)X
1643(address)X
1908(of)X
1999(a)X
2059(pointer)X
2310(whose)X
2539(value)X
2737(is)X
2 f
2814(NULL)X
1 f
3044(to)X
2 f
3130(xdr_reference)X
1 f
3612(when)X
3810(serial-)X
555 3828(ing)N
677(data)X
831(will)X
975(most)X
1150(likely)X
1352(cause)X
1551(a)X
1607(memory)X
1894(fault)X
2061(and,)X
2217(on)X
2317(the)X
2435(UNIX)X
2656(system,)X
2918(a)X
2974(core)X
3133(dump.)X
2 f
555 3952(xdr_pointer)N
1 f
960(correctly)X
1266(handles)X
2 f
1531(NULL)X
1 f
1757(pointers.)X
2075(For)X
2206(more)X
2391(information)X
2789(about)X
2987(its)X
3082(use,)X
3229(see)X
2 f
3352(Linked)X
3590(Lists)X
1 f
3740(.)X
2 f
555 4076(Exercise:)N
1 f
902(After)X
1108(reading)X
1385(the)X
1519(section)X
1782(on)X
2 f
1898(Linked)X
2152(Lists)X
1 f
2302(,)X
2358(return)X
2586(here)X
2761(and)X
2913(extend)X
3163(example)X
3471(E)X
3556(so)X
3663(that)X
3819(it)X
3899(can)X
555 4172(correctly)N
861(deal)X
1015(with)X
2 f
1177(NULL)X
1 f
1403(pointer)X
1650(values.)X
2 f
555 4296(Exercise:)N
1 f
894(Using)X
1112(the)X
2 f
1237(xdr_union)X
1600(xdr_reference)X
1 f
2085(and)X
2 f
2228(xdr_void)X
1 f
2547(primitives,)X
2918(implement)X
3287(a)X
3350(generic)X
3614(pointer)X
3868(han-)X
555 4392(dling)N
739(primitive)X
1052(that)X
1192(implicitly)X
1522(deals)X
1707(with)X
2 f
1869(NULL)X
1 f
2095(pointers.)X
2413(That)X
2580(is,)X
2673(implement)X
2 f
3035(xdr_pointer)X
1 f
3420(.)X
3 f
555 4584(4.6.)N
715(Non-filter)X
1074(Primitives)X
1 f
555 4708(DR)N
686(streams)X
951(can)X
1083(be)X
1179(manipulated)X
1595(with)X
1757(the)X
1875(primitives)X
2219(discussed)X
2546(in)X
2628(this)X
2763(section.)X
0 f
843 4852(u_int)N
1131(xdr_getpos\(xdrs\))X
1035 4948(XDR)N
1227(*xdrs;)X
843 5092(bool_t)N
1179(xdr_setpos\(xdrs,)X
1995(pos\))X
1035 5188(XDR)N
1227(*xdrs;)X
1035 5284(u_int)N
1323(pos;)X
843 5428(xdr_destroy\(xdrs\))N
1035 5524(XDR)N
1227(*xdrs;)X
1 f
555 5668(The)N
707(routine)X
2 f
961(xdr_getpos)X
1 f
1351(returns)X
1601(an)X
1704(unsigned)X
2020(integer)X
2270(that)X
2417(describes)X
2743(the)X
2868(current)X
3122(position)X
3405(in)X
3493(the)X
3617(data)X
3777(stream.)X
555 5764(Warning:)N
882(In)X
973(some)X
1166(XDR)X
1359(streams,)X
1648(the)X
1770(returned)X
2061(value)X
2258(of)X
2 f
2348(xdr_getpos)X
1 f
2734(is)X
2810(meaningless;)X
3251(the)X
3372(routine)X
3622(returns)X
3868(a)X
9 f
3927(-)X
1 f
3971(1)X

15 p
%%Page: 15 15
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(15)X
2343(-)X
555 672(in)N
637(this)X
772(case)X
931(\(though)X
9 f
1200(-)X
1 f
1244(1)X
1304(should)X
1537(be)X
1633(a)X
1689(legitimate)X
2029(value\).)X
555 796(The)N
705(routine)X
2 f
957(xdr_setpos)X
1 f
1336(sets)X
1480(a)X
1540(stream)X
1778(position)X
2059(to)X
2 f
2145(pos)X
1 f
2287(Warning:)X
2614(In)X
2705(some)X
2898(XDR)X
3091(streams,)X
3380(setting)X
3617(a)X
3677(position)X
3958(is)X
555 892(impossible;)N
948(in)X
1035(such)X
1207(cases,)X
2 f
1422(xdr_setpos)X
1 f
1801(will)X
1950(return)X
2 f
2167(FALSE)X
1 f
2405(.)X
2470(This)X
2637(routine)X
2889(will)X
3038(also)X
3192(fail)X
3324(if)X
3397(the)X
3519(requested)X
3851(posi-)X
555 988(tion)N
699(is)X
772(out-of-bounds.)X
1286(The)X
1431(definition)X
1762(of)X
1849(bounds)X
2100(varies)X
2312(from)X
2488(stream)X
2722(to)X
2804(stream.)X
555 1112(The)N
2 f
701(xdr_destroy)X
1 f
1112(primitive)X
1426(destroys)X
1714(the)X
1833(XDR)X
2023(stream.)X
2298(Usage)X
2520(of)X
2608(the)X
2727(stream)X
2962(after)X
3131(calling)X
3370(this)X
3506(routine)X
3754(is)X
3828(unde-)X
555 1208(fined.)N
3 f
555 1400(4.7.)N
715(XDR)X
909(Operation)X
1280(Directions)X
1 f
555 1524(At)N
659(times)X
856(you)X
1000(may)X
1162(wish)X
1337(to)X
1423(optimize)X
1727(XDR)X
1919(routines)X
2200(by)X
2303(taking)X
2526(advantage)X
2875(of)X
2965(the)X
3086(direction)X
3394(of)X
3484(the)X
3605(operation)X
3931(\320)X
2 f
555 1620(XDR_ENCODE)N
1107(XDR_DECODE)X
1 f
1664(or)X
2 f
1760(XDR_FREE)X
1 f
2188(The)X
2342(value)X
2 f
2545(xdrs->x_op)X
1 f
2956(always)X
3208(contains)X
3504(the)X
3631(direction)X
3944(of)X
555 1716(the)N
675(XDR)X
866(operation.)X
1231(Programmers)X
1685(are)X
1806(not)X
1930(encouraged)X
2323(to)X
2407(take)X
2562(advantage)X
2909(of)X
2997(this)X
3133(information.)X
3572(Therefore,)X
3931(no)X
555 1812(example)N
858(is)X
942(presented)X
1281(here.)X
1491(However,)X
1836(an)X
1942(example)X
2244(in)X
2336(Section)X
2606(7)X
2676(demonstrates)X
3129(the)X
3257(usefulness)X
3621(of)X
3718(the)X
2 f
3846(xdrs-)X
555 1908(>x_op)N
1 f
792(field.)X
3 f
555 2100(4.8.)N
715(XDR)X
909(Stream)X
1179(Access)X
1 f
555 2224(An)N
676(XDR)X
868(stream)X
1105(is)X
1181(obtained)X
1480(by)X
1583(calling)X
1824(the)X
1945(appropriate)X
2334(creation)X
2616(routine.)X
2906(These)X
3121(creation)X
3403(routines)X
3684(take)X
3841(argu-)X
555 2320(ments)N
766(that)X
906(are)X
1025(tailored)X
1290(to)X
1372(the)X
1490(specific)X
1760(properties)X
2101(of)X
2188(the)X
2306(stream.)X
555 2444(Streams)N
836(currently)X
1149(exist)X
1323(for)X
1440(\(de\)serialization)X
1985(of)X
2075(data)X
2232(to)X
2317(or)X
2407(from)X
2586(standard)X
2881(I/O)X
2 f
3010(FILE)X
1 f
3208(streams,)X
3495(TCP/IP)X
3756(connec-)X
555 2540(tions)N
741(and)X
888(UNIX)X
1120(files,)X
1309(and)X
1456(memory.)X
1794(Section)X
2065(5)X
2136(documents)X
2514(the)X
2643(XDR)X
2842(object)X
3068(and)X
3214(how)X
3382(to)X
3474(make)X
3678(new)X
3842(XDR)X
555 2636(streams)N
820(when)X
1014(they)X
1172(are)X
1291(required.)X
3 f
555 2828(4.8.1.)N
775(Standard)X
1114(I/O)X
1249(Streams)X
1 f
555 2952(DR)N
686(streams)X
951(can)X
1083(be)X
1179(interfaced)X
1521(to)X
1603(standard)X
1895(I/O)X
2022(using)X
2215(the)X
2 f
2333(xdrstdio_create)X
1 f
2863(routine)X
3110(as)X
3197(follows:)X
0 f
843 3096(#include)N
1275(<stdio.h>)X
843 3192(#include)N
1275(<rpc/rpc.h>)X
1995(/*)X
2 f
2139(xdr)X
2266(streams)X
2535(part)X
2688(of)X
2770(rpc)X
0 f
2925(*/)X
843 3336(void)N
843 3432(xdrstdio_create\(xdrs,)N
1899(fp,)X
2091(x_op\))X
1035 3528(XDR)N
1227(*xdrs;)X
1035 3624(FILE)N
1275(*fp;)X
1035 3720(enum)N
1275(xdr_op)X
1611(x_op;)X
1 f
555 3864(The)N
708(routine)X
2 f
963(xdrstdio_create)X
1 f
1501(initializes)X
1840(an)X
1944(XDR)X
2141(stream)X
2383(pointed)X
2651(to)X
2741(by)X
2 f
2848(xdrs)X
1 f
3020(The)X
3172(XDR)X
3368(stream)X
3609(interfaces)X
3949(to)X
555 3960(the)N
673(standard)X
965(I/O)X
1092(library.)X
1366(Parameter)X
2 f
1712(fp)X
1 f
1801(is)X
1874(an)X
1970(open)X
2146(file,)X
2293(and)X
2 f
2429(x_op)X
1 f
2612(is)X
2685(an)X
2781(XDR)X
2970(direction.)X
3 f
555 4152(4.8.2.)N
775(Memory)X
1090(Streams)X
1 f
555 4276(Memory)N
851(streams)X
1116(allow)X
1314(the)X
1432(streaming)X
1768(of)X
1855(data)X
2009(into)X
2153(or)X
2240(out)X
2362(of)X
2449(a)X
2505(specified)X
2815(area)X
2970(of)X
3057(memory:)X
0 f
843 4420(#include)N
1275(<rpc/rpc.h>)X
843 4564(void)N
843 4660(xdrmem_create\(xdrs,)N
1803(addr,)X
2091(len,)X
2331(x_op\))X
1035 4756(XDR)N
1227(*xdrs;)X
1035 4852(char)N
1275(*addr;)X
1035 4948(u_int)N
1323(len;)X
1035 5044(enum)N
1275(xdr_op)X
1611(x_op;)X
1 f
555 5188(The)N
712(routine)X
2 f
971(xdrmem_create)X
1 f
1510(initializes)X
1853(an)X
1961(XDR)X
2162(stream)X
2408(in)X
2502(local)X
2690(memory.)X
3029(The)X
3185(memory)X
3483(is)X
3567(pointed)X
3838(to)X
3931(by)X
555 5284(parameter)N
2 f
907(addr)X
1 f
1094(parameter)X
2 f
1445(len)X
1 f
1579(is)X
1661(the)X
1788(length)X
2017(in)X
2108(bytes)X
2306(of)X
2402(the)X
2529(memory.)X
2865(The)X
3019(parameters)X
2 f
3401(xdrs)X
1 f
3575(and)X
2 f
3720(x_op)X
1 f
3912(are)X
555 5380(identical)N
866(to)X
963(the)X
1096(corresponding)X
1590(parameters)X
1978(of)X
2 f
2080(xdrstdio_create)X
1 f
2625(Currently,)X
2987(the)X
3120(UDP/IP)X
3408(implementation)X
3944(of)X
555 5476(RPC)N
730(uses)X
2 f
893(xdrmem_create)X
1 f
1425(Complete)X
1761(call)X
1902(or)X
1994(result)X
2197(messages)X
2525(are)X
2649(built)X
2820(in)X
2907(memory)X
3199(before)X
3430(calling)X
3673(the)X
2 f
3795(sendto)X
1 f
555 5572(system)N
797(routine.)X

16 p
%%Page: 16 16
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(16)X
2343(-)X
3 f
555 672(4.8.3.)N
775(Record)X
1045(\(TCP/IP\))X
1381(Streams)X
1 f
555 796(A)N
643(record)X
879(stream)X
1123(is)X
1206(an)X
1312(XDR)X
1511(stream)X
1755(built)X
1931(on)X
2041(top)X
2173(of)X
2270(a)X
2336(record)X
2572(marking)X
2869(standard)X
3171(that)X
3320(is)X
3402(built)X
3577(on)X
3686(top)X
3817(of)X
3913(the)X
555 892(UNIX)N
776(file)X
903(or)X
990(4.2)X
1110(BSD)X
1285(connection)X
1657(interface.)X
0 f
843 1036(#include)N
1275(<rpc/rpc.h>)X
1995(/*)X
2 f
2139(xdr)X
2266(streams)X
2535(part)X
2688(of)X
2770(rpc)X
0 f
2925(*/)X
843 1180(xdrrec_create\(xdrs,)N
939 1276(sendsize,)N
1419(recvsize,)X
1899(iohandle,)X
2379(readproc,)X
2859(writeproc\))X
1035 1372(XDR)N
1227(*xdrs;)X
1035 1468(u_int)N
1323(sendsize,)X
1803(recvsize;)X
1035 1564(char)N
1275(*iohandle;)X
1035 1660(int)N
1227(\(*readproc\)\(\),)X
1947(\(*writeproc\)\(\);)X
1 f
555 1804(The)N
701(routine)X
2 f
949(xdrrec_create)X
1 f
1427(provides)X
1723(an)X
1819(XDR)X
2008(stream)X
2242(interface)X
2544(that)X
2684(allows)X
2913(for)X
3027(a)X
3083(bidirectional,)X
3528(arbitrarily)X
3869(long)X
555 1900(sequence)N
871(of)X
959(records.)X
1257(The)X
1403(contents)X
1691(of)X
1779(the)X
1898(records)X
2156(are)X
2276(meant)X
2493(to)X
2576(be)X
2673(data)X
2828(in)X
2911(XDR)X
3101(form.)X
3318(The)X
3464(stream's)X
3757(primary)X
555 1996(use)N
686(is)X
763(for)X
881(interfacing)X
1253(RPC)X
1427(to)X
1513(TCP)X
1683(connections.)X
2130(However,)X
2469(it)X
2537(can)X
2673(be)X
2773(used)X
2944(to)X
3030(stream)X
3268(data)X
3425(into)X
3572(or)X
3662(out)X
3787(of)X
3877(nor-)X
555 2092(mal)N
695(UNIX)X
916(files.)X
555 2216(The)N
708(parameter)X
2 f
1058(xdrs)X
1 f
1231(is)X
1312(similar)X
1561(to)X
1650(the)X
1775(corresponding)X
2261(parameter)X
2610(described)X
2945(above.)X
3204(The)X
3356(stream)X
3597(does)X
3771(its)X
3873(own)X
555 2312(data)N
714(buffering)X
1038(similar)X
1285(to)X
1372(that)X
1517(of)X
1609(standard)X
1906(I/O.)X
2078(The)X
2228(parameters)X
2 f
2605(sendsize)X
1 f
2903(and)X
2 f
3043(recvsize)X
1 f
3333(determine)X
3678(the)X
3800(size)X
3949(in)X
555 2408(bytes)N
748(of)X
839(the)X
961(output)X
1188(and)X
1327(input)X
1514(buffers,)X
1785(respectively;)X
2218(if)X
2290(their)X
2460(values)X
2688(are)X
2810(zero)X
2972(\(0\),)X
3109(then)X
3270(predetermined)X
3757(defaults)X
555 2504(are)N
678(used.)X
889(When)X
1105(a)X
1165(buffer)X
1386(needs)X
1593(to)X
1679(be)X
1779(filled)X
1972(or)X
2062(flushed,)X
2341(the)X
2462(routine)X
2 f
2712(readproc)X
1 f
3036(or)X
2 f
3126(writeproc)X
1 f
3467(is)X
3543(called,)X
3778(respec-)X
555 2600(tively.)N
808(The)X
964(usage)X
1178(and)X
1325(behavior)X
1637(of)X
1735(these)X
1931(routines)X
2220(are)X
2350(similar)X
2603(to)X
2696(the)X
2825(UNIX)X
3057(system)X
3310(calls)X
2 f
3488(read)X
1 f
3673(and)X
2 f
3820(write)X
1 f
3991(.)X
555 2696(However,)N
901(the)X
1030(first)X
1190(parameter)X
1543(to)X
1636(each)X
1815(of)X
1913(these)X
2109(routines)X
2398(is)X
2482(the)X
2610(opaque)X
2872(parameter)X
2 f
3224(iohandle)X
1 f
3541(The)X
3696(other)X
3891(two)X
555 2792(parameters)N
2 f
932(buf)X
1 f
1065(and)X
2 f
1205(nbytes)X
1 f
1441(and)X
1581(the)X
1703(results)X
1936(\(byte)X
2125(count\))X
2353(are)X
2475(identical)X
2774(to)X
2859(the)X
2980(system)X
3225(routines.)X
3546(If)X
2 f
3623(xxx)X
1 f
3761(is)X
2 f
3837(read-)X
555 2888(proc)N
1 f
729(or)X
2 f
816(writeproc)X
1 f
1154(then)X
1312(it)X
1376(has)X
1503(the)X
1621(following)X
1952(form:)X
2 f
843 3032(/*)N
863 3128(*)N
923(returns)X
1174(the)X
1292(actual)X
1512(number)X
1777(of)X
1859(bytes)X
2044(transferred.)X
863 3224(*)N
923(-1)X
1010(is)X
1083(an)X
1183(error)X
863 3320(*/)N
0 f
843 3416(int)N
843 3512(xxx\(iohandle,)N
1515(buf,)X
1755(len\))X
1035 3608(char)N
1275(*iohandle;)X
1035 3704(char)N
1275(*buf;)X
1035 3800(int)N
1227(nbytes;)X
1 f
555 3944(The)N
704(XDR)X
897(stream)X
1135(provides)X
1435(means)X
1664(for)X
1782(delimiting)X
2134(records)X
2395(in)X
2480(the)X
2601(byte)X
2762(stream.)X
3039(The)X
3187(implementation)X
3712(details)X
3944(of)X
555 4040(delimiting)N
918(records)X
1190(in)X
1287(a)X
1358(stream)X
1607(are)X
1741(discussed)X
2083(in)X
2179(appendix)X
2507(1.)X
2621(The)X
2780(primitives)X
3138(that)X
3292(are)X
3425(specific)X
3709(to)X
3805(record)X
555 4136(streams)N
820(are)X
939(as)X
1026(follows:)X
0 f
843 4280(bool_t)N
843 4376(xdrrec_endofrecord\(xdrs,)N
2043(flushnow\))X
1035 4472(XDR)N
1227(*xdrs;)X
1035 4568(bool_t)N
1371(flushnow;)X
843 4712(bool_t)N
843 4808(xdrrec_skiprecord\(xdrs\))N
1035 4904(XDR)N
1227(*xdrs;)X
843 5048(bool_t)N
843 5144(xdrrec_eof\(xdrs\))N
1035 5240(XDR)N
1227(*xdrs;)X
1 f
555 5384(The)N
703(routine)X
2 f
953(xdrrec_endofrecord)X
1 f
1625(causes)X
1858(the)X
1979(current)X
2229(outgoing)X
2535(data)X
2691(to)X
2775(be)X
2873(marked)X
3136(as)X
3225(a)X
3283(record.)X
3551(If)X
3627(the)X
3747(parame-)X
555 5480(ter)N
2 f
662(flushnow)X
1 f
979(is)X
2 f
1054(TRUE)X
1 f
1261(,)X
1303(then)X
1462(the)X
1581(stream's)X
2 f
1874(writeproc)X
1 f
2213(will)X
2358(be)X
2455(called;)X
2690(otherwise,)X
2 f
3043(writeproc)X
1 f
3382(will)X
3527(be)X
3624(called)X
3837(when)X
555 5576(the)N
673(output)X
897(buffer)X
1114(has)X
1241(been)X
1413(filled.)X
555 5700(The)N
702(routine)X
2 f
951(xdrrec_skiprecord)X
1 f
1573(causes)X
1805(an)X
1903(input)X
2089(stream's)X
2382(position)X
2660(to)X
2743(be)X
2840(moved)X
3079(past)X
3229(the)X
3348(current)X
3597(record)X
3824(boun-)X
555 5796(dary)N
718(and)X
854(onto)X
1016(the)X
1134(beginning)X
1474(of)X
1561(the)X
1679(next)X
1837(record)X
2063(in)X
2145(the)X
2263(stream.)X

17 p
%%Page: 17 17
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(17)X
2343(-)X
555 672(If)N
631(there)X
814(is)X
889(no)X
991(more)X
1178(data)X
1334(in)X
1418(the)X
1537(stream's)X
1830(input)X
2015(buffer,)X
2253(then)X
2412(the)X
2531(routine)X
2 f
2779(xdrrec_eof)X
1 f
3155(returns)X
2 f
3399(TRUE)X
1 f
3606(.)X
3667(That)X
3835(is)X
3909(not)X
555 768(to)N
637(say)X
764(that)X
904(there)X
1085(is)X
1158(no)X
1258(more)X
1443(data)X
1597(in)X
1679(the)X
1797(underlying)X
2164(file)X
2291(descriptor.)X
3 f
555 960(4.9.)N
715(XDR)X
909(Stream)X
1179(Implementation)X
1 f
555 1084(This)N
717(section)X
964(provides)X
1260(the)X
1378(abstract)X
1648(data)X
1802(types)X
1991(needed)X
2239(to)X
2321(implement)X
2683(new)X
2837(instances)X
3151(of)X
3238(XDR)X
3427(streams.)X
3 f
555 1276(4.9.1.)N
775(The)X
928(XDR)X
1122(Object)X
1 f
555 1400(The)N
700(following)X
1031(structure)X
1332(defines)X
1584(the)X
1702(interface)X
2004(to)X
2086(an)X
2182(XDR)X
2371(stream:)X
0 f
843 1544(enum)N
1083(xdr_op)X
1419({)X
1515(XDR_ENCODE=0,)X
2187(XDR_DECODE=1,)X
2859(XDR_FREE=2)X
3387(};)X
843 1688(typedef)N
1227(struct)X
1563({)X
1035 1784(enum)N
1275(xdr_op)X
1611(x_op;)X
2427(/*)X
2 f
2571(operation;)X
2929(fast)X
3064(added)X
3280(param)X
0 f
3537(*/)X
1035 1880(struct)N
1371(xdr_ops)X
1755({)X
1227 1976(bool_t)N
1611(\(*x_getlong\)\(\);)X
2427(/*)X
2 f
2571(get)X
2689(long)X
2851(from)X
3022(stream)X
0 f
3288(*/)X
1227 2072(bool_t)N
1611(\(*x_putlong\)\(\);)X
2427(/*)X
2 f
2571(put)X
2693(long)X
2855(to)X
2937(stream)X
0 f
3203(*/)X
1227 2168(bool_t)N
1611(\(*x_getbytes\)\(\);)X
2427(/*)X
2 f
2571(get)X
2689(bytes)X
2874(from)X
3045(stream)X
0 f
3311(*/)X
1227 2264(bool_t)N
1611(\(*x_putbytes\)\(\);)X
2427(/*)X
2 f
2571(put)X
2693(bytes)X
2878(to)X
2960(stream)X
0 f
3226(*/)X
1227 2360(u_int)N
1611(\(*x_getpostn\)\(\);)X
2427(/*)X
2 f
2571(return)X
2791(stream)X
3029(offset)X
0 f
3250(*/)X
1227 2456(bool_t)N
1611(\(*x_setpostn\)\(\);)X
2427(/*)X
2 f
2571(reposition)X
2915(offset)X
0 f
3136(*/)X
1227 2552(caddr_t)N
1611(\(*x_inline\)\(\);)X
2427(/*)X
2 f
2571(ptr)X
2684(to)X
2766(buffered)X
3053(data)X
0 f
3243(*/)X
1227 2648(VOID)N
1611(\(*x_destroy\)\(\);)X
2427(/*)X
2 f
2571(free)X
2716(private)X
2963(area)X
0 f
3158(*/)X
1035 2744(})N
1131(*x_ops;)X
1035 2840(caddr_t)N
1611(x_public;)X
2427(/*)X
2 f
2571(users')X
2787(data)X
0 f
2977(*/)X
1035 2936(caddr_t)N
1611(x_private;)X
2427(/*)X
2 f
2571(pointer)X
2822(to)X
2904(private)X
3151(data)X
0 f
3341(*/)X
1035 3032(caddr_t)N
1611(x_base;)X
2427(/*)X
2 f
2571(private)X
2818(for)X
2931(position)X
3208(info)X
0 f
3380(*/)X
1035 3128(int)N
1611(x_handy;)X
2427(/*)X
2 f
2571(extra)X
2756(private)X
3003(word)X
0 f
3215(*/)X
843 3224(})N
939(XDR;)X
1 f
555 3368(The)N
2 f
703(x_op)X
1 f
889(field)X
1059(is)X
1135(the)X
1256(current)X
1507(operation)X
1833(being)X
2034(performed)X
2392(on)X
2495(the)X
2616(stream.)X
2893(This)X
3058(field)X
3228(is)X
3304(important)X
3638(to)X
3722(the)X
3842(XDR)X
555 3464(primitives,)N
922(but)X
1047(should)X
1283(not)X
1408(affect)X
1615(a)X
1674(stream's)X
1969(implementation.)X
2534(That)X
2703(is,)X
2798(a)X
2856(stream's)X
3150(implementation)X
3674(should)X
3909(not)X
555 3560(depend)N
822(on)X
937(this)X
1087(value.)X
1336(The)X
1496(fields)X
2 f
1708(x_private)X
2052(x_base)X
1 f
2316(and)X
2 f
2466(x_handy)X
1 f
2779(are)X
2912(private)X
3169(to)X
3265(the)X
3397(particular)X
3739(stream's)X
555 3656(implementation.)N
1125(The)X
1278(field)X
2 f
1453(x_public)X
1 f
1764(is)X
1845(for)X
1967(the)X
2093(XDR)X
2290(client)X
2496(and)X
2640(should)X
2881(never)X
3088(be)X
3192(used)X
3367(by)X
3475(the)X
3601(XDR)X
3797(stream)X
555 3752(implementations)N
1108(or)X
1195(the)X
1313(XDR)X
1502(primitives.)X
555 3876(Macros)N
824(for)X
946(accessing)X
1302(operations)X
2 f
1664(x_getpostn)X
2046(x_setpostn)X
1 f
2419(and)X
2 f
2563(x_destroy)X
1 f
2910(were)X
3095(defined)X
3363(in)X
3452(Section)X
3719(3.6.)X
3886(The)X
555 3972(operation)N
2 f
884(x_inline)X
1 f
1175(takes)X
1366(two)X
1512(parameters:)X
1913(an)X
2015(XDR)X
2210(*,)X
2296(and)X
2437(an)X
2538(unsigned)X
2852(integer,)X
3120(which)X
3341(is)X
3419(a)X
3480(byte)X
3643(count.)X
3886(The)X
555 4068(routine)N
807(returns)X
1055(a)X
1116(pointer)X
1368(to)X
1455(a)X
1516(piece)X
1711(of)X
1803(the)X
1926(stream's)X
2223(internal)X
2492(buffer.)X
2753(The)X
2902(caller)X
3105(can)X
3241(then)X
3403(use)X
3534(the)X
3656(buffer)X
3877(seg-)X
555 4164(ment)N
743(for)X
865(any)X
1009(purpose.)X
1331(From)X
1532(the)X
1658(stream's)X
1958(point)X
2150(of)X
2245(view,)X
2449(the)X
2575(bytes)X
2772(in)X
2862(the)X
2988(buffer)X
3213(segment)X
3508(have)X
3688(been)X
3868(con-)X
555 4260(sumed)N
794(or)X
891(put.)X
1063(The)X
1218(routine)X
1475(may)X
1643(return)X
2 f
1865(NULL)X
1 f
2101(if)X
2180(it)X
2254(cannot)X
2498(return)X
2719(a)X
2784(buffer)X
3010(segment)X
3306(of)X
3402(the)X
3529(requested)X
3866(size.)X
555 4356(\(The)N
2 f
737(x_inline)X
1 f
1032(routine)X
1289(is)X
1372(for)X
1496(cycle)X
1696(squeezers.)X
2079(Use)X
2234(of)X
2331(the)X
2459(resulting)X
2768(buffer)X
2994(is)X
3076(not)X
3207(data-portable.)X
3700(Users)X
3912(are)X
555 4452(encouraged)N
946(not)X
1068(to)X
1150(use)X
1277(this)X
1412(feature.\))X
555 4576(The)N
702(operations)X
2 f
1058(x_getbytes)X
1 f
1426(and)X
2 f
1564(x_putbytes)X
1 f
1936(blindly)X
2184(get)X
2304(and)X
2442(put)X
2566(sequences)X
2914(of)X
3003(bytes)X
3194(from)X
3372(or)X
3461(to)X
3545(the)X
3664(underlying)X
555 4672(stream;)N
812(they)X
971(return)X
2 f
1183(TRUE)X
1 f
1410(if)X
1479(they)X
1637(are)X
1756(successful,)X
2126(and)X
2 f
2262(FALSE)X
1 f
2520(otherwise.)X
2892(The)X
3037(routines)X
3315(have)X
3487(identical)X
3783(param-)X
555 4768(eters)N
727(\(replace)X
2 f
1007(xxx)X
1 f
1122(\):)X
0 f
843 4912(bool_t)N
843 5008(xxxbytes\(xdrs,)N
1563(buf,)X
1803(bytecount\))X
1131 5104(XDR)N
1323(*xdrs;)X
1131 5200(char)N
1371(*buf;)X
1131 5296(u_int)N
1419(bytecount;)X
1 f
555 5440(The)N
706(operations)X
2 f
1066(x_getlong)X
1 f
1415(and)X
2 f
1557(x_putlong)X
1 f
1910(receive)X
2169(and)X
2311(put)X
2439(long)X
2607(numbers)X
2909(from)X
3091(and)X
3233(to)X
3321(the)X
3445(data)X
3605(stream.)X
3884(It)X
3958(is)X
555 5536(the)N
683(responsibility)X
1148(of)X
1245(these)X
1440(routines)X
1728(to)X
1820(translate)X
2122(the)X
2250(numbers)X
2556(between)X
2854(the)X
2982(machine)X
3284(representation)X
3768(and)X
3913(the)X
555 5632(\(standard\))N
906(external)X
1190(representation.)X
1710(The)X
1860(UNIX)X
2086(primitives)X
2 f
2435(htonl)X
1 f
2631(and)X
2 f
2772(ntohl)X
1 f
2968(can)X
3105(be)X
3206(helpful)X
3458(in)X
3544(accomplishing)X
555 5728(this.)N
744(Section)X
1017(6)X
1090(defines)X
1355(the)X
1486(standard)X
1791(representation)X
2279(of)X
2379(numbers.)X
2728(The)X
2886(higher-level)X
3307(XDR)X
3509(implementation)X
555 5824(assumes)N
855(that)X
1008(signed)X
1250(and)X
1399(unsigned)X
1721(long)X
1895(integers)X
2181(contain)X
2449(the)X
2579(same)X
2776(number)X
3053(of)X
3152(bits,)X
3319(and)X
3467(that)X
3619(nonnegative)X

18 p
%%Page: 18 18
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(18)X
2343(-)X
555 672(integers)N
831(have)X
1005(the)X
1125(same)X
1312(bit)X
1418(representations)X
1926(as)X
2015(unsigned)X
2326(integers.)X
2641(The)X
2787(routines)X
3066(return)X
2 f
3279(TRUE)X
1 f
3507(if)X
3577(they)X
3736(succeed,)X
555 768(and)N
2 f
691(FALSE)X
1 f
949(otherwise.)X
1321(They)X
1506(have)X
1678(identical)X
1974(parameters:)X
0 f
843 912(bool_t)N
843 1008(xxxlong\(xdrs,)N
1515(lp\))X
1131 1104(XDR)N
1323(*xdrs;)X
1131 1200(long)N
1371(*lp;)X
1 f
555 1344(Implementors)N
1026(of)X
1119(new)X
1279(XDR)X
1474(streams)X
1745(must)X
1926(make)X
2126(an)X
2228(XDR)X
2423(structure)X
2730(\(with)X
2924(new)X
3083(operation)X
3411(routines\))X
3721(available)X
555 1440(to)N
637(clients,)X
886(using)X
1079(some)X
1268(kind)X
1430(of)X
1517(create)X
1730(routine.)X
3 f
555 1632(5.)N
655(Advanced)X
1017(Topics)X
1 f
555 1756(This)N
720(section)X
970(describes)X
1292(techniques)X
1658(for)X
1774(passing)X
2036(data)X
2192(structures)X
2526(that)X
2668(are)X
2789(not)X
2913(covered)X
3190(in)X
3274(the)X
3394(preceding)X
3733(sections.)X
555 1852(Such)N
739(structures)X
1075(include)X
1335(linked)X
1559(lists)X
1711(\(of)X
1829(arbitrary)X
2129(lengths\).)X
2450(Unlike)X
2691(the)X
2812(simpler)X
3075(examples)X
3401(covered)X
3679(in)X
3764(the)X
3885(ear-)X
555 1948(lier)N
687(sections,)X
989(the)X
1111(following)X
1446(examples)X
1773(are)X
1896(written)X
2147(using)X
2344(both)X
2510(the)X
2632(XDR)X
2825(C)X
2902(library)X
3140(routines)X
3422(and)X
3562(the)X
3684(XDR)X
3877(data)X
555 2044(description)N
941(language.)X
1301(The)X
2 f
1456(eXternal)X
1762(Data)X
1951(Representation)X
2465(Standard)X
1 f
2787(chapter)X
3053(of)X
3149(this)X
2 f
3293(Networking)X
3695(Program-)X
555 2140(ming)N
1 f
742(manual)X
998(describes)X
1317(this)X
1452(language)X
1762(in)X
1844(complete)X
2158(detail.)X
3 f
555 2332(5.1.)N
715(Linked)X
978(Lists)X
1 f
555 2456(The)N
703(last)X
837(example)X
1132(in)X
1217(the)X
2 f
1337(Pointers)X
1 f
1630(section)X
1879(presented)X
2209(a)X
2267(C)X
2342(data)X
2498(structure)X
2801(and)X
2939(its)X
3036(associated)X
3388(XDR)X
3579(routines)X
3859(for)X
3975(a)X
555 2552(individual's)N
957(gross)X
1146(assets)X
1353(and)X
1489(liabilities.)X
1826(The)X
1971(example)X
2263(is)X
2336(duplicated)X
2690(below:)X
0 f
843 2696(struct)N
1179(gnumbers)X
1611({)X
1131 2792(long)N
1371(g_assets;)X
1131 2888(long)N
1371(g_liabilities;)X
843 2984(};)N
843 3128(bool_t)N
843 3224(xdr_gnumbers\(xdrs,)N
1755(gp\))X
1131 3320(XDR)N
1323(*xdrs;)X
1131 3416(struct)N
1467(gnumbers)X
1899(*gp;)X
843 3512({)N
1131 3608(if)N
1275(\(xdr_long\(xdrs,)X
2043(&\(gp->g_assets\)\)\))X
1419 3704(return\(xdr_long\(xdrs,)N
2475(&\(gp->g_liabilities\)\)\);)X
1131 3800(return\(FALSE\);)N
843 3896(})N
1 f
555 4068(Now)N
738(assume)X
1001(that)X
1148(we)X
1269(wish)X
1447(to)X
1536(implement)X
1905(a)X
1968(linked)X
2195(list)X
2319(of)X
2413(such)X
2587(information.)X
3011(A)X
3095(data)X
3255(structure)X
3562(could)X
3766(be)X
3868(con-)X
555 4164(structed)N
829(as)X
916(follows:)X
0 f
843 4308(struct)N
1179(gnumbers_node)X
1851({)X
1131 4404(struct)N
1467(gnumbers)X
1899(gn_numbers;)X
1131 4500(struct)N
1467(gnumbers_node)X
2139(*gn_next;)X
843 4596(};)N
843 4740(typedef)N
1227(struct)X
1563(gnumbers_node)X
2235(*gnumbers_list;)X
1 f
555 4912(The)N
703(head)X
878(of)X
968(the)X
1089(linked)X
1312(list)X
1432(can)X
1567(be)X
1666(thought)X
1932(of)X
2021(as)X
2110(the)X
2230(data)X
2386(object;)X
2626(that)X
2768(is,)X
2863(the)X
2983(head)X
3157(is)X
3232(not)X
3356(merely)X
3601(a)X
3659(convenient)X
555 5008(shorthand)N
895(for)X
1013(a)X
1073(structure.)X
1418(Similarly)X
1739(the)X
2 f
1861(gn_next)X
1 f
2146(field)X
2317(is)X
2394(used)X
2565(to)X
2651(indicate)X
2929(whether)X
3212(or)X
3303(not)X
3429(the)X
3550(object)X
3769(has)X
3899(ter-)X
555 5104(minated.)N
857(Unfortunately,)X
1351(if)X
1424(the)X
1546(object)X
1766(continues,)X
2117(the)X
2 f
2239(gn_next)X
1 f
2524(field)X
2694(is)X
2770(also)X
2922(the)X
3043(address)X
3307(of)X
3397(where)X
3617(it)X
3684(continues.)X
555 5200(The)N
701(link)X
846(addresses)X
1175(carry)X
1362(no)X
1463(useful)X
1680(information)X
2079(when)X
2274(the)X
2393(object)X
2610(is)X
2684(serialized.)X
3053(LP)X
3167(The)X
3312(XDR)X
3501(data)X
3655(description)X
555 5296(of)N
642(this)X
777(linked)X
997(list)X
1114(is)X
1187(described)X
1515(by)X
1615(the)X
1733(recursive)X
2048(declaration)X
2425(of)X
2 f
2512(gnumbers_list)X
1 f
2972(:)X

19 p
%%Page: 19 19
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(19)X
2343(-)X
0 f
843 720(struct)N
1179(gnumbers)X
1611({)X
1131 816(int)N
1323(g_assets;)X
1131 912(int)N
1323(g_liabilities;)X
843 1008(};)N
843 1152(struct)N
1179(gnumbers_node)X
1851({)X
1131 1248(gnumbers)N
1563(gn_numbers;)X
1131 1344(gnumbers_list)N
1803(gn_next;)X
843 1440(};)N
843 1584(union)N
1131(gnumbers_list)X
1803(switch)X
2139(\(bool)X
2427(more_data\))X
2955({)X
843 1680(case)N
1083(TRUE:)X
1131 1776(gnumbers_node)N
1803(node;)X
843 1872(case)N
1083(FALSE:)X
1131 1968(void;)N
843 2064(};)N
1 f
555 2236(In)N
646(this)X
785(description,)X
1185(the)X
1307(boolean)X
1585(indicates)X
1894(whether)X
2176(there)X
2360(is)X
2436(more)X
2624(data)X
2781(following)X
3115(it.)X
3202(If)X
3279(the)X
3400(boolean)X
3677(is)X
2 f
3753(FALSE)X
1 f
3991(,)X
555 2332(then)N
718(it)X
787(is)X
865(the)X
988(last)X
1124(data)X
1283(field)X
1455(of)X
1547(the)X
1670(structure.)X
1996(If)X
2074(it)X
2142(is)X
2 f
2219(TRUE)X
1 f
2426(,)X
2470(then)X
2632(it)X
2700(is)X
2777(followed)X
3086(by)X
3190(a)X
3250(gnumbers)X
3590(structure)X
3895(and)X
555 2428(\(recursively\))N
1001(by)X
1116(a)X
2 f
1187(gnumbers_list)X
1 f
1647(.)X
1722(Note)X
1913(that)X
2068(the)X
2201(C)X
2289(declaration)X
2681(has)X
2823(no)X
2938(boolean)X
3227(explicitly)X
3564(declared)X
3871(in)X
3967(it)X
555 2524(\(though)N
825(the)X
2 f
944(gn_next)X
1 f
1226(field)X
1394(implicitly)X
1724(carries)X
1959(the)X
2077(information\),)X
2522(while)X
2720(the)X
2838(XDR)X
3027(data)X
3181(description)X
3557(has)X
3684(no)X
3784(pointer)X
555 2620(explicitly)N
877(declared)X
1170(in)X
1252(it.)X
555 2744(Hints)N
759(for)X
884(writing)X
1146(the)X
1275(XDR)X
1475(routines)X
1764(for)X
1888(a)X
2 f
1954(gnumbers_list)X
1 f
2444(follow)X
2683(easily)X
2900(from)X
3086(the)X
3214(XDR)X
3413(description)X
3799(above.)X
555 2840(Note)N
731(how)X
889(the)X
1007(primitive)X
2 f
1320(xdr_pointer)X
1 f
1725(is)X
1798(used)X
1965(to)X
2047(implement)X
2409(the)X
2527(XDR)X
2716(union)X
2918(above.)X
0 f
843 2984(bool_t)N
843 3080(xdr_gnumbers_node\(xdrs,)N
1995(gn\))X
1131 3176(XDR)N
1323(*xdrs;)X
1131 3272(gnumbers_node)N
1803(*gn;)X
843 3368({)N
1131 3464(return\(xdr_gnumbers\(xdrs,)N
2379(&gn->gn_numbers\))X
3195(&&)X
1419 3560(xdr_gnumbers_list\(xdrs,)N
2571(&gp->gn_next\)\);)X
843 3656(})N
843 3800(bool_t)N
843 3896(xdr_gnumbers_list\(xdrs,)N
1995(gnp\))X
1131 3992(XDR)N
1323(*xdrs;)X
1131 4088(gnumbers_list)N
1803(*gnp;)X
843 4184({)N
1131 4280(return\(xdr_pointer\(xdrs,)N
2331(gnp,)X
1419 4376(sizeof\(struct)N
2091(gnumbers_node\),)X
1419 4472(xdr_gnumbers_node\)\);)N
843 4568(})N
1 f
555 4740(The)N
709(unfortunate)X
1108(side)X
1266(effect)X
1479(of)X
1575(XDR'ing)X
1902(a)X
1967(list)X
2093(with)X
2264(these)X
2457(routines)X
2743(is)X
2824(that)X
2972(the)X
3098(C)X
3179(stack)X
3372(grows)X
3596(linearly)X
3869(with)X
555 4836(respect)N
808(to)X
895(the)X
1017(number)X
1286(of)X
1377(node)X
1557(in)X
1643(the)X
1765(list.)X
1926(This)X
2092(is)X
2169(due)X
2309(to)X
2395(the)X
2517(recursion.)X
2860(The)X
3009(following)X
3344(routine)X
3595(collapses)X
3913(the)X
555 4932(above)N
767(two)X
907(mutually)X
1211(recursive)X
1526(into)X
1670(a)X
1726(single,)X
1957(non-recursive)X
2419(one.)X

20 p
%%Page: 20 20
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(20)X
2343(-)X
0 f
843 720(bool_t)N
843 816(xdr_gnumbers_list\(xdrs,)N
1995(gnp\))X
1131 912(XDR)N
1323(*xdrs;)X
1131 1008(gnumbers_list)N
1803(*gnp;)X
843 1104({)N
1131 1200(bool_t)N
1467(more_data;)X
1131 1296(gnumbers_list)N
1803(*nextp;)X
1131 1440(for)N
1323(\(;;\))X
1563({)X
1419 1536(more_data)N
1899(=)X
1995(\(*gnp)X
2283(!=)X
2427(NULL\);)X
1419 1632(if)N
1563(\(!xdr_bool\(xdrs,)X
2379(&more_data\)\))X
3003({)X
1707 1728(return\(FALSE\);)N
1419 1824(})N
1419 1920(if)N
1563(\(!)X
1707(more_data\))X
2235({)X
1707 2016(break;)N
1419 2112(})N
1419 2208(if)N
1563(\(xdrs->x_op)X
2139(==)X
2283(XDR_FREE\))X
2763({)X
1707 2304(nextp)N
1995(=)X
2091(&\(*gnp\)->gn_next;)X
1419 2400(})N
1419 2496(if)N
1563(\(!xdr_reference\(xdrs,)X
2619(gnp,)X
1707 2592(sizeof\(struct)N
2379(gnumbers_node\),)X
3147(xdr_gnumbers\)\))X
3867({)X
1419 2784(return\(FALSE\);)N
1419 2880(})N
1419 2976(gnp)N
1611(=)X
1707(\(xdrs->x_op)X
2283(==)X
2427(XDR_FREE\))X
2907(?)X
1707 3072(nextp)N
1995(:)X
2091(&\(*gnp\)->gn_next;)X
1131 3168(})N
1131 3264(*gnp)N
1371(=)X
1467(NULL;)X
1131 3360(return\(TRUE\);)N
843 3456(})N
1 f
555 3628(The)N
701(first)X
851(task)X
1001(is)X
1075(to)X
1158(find)X
1308(out)X
1431(whether)X
1711(there)X
1893(is)X
1967(more)X
2153(data)X
2308(or)X
2396(not,)X
2539(so)X
2631(that)X
2772(this)X
2908(boolean)X
3183(information)X
3582(can)X
3714(be)X
3810(serial-)X
555 3724(ized.)N
732(Notice)X
969(that)X
1112(this)X
1250(statement)X
1580(is)X
1655(unnecessary)X
2070(in)X
2154(the)X
2 f
2274(XDR_DECODE)X
1 f
2824(case,)X
3005(since)X
3192(the)X
3312(value)X
3508(of)X
3597(more_data)X
3958(is)X
555 3820(not)N
677(known)X
915(until)X
1081(we)X
1195(deserialize)X
1559(it)X
1623(in)X
1705(the)X
1823(next)X
1981(statement.)X
555 3944(The)N
705(next)X
868(statement)X
1200(XDR's)X
1452(the)X
1575(more_data)X
1939(field)X
2111(of)X
2203(the)X
2326(XDR)X
2520(union.)X
2747(Then)X
2936(if)X
3009(there)X
3194(is)X
3271(truly)X
3446(no)X
3550(more)X
3739(data,)X
3917(we)X
555 4040(set)N
671(this)X
813(last)X
951(pointer)X
1205(to)X
2 f
1294(NULL)X
1 f
1527(to)X
1616(indicate)X
1897(the)X
2022(end)X
2165(of)X
2259(the)X
2384(list,)X
2528(and)X
2671(return)X
2 f
2890(TRUE)X
1 f
3124(because)X
3406(we)X
3527(are)X
3653(done.)X
3855(Note)X
555 4136(that)N
698(setting)X
934(the)X
1055(pointer)X
1305(to)X
2 f
1390(NULL)X
1 f
1619(is)X
1695(only)X
1860(important)X
2194(in)X
2279(the)X
2 f
2400(XDR_DECODE)X
1 f
2951(case,)X
3133(since)X
3321(it)X
3387(is)X
3462(already)X
2 f
3721(NULL)X
1 f
3949(in)X
555 4232(the)N
2 f
673(XDR_ENCODE)X
1 f
1216(and)X
1352(DR_FREE)X
1718(cases.)X
555 4356(Next,)N
754(if)X
826(the)X
947(direction)X
1255(is)X
2 f
1331(XDR_FREE)X
1 f
1730(,)X
1773(the)X
1894(value)X
2091(of)X
2 f
2181(nextp)X
1 f
2385(is)X
2460(set)X
2571(to)X
2655(indicate)X
2931(the)X
3051(location)X
3331(of)X
3420(the)X
3540(next)X
3700(pointer)X
3949(in)X
555 4452(the)N
675(list.)X
814(We)X
948(do)X
1050(this)X
1187(now)X
1346(because)X
1622(we)X
1737(need)X
1910(to)X
1993 0.4125(dereference)AX
2391(gnp)X
2532(to)X
2615(find)X
2765(the)X
2884(location)X
3163(of)X
3251(the)X
3370(next)X
3529(item)X
3692(in)X
3775(the)X
3894(list,)X
555 4548(and)N
696(after)X
869(the)X
992(next)X
1155(statement)X
1486(the)X
1608(pointer)X
2 f
1859(gnp)X
1 f
2010(will)X
2158(be)X
2258(freed)X
2448(up)X
2552(and)X
2692(no)X
2796(longer)X
3025(valid.)X
3249(We)X
3385(can't)X
3570(do)X
3674(this)X
3813(for)X
3931(all)X
555 4644(directions)N
901(though,)X
1173(because)X
1458(in)X
1550(the)X
2 f
1678(XDR_DECODE)X
1 f
2236(direction)X
2550(the)X
2677(value)X
2880(of)X
2 f
2976(gnp)X
1 f
3132(won't)X
3348(be)X
3453(set)X
3571(until)X
3746(the)X
3873(next)X
555 4740(statement.)N
555 4864(Next,)N
758(we)X
878(XDR)X
1073(the)X
1197(data)X
1357(in)X
1445(the)X
1569(node)X
1751(using)X
1950(the)X
2074(primitive)X
2 f
2393(xdr_reference)X
1 f
2851(.)X
2 f
2917(xdr_reference)X
1 f
3401(is)X
3480(like)X
2 f
3626(xdr_pointer)X
1 f
555 4960(which)N
774(we)X
891(used)X
1061(before,)X
1310(but)X
1435(it)X
1502(does)X
1672(not)X
1796(send)X
1965(over)X
2130(the)X
2250(boolean)X
2526(indicating)X
2868(whether)X
3149(there)X
3332(is)X
3407(more)X
3594(data.)X
3770(We)X
3904(use)X
555 5056(it)N
626(instead)X
880(of)X
2 f
974(xdr_pointer)X
1 f
1386(because)X
1668(we)X
1789(have)X
1968(already)X
2232(XDR'd)X
2495(this)X
2637(information)X
3042(ourselves.)X
3392(Notice)X
3633(that)X
3780(the)X
3904(xdr)X
555 5152(routine)N
815(passed)X
1062(is)X
1148(not)X
1283(the)X
1414(same)X
1612(type)X
1782(as)X
1881(an)X
1989(element)X
2275(in)X
2369(the)X
2499(list.)X
2648(The)X
2805(routine)X
3064(passed)X
3310(is)X
2 f
3395(xdr_gnumbers)X
1 f
3865(,)X
3917(for)X
555 5248(XDR'ing)N
892(gnumbers,)X
1266(but)X
1406(each)X
1592(element)X
1884(in)X
1984(the)X
2120(list)X
2255(is)X
2346(actually)X
2638(of)X
2743(type)X
2 f
2919(gnumbers_node)X
1 f
3438(.)X
3516(We)X
3666(don't)X
3873(pass)X
2 f
555 5344(xdr_gnumbers_node)N
1 f
1249(because)X
1532(it)X
1604(is)X
1685(recursive,)X
2028(and)X
2172(instead)X
2427(use)X
2 f
2562(xdr_gnumbers)X
1 f
3060(which)X
3284(XDR's)X
3538(all)X
3645(of)X
3739(the)X
3864(non-)X
555 5440(recursive)N
873(part.)X
1061(Note)X
1240(that)X
1383(this)X
1521(trick)X
1691(will)X
1837(work)X
2024(only)X
2188(if)X
2259(the)X
2 f
2379(gn_numbers)X
1 f
2804(field)X
2973(is)X
3048(the)X
3168(first)X
3319(item)X
3483(in)X
3567(each)X
3737(element,)X
555 5536(so)N
646(that)X
786(their)X
953(addresses)X
1281(are)X
1400(identical)X
1696(when)X
1890(passed)X
2124(to)X
2 f
2206(xdr_reference)X
1 f
2664(.)X
555 5660(Finally,)N
826(we)X
945(update)X
2 f
1184(gnp)X
1 f
1336(to)X
1423(point)X
1612(to)X
1699(the)X
1822(next)X
1984(item)X
2150(in)X
2236(the)X
2358(list.)X
2499(If)X
2577(the)X
2699(direction)X
3008(is)X
2 f
3085(XDR_FREE)X
1 f
3484(,)X
3528(we)X
3646(set)X
3759(it)X
3827(to)X
3913(the)X
555 5756(previously)N
928(saved)X
1146(value,)X
1375(otherwise)X
1722(we)X
1851(can)X
1998 0.4125(dereference)AX
2 f
2410(gnp)X
1 f
2572(to)X
2669(get)X
2802(the)X
2934(proper)X
3178(value.)X
3426(Though)X
3709(harder)X
3949(to)X
555 5852(understand)N
929(than)X
1089(the)X
1209(recursive)X
1526(version,)X
1804(this)X
1941(non-recursive)X
2405(routine)X
2653(will)X
2798(never)X
2998(cause)X
3198(the)X
3317(C)X
3391(stack)X
3577(to)X
3660(blow)X
3841(up.)X
3962(It)X

21 p
%%Page: 21 21
0(Courier)xf 0 f
10 s 0 xH 0 xS 0 f
1 f
0 32(--)N
4323(--)X
2196 416(-)N
2243(21)X
2343(-)X
555 672(will)N
701(also)X
852(run)X
981(more)X
1168(efficiently)X
1520(since)X
1707(a)X
1765(lot)X
1871(of)X
1960(procedure)X
2304(call)X
2442(overhead)X
2759(has)X
2888(been)X
3062(removed.)X
3384(Most)X
3569(lists)X
3718(are)X
3838(small)X
555 768(though)N
797(\(in)X
906(the)X
1024(hundreds)X
1338(of)X
1425(items)X
1618(or)X
1705(less\))X
1872(and)X
2008(the)X
2126(recursive)X
2441(version)X
2697(should)X
2930(be)X
3026(sufficient)X
3349(for)X
3463(them.)X
0 6360(--)N
4323(--)X

21 p
%%Trailer
xt

xs
