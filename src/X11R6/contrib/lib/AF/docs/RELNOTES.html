<HTML>
<HEAD>
<TITLE>AF Version 3 Release 1 Release Notes</TITLE>
<IMG SRC="digital.gif">
<P>
<H1>AF Release Notes and Installation Instructions</H1>
<P>
<I>Please read this thoroughly before installing AF for the first time.</I>
<HR>
</HEAD>
<BODY>
  
  This is the table of contents for the release notes and installation 
  instructions for AF3R1.<P>
  
<OL>
<LI><A HREF="#Abstract">Abstract</A>
<LI><A HREF="#Introduction">Introduction</A>
<LI><A HREF="#New">What is new in this Release?</A>
<LI><A HREF="#Installation">Installation Overview</A>
<LI><A HREF="#Building">Building and Installing the Release</A>
<LI><A HREF="#Testing">Testing the Release</A>
<LI><A HREF="#Contrib">Contrib</A>
<LI><A HREF="#Device">Device Driver Information</A>
<LI><A HREF="#DSP">DSP Port Devices</A>
<LI><A HREF="#Errata">Errata for this Release</A>
<LI><A HREF="#Future">Future Work</A>
<LI><A HREF="#Acknowledgements">Acknowledgements</A>
<LI><A HREF="#Mailing">Mailing Lists</A>
<LI><A HREF="#ProductInformation">Related Product Information</A>
<LI><A HREF="#Summary">Summary</A>
</OL>
  
<H1><A NAME="Abstract">Abstract</A></H1>
  
  The AudioFile (AF) System is a network-transparent audio server and 
  client library originally developed for supporting LoFi audio hardware at 
  Digital Equipment Corporation's Cambridge Research Laboratory. The AF 
  distribution contains source code for audio servers, clients, and client 
  library that support several audio devices and platforms.
  
<H1><A NAME="Introduction">Introduction</A></H1>
  
  The AF System is a device-independent network-transparent audio server. 
  With AudioFile, multiple audio applications can run simultaneously, 
  sharing access to the actual audio hardware. <P>
  
  Network transparency means that application programs can run on machines 
  scattered throughout the network.  Because AF permits applications to be 
  device-independent, applications need not be rewritten to work with new 
  audio hardware. AF does for sound what the X Window System does for text 
  and graphics. <P>
  
  Development of AF began in 1989 at Digital Equipment Corporation's 
  Cambridge Research Laboratory, but it builds on ideas from earlier work. 
  We originally envisioned AF as a server to support all the capabilities 
  of the CRL <A 
  HREF="ftp://crl.dec.com/pub/DEC/CRL/tech-reports/93.9.ps.Z">LoFi</A> 
  audio hardware (LoFi became the product known as DECaudio) running on the 
  DECstation 5000 workstation, but we soon began adding support for a 
  variety of other platforms and audio hardware. <P>
  
  This distribution of AF includes device drivers for several audio 
  devices, server code for a number of platforms, a programming API and 
  library, out-of-the-box core applications, and a number of "contributed" 
  applications.  The key difference between the core and contributed 
  applications is that the many of the contrib clients also depend on the 
  Tcl/Tk graphics toolkits distributed by the University of California. The 
  Tcl/Tk FTP site is located at<A 
  HREF="file://ftp.cs.berkeley.edu/ucb/tcl"> 
  ftp.cs.berkeley.edu:ucb/tcl</A>.<P>
  
  With AF, it is easy to incorporate audio into applications. Simple "play" 
  and "record" applications are included, or you can write your own using 
  the AF API and client library.  AF allows applications to generate and 
  process audio in real-time but it also permits more leisurely 
  applications.  AF is quite resistant to the vaguaries of scheduling and 
  operating systems that can make handling audio difficult. We have 
  successfully used AF for both trivial applications (audio BIFF) and 
  complex applications (real-time teleconferencing, speech synthesis and 
  recognition.) AF may not be appropriate for all purposes, but we have 
  found it to be a versatile and effective tool. <P>
  
  We believe that AF is highly portable, and that it should be 
  straightforward to add additional support for other systems equipped with 
  audio hardware. <P>
  
  AF is distributed in source form, with a copyright allowing unrestricted 
  use similar to the terms in the X Window System copyright <A 
  HREF="../COPYRIGHTS">(see the Copyright notice included with the 
  kit.)</A> <P>
  
  We would like to encourage other organizations to add support to AF for 
  additional platforms, operating systems, and devices, and to contribute 
  additional applications. <P>

  Further information on AF is available in our <A 
  HREF="ftp://crl.dec.com/pub/DEC/AF/af-usenix93.ps">USENIX paper</A> and 
  in a <A HREF="ftp://crl.dec.com/pub/DEC/CRL/tech-reports/93.8.ps.Z">CRL 
  Technical Report</A>.<P>


<H2>Servers</H2>
  
  This distribution of AF includes server support for Digital Alpha AXP 
  systems running OSF/1, Digital RISC systems running Ultrix, SGI Indigo 
  systems running IRX 4.0.5, and Sun Microsystems SPARCstations running 
  SunOS 4.1.1 and 4.1.3.  The servers support audio hardware ranging from 
  the built-in CODEC audio on SPARCstations and Personal DECstations to 48 
  KHz stereo audio using the DECaudio TURBOchannel module.  In addition, 
  server support is present for telephone access devices such as DECaudio. 
  <P>
  
  This lists all known audio hardware systems that AF has been modified to 
  support. <P>
  
<DL>
<DT>OSF/1 for Alpha
<DD>
	  <UL>
	  <LI><I>Aaxp</I> manages the 
		  <A HREF="#Device">base-board audio hardware on Alpha workstations.</A>
	  <LI><I>Amsb</I> manages the <A HREF="#Device">Microsoft Sound Board
		   audio hardware on an Alpha PC.</A>
	  <LI><I>Aj300</I> manages the J300 Sound and Motion
		TURBOchannel audio hardware.
	  <LI><I>Alofi</I> manages the <A HREF="#Device">LoFi/DECaudio 
		  TURBOchannel audio hardware.</A>
	  <LI><I>Ajv</I> manages the J-Video <emph>prototype</emph>
		TURBOchannel audio hardware.
	  </UL>
<DT>Ultrix/RISC
<DD>
	  <UL>
	  <LI><I>Alofi</I> manages the <A HREF="#Device">LoFi/DECaudio
		   TURBOchannel audio hardware.</A>
	  <LI><I>Amaxine</I> manages the <A HREF="#Device">base-board audio hardware on Personal 
		  DECstations.</A>
	  <LI><I>Ajv</I> manages the J-Video <emph>prototype</emph> 
		TURBOchannel audio hardware.
	  </UL>
<DT>SGI Irix
<DD>
	  <UL>
	  <LI><I>Asgi</I> manages the audio hardware on Indigo.
	  </UL>
<DT>SunOS
<DD>
	  <UL>
	  <LI><I>Asparc</I> manages the base-board audio hardware on Sparcstations.
	  <LI>SparcStation 10 dda support coming soon.
	  </UL>
</DL>
  
  It should be possible to add support to AF for other Unix workstations 
  with audio hardware. <P>
  
<H2>API</H2>
  
  The distribution includes C language bindings to the protocol that make 
  it easy to write distributed audio applications.<P>
  
<H2>Clients</H2>
  
  This distribution includes a number of core applications for recording, 
  playback, telephone control, device control, and access control. <P>
  
<H2>"Contrib" Clients</H2>
  
  The distribution includes a number of contributed applications including 
  an audio file browser, an FFT spectrogram display, and multicast network 
  audio service.<P>
  
<H1><A NAME="New">What is new in this Release?</A></H1>
  
<UL>

<LI>The core distribution uses a less restrictive copyright similar to the 
  terms in the MIT X Window System copyright.

<LI><b>To build this release of AF, you must use a compiler that supports 
  function prototypes</b>.  AF3R1 no longer includes the 
  <CODE>NeedFunctionPrototypes</CODE> macro to conditionally remove 
  prototypes during compilation.
  
<LI>Includes all known bug fixes (thanks to all of you who reported 
  problems and/or provided fixes) including several that were not provided 
  as patches to AF2R2.
  
<LI>New protocol revision.
  
<LI>Uses our official AF TCP port number.
  
<LI>Includes a few new clients, including tkPlay, a Tk based simple GUI to 
  aplay which is a good candidate for your Mosaic showaudio command.
  
<LI>Includes automatic datatype conversion via an encoding type attribute 
  on a per AC basis.  Supports most simple datatypes as well as some 
  compressed formats (IMA, GSM, etc.)  See the aplay source as an example 
  of a client using this feature.

<LI>Includes a sampling rate and sample format conversion client and 
  supporting library code.  See aconvert in the contrib hierarchy.
  
<LI>Includes a few higher level interfaces in AFlib supporting file I/O 
  using Sox (Tektronix).

<LI>Hypertext documentation suitable for viewing with Mosaic.
  
<LI>Server support for the Microsoft Sound Board on the Alpha PC.

<LI>Server support for the J300 Sound and Motion board on Alpha workstations.
  
<LI>Server support for SGI Indigo courtesy of Guido van Rossum, CWI.
  
<LI>Includes extension code courtesy of Wes Whitnah, Tektronix.
  
<LI>This kit defaults to installing into the /usr/local hierarchy.  Should 
    enable most sites to simply unpack the kit and perform the <I>make 
    World</I> step.

<LI>There is Sparc 10 AF support, however we do not yet have the sources. 
  Watch the mailing list for details.
  
<LI>No doubt I have left things off this list...

</UL>

<HR>
  
<H1><A NAME="Installation">Installation Overview</A></H1>
  
  The remainder of this document contains information and instructions for 
  use in building and installing this release in your local environment. 
  The information in this document assumes that you have already created a 
  local audio hierarchy by unpacking the source kit and following the steps 
  in <A HREF="../README-V3"><I>README-V3</I></A>. <P>
  
  The software in this release is divided into two distributions: one for 
  the <I>core</I> server and library software (located in the directory 
  tree <I>./AF</I>) and one for device drivers (located in the directory 
  tree <I>./devices</I>.) You will need roughly 6 Megabytes to hold the 
  software kit and an additional 8 Megabytes for building the release. <P>
  
<H1><A NAME="Building">Building and Installing the Release</A></H1>
  
  Steps to build this release include customizing the build rules according 
  to directory conventions at your local site followed by a few <I>make</I> 
  build commands. This section contains the directions for the steps to 
  modify the build rules then build and install this release. <P>
  
  The AF kit has been successfully built and tested on Ultrix/RISC 4.2, 
  4.2a, and 4.3 systems, DEC OSF/1 Alpha V1.2, V1.3, and 2.0 systems, as 
  well as IRIX 4.0.5 and SunOS 4.1.3 systems. Please consult the <A 
  HREF="#Errata"><I>Errata</I></A> section (below) for a description of 
  known build issues with this release. <P>
  
  Almost all <I>Makefiles</I> in the core software hierarchy are generated 
  automatically by a utility called <I>imake</I>. The program combines 
  machine-independent descriptions (called <I>Imakefiles</I>) of targets to 
  be built with machine-dependent sets of parameters. Initial versions of 
  all of the <I>Makefiles</I> are included. <P>
  
  Another utility, called <I>makedepend</I>, is used to generate 
  <I>Makefile</I> dependencies for C language files. <P>
  
  Sample <I>Makefiles</I> are provided, although you are strongly urged to 
  use <I>imake</I> and <I>makedepend</I> so that your software works across 
  releases. For your own applications, the <I>amkmf</I> script in 
  <I>AF/util/scripts</I> can be used to build a <I>Makefile</I> from an 
  <I>Imakefile</I> once the core has been built and installed.
  
<A NAME="Configuring"><H2>Configuring the AF Release</H2></A>
  
<DL> 
<DD><b> As you follow these instructions, replace each occurrence of 
<I>&lt;audio_root&gt;</I> with the pathname to the root of the newly created 
  hierarchy and replace each occurrence of <I>&lt;build_root&gt;</I> with 
  the pathname to the root of the corresponding architecture dependent 
  symbolic link tree. If you do not create architecture dependent symbolic 
  link trees, then <I>&lt;audio_root&gt;</I> and 
<I>&lt;build_root&gt;</I> are interchangeable.</b>
</DD> 
</DL>
<P>
  
  The configuration files for <I>imake</I> are located in the directory 
  <I>./AF/config</I>.  <I>Makefiles</I> are created from a template file 
  named <I>Imake.tmpl</I>, a machine-specific <I>.cf</I> file, and a 
  site-specific <I>site.def</I> file.  With only a few exceptions, 
  configuration parameters are <I>cpp</I> symbols that may be defined on a 
  per-server basis or for all servers in a given site.  The template file 
  should <I>not</I> be modified. <P>
  
  Site-specific configurations should be described in the file 
  <I>site.def</I> using the following syntax:<P>

<DL>
<DD>
<pre>
  #ifndef <I>BuildParameter</I>
  #define <I>BuildParameter</I> <I>site-specific-value</I>
  #endif
</pre>
</DD>
</DL>
<P>
  
  
  The default parameters used by <A 
  HREF="../AF/config/site.def"><I>./AF/config/site.def</I></A> are:<P>
  
<DL>

<DT><I>BinDir</I>
<DD>This is the installation directory for binary programs.

<DT><I>ManDirectoryRoot</I>
<DD>This is used to specify the location where manual pages are to be
  installed.
  The man pages will be installed in the <I>man{1-8}</I>
  subdirectories of MANDIR.

<DT><I>UsrLibDir</I>
<DD>This is the installation directory for libraries.

<DT><I>IncRoot</I>
<DD>Header files will be installed in this location.

</DL>
<P>
  
  The default locations in site.def for AF3 have been changed and now use 
  /usr/local/ which tends to be the most common installation location. We 
  have included site.def.crl if you wish to use the same default 
  installation target directories that were used in AF2R2.<P>

  As shipped, the configuration files will cause each server supported on a 
  given operating system to be built.  If you wish to limit the build to a 
  smaller set of servers, you need to customize the appropriate platform 
  configuration file,<P>
  
<UL>
<LI><I><A HREF="../AF/config/ultrix.cf">./AF/config/ultrix.cf</I></A>
<LI><I><A HREF="../AF/config/osf.cf">./AF/config/osf.cf</I></A>
<LI><I><A HREF="../AF/config/sun.cf">./AF/config/sun.cf</I></A>
<LI><I><A HREF="../AF/config/sgi.cf">./AF/config/sgi.cf</I></A>
</UL>

  and undefine the unwanted servers. <P>


<H3>Building for Debugging</H3>

  If you wish to build the release with debugging options turned on,
  you will need to modify the appropriate <I>.cf</I> file for your system.
  You might choose to define the following,<P>
   <DT>
   <DD>#define ServerCDebugFlags -g<P>
   <DD>#define DefaultCDebugFlags -g<P>
  </DT>
  
  Alternatively, you can define <I>CDEBUGFLAGS</I> in any individual 
  Imakefile to enable debugging for specific pieces of the AF 
  distribution.<P>

<H2>Ultrix/RISC Specific Information</H2>
 
  We ship the configuration file for Ultrix/RISC, 
  <A HREF="../AF/config/ultrix.cf"><I>ultrix.cf</I></A>, with the DECnet 
  library specified as an extra library. If you do not have DECnet 
  installed, simply comment out this line in the configuration file. It is 
  only necessary to include this library as an extra library, in general, 
  if your X libraries were built with DECnet support included.<P>
  
<DL>
<DD>
<PRE>
  #define ExtraLibraries -ldnet
</PRE>
</DL>
<P>

 If you plan to use Ultrix 4.3a or later, you should include <I>-oldc</I> 
 as a switch for <I>DefaultCCOptions</I> definition in the <A 
 HREF="../AF/config/ultrix.cf"><I>ultrix.cf</I></A> file. AF does not build 
 properly when using the newest Ultrix/RISC compiler shipped with 4.3a and 
 later.<P>
  
<H2>SunOS Specific Information</H2>
  
  For properly installing and using the SPARC portion of the AF release you 
  must be sure to have installed the supplied audio driver and environment 
  that comes with SunOS 4.1.1 or later. Follow the instructions there for 
  getting that low level support in place. Once this is done you can then 
  follow the directions supplied with AF in both the README-V3 document and 
  this document with the following additional comments:<P>
  
  
  
<OL>

<LI>
  It is necessary to install /usr/demo/SOUND supplied with SunOS 4.1.x.<P>

<LI>You will need to use a compiler that supports function prototypes, for 
    example gcc. You can get a gcc kit from<A 
    HREF="http://gatekeeper.dec.com/pub/GNU/"> gatekeeper.dec.com</A> but 
    consider other GNU mirror sites that might be "closer" or you can go to 
    the source at <A 
    HREF="ftp://prep.ai.mit.edu/pub/gnu/">prep.ai.mit.edu:/pub/gnu</A>.<P>

<LI>
  Edit Makefile.ini .  Comment out the first BOOTSTRAPCFLAGS line by placing 
  a '#' as the first character of the line. Remove the '#' from the second 
  BOOTSTRAPCFLAGS line and delete everything past the '=' sign, leaving<P>
<DL>
<DD>
  BOOTSTRAPCFLAGS =
</DL>

<LI>
  Edit site.def.  Because AFR3 will not compile with the native Sun 
  compiler, you must use GNU or some other ANSI-compliant compiler.  Here are 
  the lines to add after the "SET THESE PARAMETERS FIRST" comment for GNU 
  (version 2.4.5):
<DL>
<DD>
	#define HasGcc  YES
<DD>
	#define CcCmd   gcc -DNOSTDHDRS -fstrength-reduce -fpcc-struct-return
</DL>

</OL>
  
<H2>Installation Summary</H2>
  
  There are several <I>Makefile</I> targets that are generally implemented. 
  These targets are,<P>
  
<DL>
  
<DT><I>Makefile</I>
<DD>This causes the Makefile in the current directory to be
  rebuilt from its Imakefile source.
  
<DT><I>Makefiles</I>
<DD>This causes all Makefile targets in the hierarchy to be rebuilt from
  their Imakefile sources.
  
<DT><I>clean</I>
<DD>Building this target causes all temporary and derived files to be removed.
  
<DT><I>depend</I>
<DD>Will build the dependency rules using the makedepend utility.
  This target is generally implemented in the <I>./AF</I> area only.
  
<DT><I>all</I>
<DD><I>make all</I> will build the defined targets in the current hierarchy.
  
<DT><I>install</I>
<DD><I>make install</I> will install the defined targets in the current hierarchy.
  
<DT><I>install.man</I>
<DD><I>make install.man</I> will install the defined manual pages
  in the current hierarchy.

</DL>
<P>
  
  For example, a <I>make clean</I> will perform the clean target action in 
  the current directory and all subdirectories defined by the existing 
  Makefiles. <P>
  
<HR>

<H2>Detailed Build Steps</H2>
  
  To install this release of the AF System, you will need to:<P>

<OL>
<LI>
  Finish reading these Release Notes, then return to step 2.
<P>
  
<LI> If you plan to compile the release on more than one machine and have a 
  distributed file system, you may wish to use the script 
  <I>./AF/util/scripts/lndir.sh</I> to create symbolic link trees on each 
  of the target machines.  This allows all of the platforms on which you 
  wish to run AF to share a single set of sources.  In either case, the 
  phrase <I>build tree</I> will be used to refer to the directory tree in 
  which you are compiling (to distinguish it from the <I>source tree</I> 
  which contains the actual files). <P>
  
<LI> Install device drivers as necessary.  Pointers to the device specific 
  driver setld kits are contained in the release notes <A 
  HREF="#Device">(below.)</A> <P>
  
<LI> Check <I>site.def</I> and modify according to your local site 
  preferences. This file contain the default definitions for <I>BinDir</I>, 
  <I>UsrLibDir</I>, <I>ManDirectory</I>, and <I>IncRoot</I>. These are also 
  the most likely definitions that will require changes for a new 
  installation.<P>
  
<UL>
<LI> BinDir
<LI> UsrLibDir
<LI> ManDirectoryRoot
<LI> IncRoot
</UL>
  
  This step is described in more detail in the section <I>Configuring the 
  Release</I><A HREF="#Configuring">(above.)</A><P>
  
  You might also wish to check the <I>imake</I> configuration parameters in 
  <A HREF="../AF/config/imakemdep.h"><I>./AF/config/imakemdep.h</I></A> and 
  <A HREF="../AF/config/Imake.tmpl"><I>./AF/config/Imake.tmpl</I></A> In 
  general, you will not need to modify these two files. <P>
  
<LI> Extension code is included in this version of AF.  A sample extension
can be configured by adding the following definition to your 
site.def or system configuration (*.cf) file.
<DL>
<DD>
<pre>
#define ExtensionDefines -DAFTIME
</pre>
</DD>
</DL>

<LI> Look at the platform configuration file for your system. There may be 
  a line in it that sets a <I>make</I> variable named 
  <I>BootstrapCFlags</I>. <I>Currently, the configuration files osf.cf, 
  ultrix.cf, sun.cf, and sgi.cf do not set this variable.</I> If you don't 
  find such a variable, you can use the following commands to start the 
  build:<P>
  
<DL>
<DD>
<PRE>
  %  cd &lt;build_root&gt;/AF
  %  make World >& make.world &
</PRE>
</DL>
  
  If you do find the variable, you should append that definition to the make 
  command line, using the <I>make</I> variable BOOTSTRAPCFLAGS. This is used 
  by <I>imake</I> to set particular <I>cpp</I> symbols for all compiles.<P>
  
  This step will rebuild all of the <I>Makefiles</I> and execute a <I>make -k 
  all</I> to compile everything in the core distribution. A World build will 
  take about 10 minutes depending upon system type and file system 
  location.
<P>
  
<LI> When the <I>make</I> is done, check the log file for any problems. 
  There should be no errors. <P>
  
<LI> If you are satisfied that everything has built correctly and you 
  already have existing audio device driver support installed, you may test 
  the various programs (server, atest, atime, aevents, aplay etc.) to 
  verify the operation of the server and device driver. See <A 
  HREF="#Testing"><I>Testing the Release</I></A> (below) for further 
  information. <P>
  
<LI> If you have previously installed an AF release, you might want to make 
  backup copies of your old AF header files, binaries, libraries, etc. <P>
  
<LI> Install the AF targets by,<P>
  
<DL>
<DD>
<PRE>
  #  cd &lt;build_root&gt;/AF
  #  make install >& make.install
</PRE>
</DL>
  
  You will either have to do this as root, or have write access to the 
  appropriate directories.<P>
  
<LI> If you would like to install the manual pages, type the following at 
  the top of the build tree:<P>
  
<DL>
<DD>
<PRE>
  #  cd &lt;build_root&gt;/AF
  #  make install.man
</PRE>
</DL>
  
<LI> Make sure that all AF users have the installed binary directory, 
  <I>BinDir</I>, in their search paths. Also, you may wish to append the 
  installed man page directory to your MANPATH environment variable.<P>
  
</OL>
<P>
  
  Release 3 of Version 1 of the AF System should now be ready to use. <P>
  
<H1><A NAME="Testing">Testing the Release</A></H1>
  
  Start the appropriate AF server in <I>&lt;build_root&gt;/AF/server/</I> 
  according to the one of the following manual pages: <P>
<UL>
<I>
<LI><A HREF="man1/Alofi.html">Alofi.1</A>, 
<LI><A HREF="man1/Aaxp.html">Aaxp.1</A>, 
<LI><A HREF="man1/Amaxine.html">Amaxine.1</A>, 
<LI><A HREF="man1/Aj300.html">Aj300.1</A>, 
<LI><A HREF="man1/Ajv.html">Ajv.1</A>, 
<LI><A HREF="man1/Asparc.html">Asparc.1</A>, 
<LI><A HREF="man1/Asgi.html">Asgi.1</A>, 
<LI><A HREF="man1/Amsb.html">Amsb.1</A>
</I>
</UL>

  Next, try executing some of the AF clients. <P>
  
<DL>
  
<DT><I><A HREF="man1/aevents.html">aevents</A></I>
<DD>Logs all supported events to stdout. (For example, if you have a LoFi, 
  start aevents and call the phone number for the phone line that is 
  connected to the module.)
  
<DT><I><A HREF="man1/ahost.html">ahost</A></I>
<DD>Allows you to control access to your the AF server by other hosts.
  
<DT><I><A HREF="man1/ahs.html">ahs</A></I>
<DD>Hookswitch control client for LoFi.
  
<DT><I><A HREF="man1/alsatoms.html">alsatoms</A></I>
<DD>This client lists the interned atoms.
  
<DT><I><A HREF="man1/apass.html">apass</A></I>
<DD>An example client that communicates with two AF servers and manages the 
  time jitter in the audio devices. This client reads samples from the 
  input audio server and writes them to the output server with a specified 
  delay between input and output.
  
<DT><I><A HREF="man1/aphone.html">aphone</A></I>
<DD>A simple phone dialing application for LoFi.
  
<DT><I><A HREF="man1/aplay.html">aplay</A></I>
<DD>A play sound file client. There are a few example sound clips in 
<I>&lt;audio_root&gt;/sound_files</I>.
  
<DT><I><A HREF="man1/aprop.html">aprop</A></I>
<DD>Displays properties in an AF server.
  
<DT><I><A HREF="man1/arecord.html">arecord</A></I>
<DD>Records audio samples from an audio device.
  
<DT><I><A HREF="man1/aset.html">aset</A></I>
<DD>Sets and queries various audio devices settings in a server.
  
</DL>
  
  
<H1><A NAME="Contrib">Contrib</A></H1>
  
  We include some additional AF clients in the <I>./AF/contrib/clients</I> 
  hierarchy. Clients in this hierarchy may depend upon some external piece 
  of software.  For example, some clients use the Tcl/Tk X toolkit 
  developed by John Ousterhout at Berkeley. <P>
  
  The Tcl/Tk distribution is available via Internet anonymous FTP from <A 
  HREF="file://ftp.cs.berkeley.edu/ucb/tcl"> 
  <address>ftp.cs.berkeley.edu:/ucb/tcl</address></A> <P>
  
  The 7.2/3.5 distribution of Tcl/Tk has been tested on Ultrix/RISC and 
  Alpha/OSF. We recommend that you retrieve and install this software to 
  gain access to several other example AF client applications. <P>
  
  The following are CRL provided client applications that are located in 
  the <I>./AF/contrib/clients</I> hierarchy. These clients are not built by 
  default. <P>
  
<DL>
  
<DT><I><A HREF="man1/abrowse.html">abrowse</A></I>
<DD>A Tk based sound file directory browser application. 
  
<DT><I><A HREF="man1/aconvert.html">aconvert</A></I>
<DD>A sample rate and sample format conversion utility.  Also, see
  the libaconvert.a library in the contrib hierarchy.
  
<DT><I><A HREF="man1/adial.html">adial</A></I>
<DD>A Tk based phone dialer for LoFI.
  
<DT><I><A HREF="man1/afft.html">afft</A></I>
<DD>Real-time FFT displayer.  Based on Tk.
  
<DT><I><A HREF="man1/afxctl.html">afxctl</A></I>
<DD>Controls the inputs and outputs and gain of the audio devices in the server.
  Also logs AF  events.
  
<DT><I><A HREF="man1/atest.html">atest</A></I>
<DD>Sends NoOp protocol requests to the server and logs that fact to stdout.
  
<DT><I><A HREF="man1/atime.html">atime</A></I>
<DD>Requests an audio device time and logs the time to stdout.
  
<DT><I><A HREF="man1/axset.html">axset</A></I>
<DD>A Tk based audio device control panel.
  Similar functions as supported by afxctl.
  
<DT><I><A HREF="man1/radio.html">radio</A></I>
<DD>Contains a program to multi-cast an audio source and the companion
  program to listen to the multi-cast source. 
  
<DT><I><A HREF="man1/tkPlay.html">tkPlay</A></I>
<DD>A Tk based GUI to aplay.  Preferred usage is as the "showaudio" equivalent
  for browsing the WWW.
  
<DT><I><A HREF="man1/xplay.html">xplay</A></I>
<DD>A Motif based audio sound file browser.
  
<DT><I><A HREF="man1/xpow.html">xpow</A></I>
<DD>Displays the power level of the recorded audio on the specified audio
  device.
  
</DL>
  
<H2>Building Contrib</H2>
  
  The simplest way to build the contrib tree is to type the following 
  commands, <P>
  
<DL>
<DD>
<PRE>
  % cd &lt;build_root&gt;/AF/contrib
  % make Makefile Makefiles clean depend all
</PRE>
</DL>
  and as root,
<P>
<DL>
<DD>
<PRE>
  # cd &lt;build_root&gt;/AF/contrib
  # make install install.man
</PRE>
</DL>
  
  
  This sequence will build the library and clients in the contrib 
  hierarchy before installing all appropiate targets. <P>
  
  If you do not have some of the external dependencies installed, you may 
  have to be more selective about how you build the contrib clients. <P>
  
<HR>

<H1><A NAME="Device">Device Driver Information</A></H1>
  
   <P>We provide device driver kits for DEC OSF/1 Alpha AXP workstation 
   base board audio , LoFi, and Personal DECstation base board audio 
   devices. These kits are in <I>setld</I> format. <P>

<H2>Alpha Base-Board Audio Device (/dev/streams/bba)</H2>
  
   The audio server for the Alpha AXP workstations are dependent upon the 
   bba audio device driver. Information on how to install the device driver 
   for the base board audio can be found in: <P>
  
<DL>
<DT>OSF/1 Alpha
<DD><A HREF="../devices/axp/driver/README">&lt;audio_root&gt;/devices/axp/driver/README</A>
<P>
</DL>
  
<b>The <I>bba</I> driver in this AF kit is for OSF/1 Alpha workstations 
  running V1.2 (the first official external release) only.</b> If you are 
  running V1.3 or later, you merely need to add the appropriate bba 
  configuration line to you systems config file.  The bba driver is already 
  included in the base system on V1.3.  <b>Do not install the driver from the 
  AF kit if your are running OSF/1 V1.3 or later.</b><P>
  
<H2>Alpha (Jensen) Microsoft Sound Card (/dev/msb)</H2>
  
   The audio server for the Microsoft Sound Card (Alpha PCs) are dependent 
   upon the msb audio device driver. Information on how to install the 
   device driver for the msb audio can be found in: <P>
  
<DL>
<DT>OSF/1 Alpha
<DD><A HREF="../devices/axp150/msb/README.msb">&lt;audio_root&gt;/devices/axp150/msb/README.msb</A>
<P>
</DL>

   <B>If you have already installed the msb driver shipped with the Beta 
   test version of AF3R1 then you must deinstall the field test driver and 
   install the version shipped with this kit. Otherwise you may notice
   system hangs.</B>
  
<H2>LoFi (DECaudio) TURBOchannel Audio Device (/dev/lofi) </H2>

  Information on how to install the device driver for
  LoFi (a.k.a. DECaudio) can be found in:<P>
  
<DL>
  
<DT>Ultrix/RISC
<DD><A HREF="../devices/lofi/driver/mips.src/lofi.man">&lt;audio_root&gt;/devices/lofi/driver/mips.src/lofi.4</A>
<P>
<DT>OSF/1 Alpha
<DD><A HREF="../devices/lofi/driver/alpha.src/README">&lt;audio_root&gt;/devices/lofi/driver/alpha.src/README</A><P>
<A HREF="../devices/lofi/driver/alpha.src/lofi.man">&lt;audio_root&gt;/devices/lofi/driver/alpha.src/lofi.7</A><P>
</DL>
<P>
  
<H2>Personal DECstation Base-Board Audio Device (/dev/bba)</H2>

  The audio server for the Personal DECstation audio device is dependent 
  upon the <I>/dev/bba</I> device driver. Information on how to install the 
  device driver for the Personal DECstation audio can be found in: <P>
  
<DL>
<DT>Ultrix/RISC
<DD><A HREF="../devices/maxine/driver/mips.src/bba.man">&lt;audio_root&gt;/devices/maxine/driver/mips.src/bba.4</A>
<P>
</DL>
  
<HR>
  
<H1><A NAME="DSP">DSP Port Devices</A></H1>
  
  The LoFi audio device has an external <I>DSP</I> port compatible with the 
  DSP port on NeXT computers. We have done some minimal testing of our LoFi 
  server with the following DSP port devices:<P>
  
<UL>
<LI>Ariel Pro-Port (Model 656)
<LI>Ariel Digital Microphone (DM-N)
<LI>Applied Speech Technologies AST A/D16
</UL>
  
<HR>

<H1><A NAME="Errata">Errata for this Release</A></H1>
  
<DL>
<DT>Protocol Change
<DD>Now at AF Version 3 Release 1.
  
<DT>Multiple Devices
<DD>A single server does not yet support more than one physical device 
  (e.g., LoFi) in the same machine. Much of the structure to support this 
  is there, but some work must still be done. It is possible to run 
  multiple servers on a single host, however, thus allowing clients to 
  access multiple LoFi devices on a given machine.<P>
  
<DT>setld
<DD>If you need to install a device driver from this kit, be sure to invoke 
  the <I>setld</I> command from the source tree and not the corresponding 
  symbolic link tree (if it exists).  <I>setld</I> will not succeed if you 
  invoke it from the link tree.<P>
  
<DT>DSP56K
<DD>We do not provide the DSP tools in this distribution. If you wish to do 
  development of DSP56001 code on LoFi, contact Motorola or any other 
  manufacturer of code development software for the DSP56001 processor. The 
  source files for the DSP56001 used by the LoFi and J-Video server are 
  included. The audio servers expect to read the <I>lod</I> file format 
  images.<P>
  
</DL>
  
<H1><A NAME="Future">Future Work</A></H1>
  
  Right now, the various audio channels supported by a server are 
  assigned integer device numbers in approximately random order.  There 
  should be a more symbolic way to talk about "the local loudspeaker" or "the 
  telephone". <P>
  
  It should be possible to reconfigure the DSP port interface on DECaudio 
  dynamically, rather than only at server initialization time. <P>
  
  Right now we have separate servers for each audio device on a particular 
  machine.  A single server should be able to support all configured devices. 
  A single server should be able to support multiple devices of the same kind 
  as well.  This is not a design issue, just implementation. <P>
  
  On Alpha/OSF we should be able to dynamically link to the POSIX real-time 
  library and use it to good advantage.<P>
  
<H1><A NAME="Acknowledgements">Acknowledgements</A></H1>
  
  If you retrieved and installed the companion AF kit, 
  <I>AF2R2-other.tar</I>, you will have a few sample Hi-Fi sound files in 
  <I>&lt;audio_root&gt;/sound_files/xan*</I>. The audio examples are excerpts 
  from the piece <I>Xanadu</I> by Joseph T. Kung.  It was realized using 
  Barry Vercoe's Csound during a computer music course run by Prof. Vercoe 
  at the MIT Media Lab's Music and Cognition Group in December 1988. The 
  companion kit contains 16, 44.1, and 48 KHz  versions of <I>Xanadu</I>.<P>
  
  Guido van Rossum contributed device dependent code for SGI Indigo. <P>
  
  Wes Whitnah contributed extension code, AFsox library,
  and <I>several</I> bug fixes.<P>
  
<H1><A NAME="Mailing">Mailing Lists</A></H1>
  
  We have established a mailing list, <I>af@crl.dec.com</I>, for general 
  discussions about AF. To be added to or removed from this mailing list, 
  please send mail to, <I>af-request@crl.dec.com</I><P>
  
  You may report problems with the AF software by sending mail to 
  <I>af-bugs@crl.dec.com</I>.  Please be specific as possible when 
  describing the problem and include source code for a small test case if 
  possible.  Also, state your current patch revision (as found in
  <I>./patchlevel.h</I>). <P>
  
<H1><A NAME="ProductInformation">Product Information</A></H1>

You can obtain information on Digital's products through the <A 
HREF="http://gatekeeper.dec.com/archive/pub/DEC/DECinfo/html/home.html"> 
Digital Information W3 server</A>.

<H1><A NAME="Summary">Summary</A></H1>
  
  We hope you enjoy this AF release. <P>

<HR>
See <A HREF="../COPYRIGHTS">this file</A> for Copyright information.<P>
<ADDRESS>af-bugs@crl.dec.com</ADDRESS>
</BODY>
</HTML>

