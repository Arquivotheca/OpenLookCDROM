<HEAD>
<TITLE>man3/AFFlush.3</TITLE>
</HEAD>
<BODY>
<H1></H1>
<PRE>



<A HREF="../man3/AFFlush.html">AFFlush(3)</A>							   <A HREF="../man3/AFFlush.html">AFFlush(3)</A>



NAME
  <B>AFFlush,</B> <B>AFSync,</B> <B>AFEventsQueued,</B> <B>AFPending</B> - handle output buffer or event
  queue

SYNTAX
  <B>#include</B> <B>&lt;AF/AFlib.h&gt;</B>

  void <B>AFFlush</B>(AFAudioConn *<I>aud</I>)

  void <B>AFSync</B>(AFAudioConn *<I>aud</I>,	ABool <I>discard</I>)

  int <B>AFEventsQueued</B> (AFAudioConn *<I>aud</I>,	int <I>mode</I>)

  int <B>AFPending</B>	(AFAudioConn *<I>aud</I>)

ARGUMENTS

  <I>discard</I>   Specifies a	boolean	value that indicates whether <I>AFSync</I> discards
	    all	events on the event queue.

  <I>aud</I>	    Specifies the connection to	the AF server.

  <I>mode</I>	    Specifies the mode.	 You can pass <I>QueuedAlready</I>, <I>QueuedAfter-</I>
	    <I>Flush</I>, or <I>QueuedAfterReading</I>.

DESCRIPTION
  The <I>AFFlush</I> function flushes the output buffer.  Most	client applications
  need not use this function because the output	buffer is automatically
  flushed as needed by calls to	<I>AFPending</I> and <I>AFNextEvent</I>. Events generated
  by the server	may be enqueued	into the library's event queue.

  The <I>AFSync</I> function flushes the output buffer	and then waits until all
  requests have	been received and processed by the AF server.  Any errors
  generated must be handled by the error handler.  For each error event
  received by AFlib, <I>AFSync</I> calls the client application's error handling
  routine.  Any	events generated by the	server are enqueued into the
  library's event queue.

  If <I>discard</I> is	passed <I>False</I>, <I>AFSync</I> does not discard the events in the
  queue.  If you passed	<I>True</I>, <I>AFSync</I> discards all events in the	queue,
  including those events that were on the queue	before <I>AFSync</I> was called.
  Client applications seldom need to call <I>AFSync</I>.

  If mode is <I>QueuedAlready</I>, <I>AFEventsQueued</I> returns the number of events
  already in the event queue (and never	performs a system call).  If mode is
  <I>QueuedAfterFlush</I>, <I>AFEventsQueued</I> returns the number of events	already	in
  the queue if the number is nonzero.  If there	are no events in the queue,
  <I>AFEventsQueued</I> flushes the output buffer, attempts to	read more events out
  of the application's connection, and returns the number read.	 If mode is
  <I>QueuedAfterReading</I>, <I>AFEventsQueued</I> returns the number	of events already in
  the queue if the number is nonzero. If there are no events in	the queue,
  <I>AFEventsQueued</I> attempts to read more events out of the application's con-
  nection without flushing the output buffer and returns the number read.

  <I>AFEventsQueued</I> always	returns	immediately without I/O	if there are events
  already in the queue.	 <I>AFEventsQueued</I>	with mode <I>QueuedAfterFlush</I> is identi-
  cal in behavior to <I>AFPending</I>.	 <I>AFEventsQueued</I>	with mode <I>QueuedAlready</I>	is
  identical to the <I>AFQLength</I> function.

  The <I>AFPending</I>	function returns the number of events that have	been received
  from the AF server but have not been removed from the	event queue.  <I>AFPend-</I>
  <I>ing</I> is identical to <I>AFEventsQueued</I> with the mode <I>QueuedAfterFlush</I> speci-
  fied.

SEE ALSO
  <A HREF="../man3/AFIfEvent.html">AFIfEvent(3)</A>,	<A HREF="../man3/AFNextEvent.html">AFNextEvent(3)</A>


BUGS
  If you encounter a <B>reproducible</B> bug, please submit a problem report to
  (af-bugs@crl.dec.com).

COPYRIGHT
  Copyright 1990-1994, Digital Equipment Corporation.
  See <I>AF</I>(<I>1</I>) for	a full statement of rights and permissions.

AUTHORS
  Digital Cambridge Research Lab



</PRE>
</BODY>
