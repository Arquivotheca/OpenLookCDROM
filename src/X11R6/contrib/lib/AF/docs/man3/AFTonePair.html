<HEAD>
<TITLE>man3/AFTonePair.3</TITLE>
</HEAD>
<BODY>
<H1></H1>
<PRE>



<A HREF="../man3/AFTonePair.html">AFTonePair(3)</A>							<A HREF="../man3/AFTonePair.html">AFTonePair(3)</A>



NAME
  <B>AFTonePair</B> - generate	a ULAW tone pair

SYNTAX
  <B>#include</B> <B>&lt;AF/AFUtils.h&gt;</B>

  extern void <B>AFTonePair</B>(double	<I>f1</I>, double <I>dBgain1</I>,
					  double <I>f2</I>, double <I>dBgain2</I>,
					  int <I>gainramp</I>,
					  unsigned char	*<I>buffer</I>, int <I>length</I>);

DESCRIPTION
  <I>AFTonePair</I> is	a subroutine which is suitable for generating ringback,	busy,
  dialtones, and other telecommunications sounds represented by	pairs of
  tones	at given frequencies and power levels.

ARGUMENTS

  <I>f1</I>   are the frequencies of the two tones.  The sample rate is known to be
       8000 Hz,	so the tone frequencies	must be	in the range 0-4000Hz.

  <I>dBgain1</I>
       are the power levels of the two tones.  These are values	relative to
       "0 dBm" or the digital milliwatt, which in turn is defined to be	3.16
       dB below	the digital clipping level, where signals distort.

  <I>gainramp</I>
       is the number of	samples	over which the tones reach their full ampli-
       tude.  At the beginning of the block, the signal	will ramp linearly up
       to full power over so many samples.  This tends to make the signals
       sound cleaner and reduces frequency splatter.  At the end of the
       block, the signals will ramp down to silence over the same period.

  <I>buffer</I>
       is a pointer to the signal buffer that will be filled in	by
       AFTonePair.

  <I>length</I>
       is the length of	the block desired.

EXAMPLES
  Typical usage	is:

  unsigned char	busytone[4000];
  /* fill block	with 1/2 second	of a busy signal */
  AFTonePair(480.0, -12.0, 620.0, -12.0, 24, busytone, 4000);
  /* the parameters for	other tones are:
   *  ringing  440, -19, 480, -19
   *  busy     480, -12, 620, -12
   *  dialtone 350, -13, 440, -13
   */


SEE ALSO
  <A HREF="../man3/AFDialPhone.html">AFDialPhone(3)</A>



BUGS
  If you encounter a <B>reproducible</B> bug, please submit a problem report to
  (af-bugs@crl.dec.com).

COPYRIGHT
  Copyright 1990-1994, Digital Equipment Corporation.
  See <I>AF</I>(<I>1</I>) for	a full statement of rights and permissions.

AUTHORS
  Larry	Stewart, Digital Cambridge Research Lab



</PRE>
</BODY>
